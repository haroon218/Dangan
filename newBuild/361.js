"use strict";(self.webpackChunkPayrollClient=self.webpackChunkPayrollClient||[]).push([[361],{2361:(cr,ie,u)=>{u.r(ie),u.d(ie,{ComponentsModule:()=>rr});var g=u(6814),l=u(6223),k=u(9862),N=u(8525),h=u(7700),v=u(1476),I=u(5986),A=u(2296),D=u(2032),x=u(3566),E=u(1274),_e=u(5195),K=u(9038),e=u(5879);let be=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({})}return i})();var xe=u(8484),C=u(3680),T=u(6825);let Ce=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[g.ez,C.BQ,be,xe.eL]})}return i})();var b=u(9157),y=u(1896),J=u(6186),q=u(5748);function ye(i,r){1&i&&(e.TgZ(0,"div",17),e._UZ(1,"div",18),e.qZA())}let ve=(()=>{class i{constructor(t){this.AdminDataServicesService=t,this.loading=!1,this.status1Count=0,this.status2Count=0,this.totalusers=0,this.totalOrg=0}fetchusers(){this.AdminDataServicesService.getUserCount().subscribe(t=>{this.totalusers=t})}fetchpending(){this.AdminDataServicesService.getTimeSheet().subscribe(t=>{this.status1Count=t.status1Count,this.status2Count=t.status2Count})}fetchOrganizations(){this.AdminDataServicesService.getOrganizationsLength().subscribe(t=>{this.totalOrg=t})}startAnimationForLineChart(t){let o,n,a;o=0,n=80,a=500,t.on("draw",function(s){"line"===s.type||"area"===s.type?s.element.animate({d:{begin:600,dur:700,from:s.path.clone().scale(1,0).translate(0,s.chartRect.height()).stringify(),to:s.path.clone().stringify(),easing:J.Svg.Easing.easeOutQuint}}):"point"===s.type&&(o++,s.element.animate({opacity:{begin:80*o,dur:500,from:0,to:1,easing:"ease"}}))}),o=0}startAnimationForBarChart(t){let o,n,a;o=0,n=80,a=500,t.on("draw",function(s){"bar"===s.type&&(o++,s.element.animate({opacity:{begin:80*o,dur:500,from:0,to:1,easing:"ease"}}))}),o=0}ngOnInit(){this.fetchusers(),this.fetchpending(),this.fetchOrganizations(),this.loading=!1;const o={lineSmooth:J.Interpolation.cardinal({tension:0}),low:0,high:50,chartPadding:{top:0,right:0,bottom:0,left:0}};var n=new J.Line("#dailySalesChart",{labels:["M","T","W","T","F","S","S"],series:[[12,17,7,17,23,18,38]]},o);this.startAnimationForLineChart(n);const s={lineSmooth:J.Interpolation.cardinal({tension:0}),low:0,high:1e3,chartPadding:{top:0,right:0,bottom:0,left:0}};var m=new J.Line("#completedTasksChart",{labels:["12p","3p","6p","9p","12p","3a","6a","9a"],series:[[230,750,450,300,280,240,200,190]]},s);this.startAnimationForLineChart(m);var oe=new J.Bar("#websiteViewsChart",{labels:["J","F","M","A","M","J","J","A","S","O","N","D"],series:[[542,443,320,780,553,453,326,434,568,610,756,895]]},{axisX:{showGrid:!1},low:0,high:1e3,chartPadding:{top:0,right:5,bottom:0,left:0}},[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(lr){return lr[0]}}}]]);this.startAnimationForBarChart(oe)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(q.x))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-dashboard"]],decls:63,vars:5,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-warning","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-category"],[1,"card-title"],[1,"card-footer",2,"margin-top","23px"],[1,"stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-header","card-header-danger","card-header-icon"],[1,"card-header","card-header-info","card-header-icon"],[1,"fa","fa-twitter"],[1,"overlay"],[1,"loader"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ye,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"i",8),e._uU(9,"person"),e.qZA()(),e.TgZ(10,"p",9),e._uU(11,"Total Users"),e.qZA(),e.TgZ(12,"h3",10),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"div",12)(16,"i",8),e._uU(17,"update"),e.qZA(),e._uU(18," Just Updated "),e.qZA()()()(),e.TgZ(19,"div",4)(20,"div",5)(21,"div",13)(22,"div",7)(23,"i",8),e._uU(24,"library_books"),e.qZA()(),e.TgZ(25,"p",9),e._uU(26,"Total Organizations"),e.qZA(),e.TgZ(27,"h3",10),e._uU(28),e.qZA()(),e.TgZ(29,"div",11)(30,"div",12)(31,"i",8),e._uU(32,"update"),e.qZA(),e._uU(33," Just Updated "),e.qZA()()()(),e.TgZ(34,"div",4)(35,"div",5)(36,"div",14)(37,"div",7)(38,"i",8),e._uU(39,"info_outline"),e.qZA()(),e.TgZ(40,"p",9),e._uU(41,"Pending Timesheets"),e.qZA(),e.TgZ(42,"h3",10),e._uU(43),e.qZA()(),e.TgZ(44,"div",11)(45,"div",12)(46,"i",8),e._uU(47,"update"),e.qZA(),e._uU(48," Just Updated "),e.qZA()()()(),e.TgZ(49,"div",4)(50,"div",5)(51,"div",15)(52,"div",7),e._UZ(53,"i",16),e.qZA(),e.TgZ(54,"p",9),e._uU(55,"Timesheets for Client Approval"),e.qZA(),e.TgZ(56,"h3",10),e._uU(57),e.qZA()(),e.TgZ(58,"div",11)(59,"div",12)(60,"i",8),e._uU(61,"update"),e.qZA(),e._uU(62," Just Updated "),e.qZA()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(12),e.hij("",n.totalusers," "),e.xp6(15),e.Oqu(n.totalOrg),e.xp6(15),e.Oqu(n.status2Count),e.xp6(14),e.Oqu(n.status1Count))},dependencies:[g.O5],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();var W=u(2708),Z=u(2276),we=u(2181);function ke(i,r){1&i&&(e.TgZ(0,"div"),e._UZ(1,"ul",8),e.qZA())}const Te=function(i){return[i]};function Se(i,r){if(1&i&&(e.TgZ(0,"li",9)(1,"a",10)(2,"i",11),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&i){const t=r.$implicit;e.Gre("",t.class," nav-item"),e.xp6(1),e.Q6J("routerLink",e.VKq(6,Te,t.path)),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.title)}}const se=[{path:"dashboard",title:"Dashboard",icon:"dashboard",class:""},{path:"users",title:"Users",icon:"person",class:""},{path:"organizations",title:"Organizations",icon:"library_books",class:""},{path:"groups",title:"Organizationunits",icon:"group_work",class:""},{path:"employees",title:"Employees",icon:"person",class:""},{path:"timesheet",title:"Timesheets",icon:"timeline",class:""},{path:"auditLog",title:"Auditlogs",icon:"assignment",class:""},{path:"xeroConfig",title:"XeroConfig",icon:"settings",class:""}];let Oe=(()=>{class i{constructor(){}ngOnInit(){this.menuItems=se.filter(t=>t)}isMobileMenu(){return!($(window).width()>991)}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],decls:8,vars:2,consts:[[1,"logo"],["href","",1,"simple-text",2,"height","50px"],[1,"logo-img"],["src","/assets/img/faces/Dangan-Group_logo.jpg",2,"width","187px","top","-10px"],[1,"sidebar-wrapper"],[4,"ngIf"],[1,"nav"],["routerLinkActive","active",3,"class",4,"ngFor","ngForOf"],[1,"nav","navbar-nav","nav-mobile-menu"],["routerLinkActive","active"],[1,"nav-link",3,"routerLink"],[1,"material-icons"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"a",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()()(),e.TgZ(4,"div",4),e.YNc(5,ke,2,0,"div",5),e.TgZ(6,"ul",6),e.YNc(7,Se,6,8,"li",7),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("ngIf",n.isMobileMenu()),e.xp6(2),e.Q6J("ngForOf",n.menuItems))},dependencies:[g.sg,g.O5,y.rH,y.Od]})}return i})(),Me=(()=>{class i{constructor(t,o,n,a,s){this.http=o,this.element=n,this.router=a,this.admindataservice=s,this.currentUser={},this.mobile_menu_visible=0,this.location=t,this.sidebarVisible=!1}ngOnInit(){this.listTitles=se.filter(n=>n),this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggler")[0],this.router.events.subscribe(n=>{this.sidebarClose();var a=document.getElementsByClassName("close-layer")[0];a&&(a.remove(),this.mobile_menu_visible=0)});var o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/oauth2/me",{headers:o}).subscribe(n=>{console.log(n),this.currentUser=n})}logout(){this.admindataservice.clearToken(),this.router.navigate([""])}sidebarOpen(){const t=this.toggleButton,o=document.getElementsByTagName("body")[0];setTimeout(function(){t.classList.add("toggled")},500),o.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const t=document.getElementsByTagName("body")[0];this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}sidebarToggle(){var t=document.getElementsByClassName("navbar-toggler")[0];!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose();const o=document.getElementsByTagName("body")[0];if(1==this.mobile_menu_visible)o.classList.remove("nav-open"),n&&n.remove(),setTimeout(function(){t.classList.remove("toggled")},400),this.mobile_menu_visible=0;else{setTimeout(function(){t.classList.add("toggled")},430);var n=document.createElement("div");n.setAttribute("class","close-layer"),o.querySelectorAll(".main-panel")?document.getElementsByClassName("main-panel")[0].appendChild(n):o.classList.contains("off-canvas-sidebar")&&document.getElementsByClassName("wrapper-full-page")[0].appendChild(n),setTimeout(function(){n.classList.add("visible")},100),n.onclick=function(){o.classList.remove("nav-open"),this.mobile_menu_visible=0,n.classList.remove("visible"),setTimeout(function(){n.remove(),t.classList.remove("toggled")},400)}.bind(this),o.classList.add("nav-open"),this.mobile_menu_visible=1}}getTitle(){var t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(1));for(var o=0;o<this.listTitles.length;o++)if(this.listTitles[o].path===t)return this.listTitles[o].title;return"Dashboard"}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.Ye),e.Y36(k.eN),e.Y36(e.SBq),e.Y36(y.F0),e.Y36(q.x))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-navbar"]],decls:40,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top",2,"z-index","1"],[1,"container-fluid"],[1,"navbar-wrapper"],["href","javascript:void(0)",1,"navbar-brand"],["mat-raised-button","","type","button",1,"navbar-toggler",3,"click"],[1,"sr-only"],[1,"navbar-toggler-icon","icon-bar"],["id","navigation",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],["routerLink","dashboard",1,"material-icons"],[1,"d-lg-none","d-md-block"],[1,"nav-item","dropdown"],["href","javascript:void(0)","id","navbarDropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],[1,"material-icons"],[1,"nav-item","dropdown",2,"z-index","1000"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-right"],["routerLink","/admin/profile","href","javascript:void(0)",1,"dropdown-item"],[1,"dropdown-item",3,"href","click"]],template:function(o,n){1&o&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),e._UZ(3,"a",3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return n.sidebarToggle()}),e.TgZ(5,"span",5),e._uU(6,"Toggle navigation"),e.qZA(),e._UZ(7,"span",6)(8,"span",6)(9,"span",6),e.qZA(),e.TgZ(10,"div",7)(11,"ul",8)(12,"li",9)(13,"a",10)(14,"i",11),e._uU(15,"dashboard"),e.qZA(),e.TgZ(16,"p")(17,"span",12),e._uU(18,"Stats"),e.qZA()()()(),e.TgZ(19,"li",13)(20,"a",14)(21,"i",15),e._uU(22,"notifications"),e.qZA(),e.TgZ(23,"p")(24,"span",12),e._uU(25,"Some Actions"),e.qZA()()()(),e.TgZ(26,"li",16)(27,"a",14)(28,"i",15),e._uU(29,"person"),e.qZA(),e.TgZ(30,"span"),e._uU(31),e.qZA(),e.TgZ(32,"p")(33,"span",12),e._uU(34,"Account"),e.qZA()()(),e.TgZ(35,"div",17)(36,"a",18),e._uU(37,"User Profile"),e.qZA(),e.TgZ(38,"a",19),e.NdJ("click",function(){return n.logout()}),e._uU(39,"Logout"),e.qZA()()()()()()()),2&o&&(e.xp6(31),e.Oqu(n.currentUser.display_name),e.xp6(7),e.MGl("href","https://dgr.sso.id/oauth/logout?client_id=qCsKVnvYyvOqLiJOJFApr&redirect_uri=",n.admindataservice.baseUrl,"",e.LSH))},dependencies:[y.rH,A.lW]})}return i})(),Ae=(()=>{class i{constructor(){this.test=new Date}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-footer"]],decls:0,vars:0,template:function(o,n){}})}return i})();function Ze(i,r){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-footer"),e.qZA())}let Pe=(()=>{class i{constructor(t,o){this.location=t,this.router=o,this.yScrollStack=[]}ngOnInit(){navigator.platform.indexOf("Win")>-1&&!document.getElementsByTagName("body")[0].classList.contains("sidebar-mini")?document.getElementsByTagName("body")[0].classList.add("perfect-scrollbar-on"):document.getElementsByTagName("body")[0].classList.remove("perfect-scrollbar-off");const o=document.querySelector(".main-panel"),n=document.querySelector(".sidebar .sidebar-wrapper");if(this.location.subscribe(p=>{this.lastPoppedUrl=p.url}),this.router.events.subscribe(p=>{p instanceof y.OD?p.url!=this.lastPoppedUrl&&this.yScrollStack.push(window.scrollY):p instanceof y.m2&&(p.url==this.lastPoppedUrl?(this.lastPoppedUrl=void 0,window.scrollTo(0,this.yScrollStack.pop())):window.scrollTo(0,0))}),this._router=this.router.events.pipe((0,we.h)(p=>p instanceof y.m2)).subscribe(p=>{o.scrollTop=0,n.scrollTop=0}),window.matchMedia("(min-width: 960px)").matches&&!this.isMac()){let p=new W.Z(o);p=new W.Z(n)}const a=Z(window).width();let s=Z(".sidebar"),m=Z("body > .navbar-collapse"),d=s.find(".sidebar-background");a>767&&Z(".fixed-plugin .dropdown").hasClass("show-dropdown")&&Z(".fixed-plugin .dropdown").addClass("open"),Z(".fixed-plugin a").click(function(p){Z(this).hasClass("switch-trigger")&&(p.stopPropagation?p.stopPropagation():window.event&&(window.event.cancelBubble=!0))}),Z(".fixed-plugin .badge").click(function(){Z(".full-page-background"),Z(this).siblings().removeClass("active"),Z(this).addClass("active");var S=Z(this).data("color");0!==s.length&&s.attr("data-color",S),0!=m.length&&m.attr("data-color",S)}),Z(".fixed-plugin .img-holder").click(function(){let p=Z(".full-page-background");Z(this).parent("li").siblings().removeClass("active"),Z(this).parent("li").addClass("active");var S=Z(this).find("img").attr("src");0!=d.length&&d.fadeOut("fast",function(){d.css("background-image",'url("'+S+'")'),d.fadeIn("fast")}),0!=p.length&&p.fadeOut("fast",function(){p.css("background-image",'url("'+S+'")'),p.fadeIn("fast")}),0!=m.length&&m.css("background-image",'url("'+S+'")')})}ngAfterViewInit(){this.runOnRouteChange()}isMaps(t){var o=this.location.prepareExternalUrl(this.location.path());return t!=o.slice(1)}runOnRouteChange(){if(window.matchMedia("(min-width: 960px)").matches&&!this.isMac()){const t=document.querySelector(".main-panel");new W.Z(t).update()}}isMac(){let t=!1;return(navigator.platform.toUpperCase().indexOf("MAC")>=0||navigator.platform.toUpperCase().indexOf("IPAD")>=0)&&(t=!0),t}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(g.Ye),e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-layout"]],decls:8,vars:1,consts:[[1,"wrapper"],["data-color","danger","data-background-color","white","data-image","./assets/img/sidebar-3.jpg",1,"sidebar"],[1,"sidebar-background",2,"background-image","url(./assets/img/sidebar-3.jpg)"],[1,"main-panel"],[4,"ngIf"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-sidebar")(3,"div",2),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-navbar")(6,"router-outlet"),e.YNc(7,Ze,2,0,"div",4),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("ngIf",n.isMaps("maps")))},dependencies:[g.O5,y.lC,Oe,Me,Ae]})}return i})();var w=u(8337),c=u(5313),Y=u(7398),f=u(6306),_=u(8504),Q=u(7921),O=u(2939),X=u(2596),V=u(6385),H=u(4104),j=u(4630),U=u(617),z=u(4300),ee=u(2495);const Ie=["switch"];function Ne(i,r){1&i&&(e.TgZ(0,"div",12),e.O4$(),e.TgZ(1,"svg",13),e._UZ(2,"path",14),e.qZA(),e.TgZ(3,"svg",15),e._UZ(4,"path",16),e.qZA()())}const De=["*"],Ue=new e.OlP("mat-slide-toggle-default-options",{providedIn:"root",factory:()=>({disableToggleValue:!1,hideIcon:!1})}),ze={provide:l.JU,useExisting:(0,e.Gpc)(()=>te),multi:!0};class re{constructor(r,t){this.source=r,this.checked=t}}let Ee=0;const qe=(0,C.sb)((0,C.pj)((0,C.Kr)((0,C.Id)(class{constructor(i){this._elementRef=i}}))));let Be=(()=>{class i extends qe{get required(){return this._required}set required(t){this._required=(0,ee.Ig)(t)}get checked(){return this._checked}set checked(t){this._checked=(0,ee.Ig)(t),this._changeDetectorRef.markForCheck()}get hideIcon(){return this._hideIcon}set hideIcon(t){this._hideIcon=(0,ee.Ig)(t)}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(t,o,n,a,s,m,d){super(t),this._focusMonitor=o,this._changeDetectorRef=n,this.defaults=s,this._onChange=p=>{},this._onTouched=()=>{},this._required=!1,this._checked=!1,this.name=null,this.labelPosition="after",this.ariaLabel=null,this.ariaLabelledby=null,this._hideIcon=!1,this.change=new e.vpe,this.toggleChange=new e.vpe,this.tabIndex=parseInt(a)||0,this.color=this.defaultColor=s.color||"accent",this._noopAnimations="NoopAnimations"===m,this.id=this._uniqueId=`${d}${++Ee}`,this._hideIcon=s.hideIcon??!1}ngAfterContentInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{"keyboard"===t||"program"===t?(this._focused=!0,this._changeDetectorRef.markForCheck()):t||Promise.resolve().then(()=>{this._focused=!1,this._onTouched(),this._changeDetectorRef.markForCheck()})})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}writeValue(t){this.checked=!!t}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}setDisabledState(t){this.disabled=t,this._changeDetectorRef.markForCheck()}toggle(){this.checked=!this.checked,this._onChange(this.checked)}_emitChangeEvent(){this._onChange(this.checked),this.change.emit(this._createChangeEvent(this.checked))}static#e=this.\u0275fac=function(o){e.$Z()};static#t=this.\u0275dir=e.lG2({type:i,inputs:{name:"name",id:"id",labelPosition:"labelPosition",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"],required:"required",checked:"checked",hideIcon:"hideIcon"},outputs:{change:"change",toggleChange:"toggleChange"},features:[e.qOj]})}return i})(),te=(()=>{class i extends Be{get buttonId(){return`${this.id||this._uniqueId}-button`}constructor(t,o,n,a,s,m){super(t,o,n,a,s,m,"mat-mdc-slide-toggle-"),this._labelId=this._uniqueId+"-label"}_handleClick(){this.toggleChange.emit(),this.defaults.disableToggleValue||(this.checked=!this.checked,this._onChange(this.checked),this.change.emit(new re(this,this.checked)))}focus(){this._switchElement.nativeElement.focus()}_createChangeEvent(t){return new re(this,t)}_getAriaLabelledBy(){return this.ariaLabelledby?this.ariaLabelledby:this.ariaLabel?null:this._labelId}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.SBq),e.Y36(z.tE),e.Y36(e.sBO),e.$8M("tabindex"),e.Y36(Ue),e.Y36(e.QbO,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["mat-slide-toggle"]],viewQuery:function(o,n){if(1&o&&e.Gf(Ie,5),2&o){let a;e.iGM(a=e.CRH())&&(n._switchElement=a.first)}},hostAttrs:[1,"mat-mdc-slide-toggle"],hostVars:11,hostBindings:function(o,n){2&o&&(e.Ikx("id",n.id),e.uIk("tabindex",null)("aria-label",null)("name",null)("aria-labelledby",null),e.ekj("mat-mdc-slide-toggle-focused",n._focused)("mat-mdc-slide-toggle-checked",n.checked)("_mat-animation-noopable",n._noopAnimations))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color",tabIndex:"tabIndex"},exportAs:["matSlideToggle"],features:[e._Bn([ze]),e.qOj],ngContentSelectors:De,decls:13,vars:25,consts:[[1,"mdc-form-field"],["role","switch","type","button",1,"mdc-switch",3,"tabIndex","disabled","click"],["switch",""],[1,"mdc-switch__track"],[1,"mdc-switch__handle-track"],[1,"mdc-switch__handle"],[1,"mdc-switch__shadow"],[1,"mdc-elevation-overlay"],[1,"mdc-switch__ripple"],["mat-ripple","",1,"mat-mdc-slide-toggle-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],["class","mdc-switch__icons",4,"ngIf"],[1,"mdc-label",3,"for","click"],[1,"mdc-switch__icons"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--on"],["d","M19.69,5.23L8.96,15.96l-4.23-4.23L2.96,13.5l6,6L21.46,7L19.69,5.23z"],["viewBox","0 0 24 24","aria-hidden","true",1,"mdc-switch__icon","mdc-switch__icon--off"],["d","M20 13H4v-2h16v2z"]],template:function(o,n){if(1&o&&(e.F$t(),e.TgZ(0,"div",0)(1,"button",1,2),e.NdJ("click",function(){return n._handleClick()}),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6),e._UZ(7,"div",7),e.qZA(),e.TgZ(8,"div",8),e._UZ(9,"div",9),e.qZA(),e.YNc(10,Ne,5,0,"div",10),e.qZA()()(),e.TgZ(11,"label",11),e.NdJ("click",function(s){return s.stopPropagation()}),e.Hsn(12),e.qZA()()),2&o){const a=e.MAs(2);e.ekj("mdc-form-field--align-end","before"==n.labelPosition),e.xp6(1),e.ekj("mdc-switch--selected",n.checked)("mdc-switch--unselected",!n.checked)("mdc-switch--checked",n.checked)("mdc-switch--disabled",n.disabled),e.Q6J("tabIndex",n.tabIndex)("disabled",n.disabled),e.uIk("id",n.buttonId)("name",n.name)("aria-label",n.ariaLabel)("aria-labelledby",n._getAriaLabelledBy())("aria-describedby",n.ariaDescribedby)("aria-required",n.required||null)("aria-checked",n.checked),e.xp6(8),e.Q6J("matRippleTrigger",a)("matRippleDisabled",n.disableRipple||n.disabled)("matRippleCentered",!0),e.xp6(1),e.Q6J("ngIf",!n.hideIcon),e.xp6(1),e.Q6J("for",n.buttonId),e.uIk("id",n._labelId)}},dependencies:[C.wG,g.O5],styles:['.mdc-form-field{display:inline-flex;align-items:center;vertical-align:middle}.mdc-form-field[hidden]{display:none}.mdc-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{margin-left:auto;margin-right:0}[dir=rtl] .mdc-form-field>label,.mdc-form-field>label[dir=rtl]{padding-left:0;padding-right:4px}.mdc-form-field--nowrap>label{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{margin-left:0;margin-right:auto}[dir=rtl] .mdc-form-field--align-end>label,.mdc-form-field--align-end>label[dir=rtl]{padding-left:4px;padding-right:0}.mdc-form-field--space-between{justify-content:space-between}.mdc-form-field--space-between>label{margin:0}[dir=rtl] .mdc-form-field--space-between>label,.mdc-form-field--space-between>label[dir=rtl]{margin:0}.mdc-elevation-overlay{position:absolute;border-radius:inherit;pointer-events:none;opacity:var(--mdc-elevation-overlay-opacity);transition:opacity 280ms cubic-bezier(0.4, 0, 0.2, 1);background-color:var(--mdc-elevation-overlay-color)}.mdc-switch{align-items:center;background:none;border:none;cursor:pointer;display:inline-flex;flex-shrink:0;margin:0;outline:none;overflow:visible;padding:0;position:relative}.mdc-switch[hidden]{display:none}.mdc-switch:disabled{cursor:default;pointer-events:none}.mdc-switch__track{overflow:hidden;position:relative;width:100%}.mdc-switch__track::before,.mdc-switch__track::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";height:100%;left:0;position:absolute;width:100%}@media screen and (forced-colors: active){.mdc-switch__track::before,.mdc-switch__track::after{border-color:currentColor}}.mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(-100%)}[dir=rtl] .mdc-switch__track::after,.mdc-switch__track[dir=rtl]::after{transform:translateX(100%)}.mdc-switch--selected .mdc-switch__track::before{transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.6, 1);transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__track::before,.mdc-switch--selected .mdc-switch__track[dir=rtl]::before{transform:translateX(-100%)}.mdc-switch--selected .mdc-switch__track::after{transition:transform 75ms 0ms cubic-bezier(0, 0, 0.2, 1);transform:translateX(0)}.mdc-switch__handle-track{height:100%;pointer-events:none;position:absolute;top:0;transition:transform 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);left:0;right:auto;transform:translateX(0)}[dir=rtl] .mdc-switch__handle-track,.mdc-switch__handle-track[dir=rtl]{left:auto;right:0}.mdc-switch--selected .mdc-switch__handle-track{transform:translateX(100%)}[dir=rtl] .mdc-switch--selected .mdc-switch__handle-track,.mdc-switch--selected .mdc-switch__handle-track[dir=rtl]{transform:translateX(-100%)}.mdc-switch__handle{display:flex;pointer-events:auto;position:absolute;top:50%;transform:translateY(-50%);left:0;right:auto}[dir=rtl] .mdc-switch__handle,.mdc-switch__handle[dir=rtl]{left:auto;right:0}.mdc-switch__handle::before,.mdc-switch__handle::after{border:1px solid rgba(0,0,0,0);border-radius:inherit;box-sizing:border-box;content:"";width:100%;height:100%;left:0;position:absolute;top:0;transition:background-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1),border-color 75ms 0ms cubic-bezier(0.4, 0, 0.2, 1);z-index:-1}@media screen and (forced-colors: active){.mdc-switch__handle::before,.mdc-switch__handle::after{border-color:currentColor}}.mdc-switch__shadow{border-radius:inherit;bottom:0;left:0;position:absolute;right:0;top:0}.mdc-elevation-overlay{bottom:0;left:0;right:0;top:0}.mdc-switch__ripple{left:50%;position:absolute;top:50%;transform:translate(-50%, -50%);z-index:-1}.mdc-switch:disabled .mdc-switch__ripple{display:none}.mdc-switch__icons{height:100%;position:relative;width:100%;z-index:1}.mdc-switch__icon{bottom:0;left:0;margin:auto;position:absolute;right:0;top:0;opacity:0;transition:opacity 30ms 0ms cubic-bezier(0.4, 0, 1, 1)}.mdc-switch--selected .mdc-switch__icon--on,.mdc-switch--unselected .mdc-switch__icon--off{opacity:1;transition:opacity 45ms 30ms cubic-bezier(0, 0, 0.2, 1)}.mdc-switch{width:var(--mdc-switch-track-width);--mdc-switch-disabled-handle-opacity:0.38;--mdc-switch-disabled-selected-icon-opacity:0.38;--mdc-switch-disabled-track-opacity:0.12;--mdc-switch-disabled-unselected-icon-opacity:0.38;--mdc-switch-handle-height:20px;--mdc-switch-handle-shape:10px;--mdc-switch-handle-width:20px;--mdc-switch-selected-icon-size:18px;--mdc-switch-track-height:14px;--mdc-switch-track-shape:7px;--mdc-switch-track-width:36px;--mdc-switch-unselected-icon-size:18px;--mdc-switch-state-layer-size:40px;--mdc-switch-selected-focus-state-layer-opacity:0.12;--mdc-switch-selected-hover-state-layer-opacity:0.04;--mdc-switch-selected-pressed-state-layer-opacity:0.1;--mdc-switch-unselected-focus-state-layer-opacity:0.12;--mdc-switch-unselected-hover-state-layer-opacity:0.04;--mdc-switch-unselected-pressed-state-layer-opacity:0.1}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-selected-handle-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-hover-handle-color)}.mdc-switch.mdc-switch--selected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-selected-focus-handle-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-selected-pressed-handle-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-selected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__handle::after{background:var(--mdc-switch-unselected-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-hover-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:focus:not(:active) .mdc-switch__handle::after{background:var(--mdc-switch-unselected-focus-handle-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__handle::after{background:var(--mdc-switch-unselected-pressed-handle-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__handle::after{background:var(--mdc-switch-disabled-unselected-handle-color)}.mdc-switch .mdc-switch__handle::before{background:var(--mdc-switch-handle-surface-color)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation)}.mdc-switch .mdc-switch__focus-ring-wrapper,.mdc-switch .mdc-switch__handle{height:var(--mdc-switch-handle-height)}.mdc-switch:disabled .mdc-switch__handle::after{opacity:var(--mdc-switch-disabled-handle-opacity)}.mdc-switch .mdc-switch__handle{border-radius:var(--mdc-switch-handle-shape)}.mdc-switch .mdc-switch__handle{width:var(--mdc-switch-handle-width)}.mdc-switch .mdc-switch__handle-track{width:calc(100% - var(--mdc-switch-handle-width))}.mdc-switch.mdc-switch--selected:enabled .mdc-switch__icon{fill:var(--mdc-switch-selected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-selected-icon-color)}.mdc-switch.mdc-switch--unselected:enabled .mdc-switch__icon{fill:var(--mdc-switch-unselected-icon-color)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icon{fill:var(--mdc-switch-disabled-unselected-icon-color)}.mdc-switch.mdc-switch--selected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-selected-icon-opacity)}.mdc-switch.mdc-switch--unselected:disabled .mdc-switch__icons{opacity:var(--mdc-switch-disabled-unselected-icon-opacity)}.mdc-switch.mdc-switch--selected .mdc-switch__icon{width:var(--mdc-switch-selected-icon-size);height:var(--mdc-switch-selected-icon-size)}.mdc-switch.mdc-switch--unselected .mdc-switch__icon{width:var(--mdc-switch-unselected-icon-size);height:var(--mdc-switch-unselected-icon-size)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-hover-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-focus-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-selected-pressed-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus) .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-hover-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-focus-state-layer-color)}.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:active .mdc-switch__ripple::after{background-color:var(--mdc-switch-unselected-pressed-state-layer-color)}.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-selected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--selected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-selected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--selected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--selected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-selected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus):hover .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:hover:not(:focus).mdc-ripple-surface--hover .mdc-switch__ripple::before{opacity:var(--mdc-switch-unselected-hover-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:focus.mdc-ripple-upgraded--background-focused .mdc-switch__ripple::before,.mdc-switch.mdc-switch--unselected:enabled:focus:not(.mdc-ripple-upgraded):focus .mdc-switch__ripple::before{transition-duration:75ms;opacity:var(--mdc-switch-unselected-focus-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded) .mdc-switch__ripple::after{transition:opacity 150ms linear}.mdc-switch.mdc-switch--unselected:enabled:active:not(.mdc-ripple-upgraded):active .mdc-switch__ripple::after{transition-duration:75ms;opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch.mdc-switch--unselected:enabled:active.mdc-ripple-upgraded{--mdc-ripple-fg-opacity:var(--mdc-switch-unselected-pressed-state-layer-opacity)}.mdc-switch .mdc-switch__ripple{height:var(--mdc-switch-state-layer-size);width:var(--mdc-switch-state-layer-size)}.mdc-switch .mdc-switch__track{height:var(--mdc-switch-track-height)}.mdc-switch:disabled .mdc-switch__track{opacity:var(--mdc-switch-disabled-track-opacity)}.mdc-switch:enabled .mdc-switch__track::after{background:var(--mdc-switch-selected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::after{background:var(--mdc-switch-selected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::after{background:var(--mdc-switch-selected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::after{background:var(--mdc-switch-disabled-selected-track-color)}.mdc-switch:enabled .mdc-switch__track::before{background:var(--mdc-switch-unselected-track-color)}.mdc-switch:enabled:hover:not(:focus):not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-hover-track-color)}.mdc-switch:enabled:focus:not(:active) .mdc-switch__track::before{background:var(--mdc-switch-unselected-focus-track-color)}.mdc-switch:enabled:active .mdc-switch__track::before{background:var(--mdc-switch-unselected-pressed-track-color)}.mdc-switch:disabled .mdc-switch__track::before{background:var(--mdc-switch-disabled-unselected-track-color)}.mdc-switch .mdc-switch__track{border-radius:var(--mdc-switch-track-shape)}.mdc-switch:enabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-handle-elevation-shadow)}.mdc-switch:disabled .mdc-switch__shadow{box-shadow:var(--mdc-switch-disabled-handle-elevation-shadow)}.mat-mdc-slide-toggle .mdc-label{font-family:var(--mat-slide-toggle-label-text-font);font-size:var(--mat-slide-toggle-label-text-size);letter-spacing:var(--mat-slide-toggle-label-text-tracking);line-height:var(--mat-slide-toggle-label-text-line-height);font-weight:var(--mat-slide-toggle-label-text-weight)}.mat-mdc-slide-toggle{display:inline-block;-webkit-tap-highlight-color:rgba(0,0,0,0);outline:0}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple,.mat-mdc-slide-toggle .mdc-switch__ripple::after{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-slide-toggle .mat-mdc-slide-toggle-ripple:not(:empty),.mat-mdc-slide-toggle .mdc-switch__ripple::after:not(:empty){transform:translateZ(0)}.mat-mdc-slide-toggle .mdc-switch__ripple::after{content:"";opacity:0}.mat-mdc-slide-toggle .mdc-switch:hover .mdc-switch__ripple::after{opacity:.04;transition:opacity 75ms 0ms cubic-bezier(0, 0, 0.2, 1)}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mdc-switch .mdc-switch__ripple::after{opacity:.12}.mat-mdc-slide-toggle.mat-mdc-slide-toggle-focused .mat-mdc-focus-indicator::before{content:""}.mat-mdc-slide-toggle .mat-ripple-element{opacity:.12}.mat-mdc-slide-toggle .mat-mdc-focus-indicator::before{border-radius:50%}.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle-track,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-elevation-overlay,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__icon,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__handle::after,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::before,.mat-mdc-slide-toggle._mat-animation-noopable .mdc-switch__track::after{transition:none}.mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer}'],encapsulation:2,changeDetection:0})}return i})(),le=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({})}return i})(),Ye=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[le,C.BQ,C.si,g.ez,le,C.BQ]})}return i})();function Fe(i,r){1&i&&(e.TgZ(0,"div",51),e._UZ(1,"div",52),e.qZA())}function Qe(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",15),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.Organization.name=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.Organization.name)("formControl",t.usernameFormControl)}}function He(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"input",53),e.NdJ("ngModelChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.Organization.name=n)}),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("ngModel",t.Organization.name)("formControl",t.usernameFormControl)}}function je(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Le(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Address is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function $e(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," RegisterNumber is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ge(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function Ke(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid email address "),e.qZA())}function We(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearInput())}),e.TgZ(1,"mat-icon",55),e._uU(2,"clear"),e.qZA()()}}function Xe(i,r){if(1&i&&(e.TgZ(0,"mat-option",56),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ve(i,r){1&i&&(e.TgZ(0,"th",57),e._uU(1," Name "),e.qZA())}function et(i,r){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName," ")}}function tt(i,r){1&i&&(e.ynx(0),e._uU(1,"Email"),e.BQk())}function nt(i,r){if(1&i&&(e.TgZ(0,"th",57),e.YNc(1,tt,2,0,"ng-container",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function ot(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email,"")}}function it(i,r){if(1&i&&(e.TgZ(0,"td",58),e.YNc(1,ot,2,1,"ng-container",13),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function at(i,r){1&i&&(e.TgZ(0,"th",57),e._uU(1," Symbol "),e.qZA())}function st(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",58)(1,"mat-icon",59),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteUsers(a,s.i))}),e._uU(2,"delete"),e.qZA()()}}function rt(i,r){1&i&&e._UZ(0,"tr",60)}function lt(i,r){1&i&&e._UZ(0,"tr",61)}let ce=(()=>{class i{constructor(t,o,n,a,s,m,d,p){this._formBuilder=t,this.dialogRef=o,this._snackBar=n,this.cdr=a,this.routers=s,this.data=m,this.http=d,this.route=p,this.myControl=new l.NI(""),this.ssoUsers=[],this.samotUser={},this.sendUserInSSo={},this.userdataSource=new c.by([]),this.displayedColumns=["name","weight","symbol"],this.users=[],this.apiOptions={Authorization:"Bearer "+localStorage.getItem("token")},this.options=[],this.OrganizationUsers=[],this.User={},this.horizontalPosition="right",this.verticalPosition="bottom",this.Organization={},this.Organizations=[],this.ssoOrganization={},this.sendOrgInMain={},this.sendOrg={},this.loading=!1,this.usernameFormControl=new l.NI("",[l.kI.required]),this.addressFormControl=new l.NI("",[l.kI.required]),this.regnumFormControl=new l.NI("",[l.kI.required]),this.emailFormControl=new l.NI("",[l.kI.email]),this.AccountemailFormControl=new l.NI("",[l.kI.email]),this.durationInSeconds=3,this.isPOMode=!1,this.Organization={...m}}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}onToggleChange(){this.isPOMode&&(this.Organization.isPORequired=this.isPOMode)}ngOnInit(){this.getUsers();var t={Authorization:"Bearer "+localStorage.getItem("token")};null!=this.Organization.organizationId&&(this.loading=!0,this.http.get("https://api.samotplatform.com/Organizations/"+Number(this.Organization.organizationId),{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.Organization=o,this.http.get("https://api.samotplatform.com/Organization/Users/"+Number(this.Organization.organizationId),{headers:this.apiOptions}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.userdataSource.data=n}),this.loading=!1}))}Synchronize(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.post("https://dgr.sso.id/users/get",{allowOwner:!1},{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.ssoUsers=n,console.log("SSO Users",this.ssoUsers),console.log("SamotPlatform Users",this.users),this.ssoUsers.forEach(a=>{if(this.users.find(d=>d.email==a.EmailAddress))this.loading=!1;else{console.log("Not Found",a),this.samotUser.FirstName=a.FirstName,this.samotUser.LastName=a.LastName,this.samotUser.Email=a.EmailAddress,this.samotUser.UserId=a.UserId;var m={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.post("https://api.samotplatform.com/users/",this.samotUser,{headers:m}).pipe((0,f.K)(d=>(d.status>=400&&d.status<500?(this.openSnackBar("Client error occurred:  "+d.status,!1),this.loading=!1):d.status>=500?(this.openSnackBar("Server error occurred: "+d.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+d.status,!1),this.loading=!1),(0,_._)(d)))).subscribe(d=>{console.log(d),this.loading=!1})}}),console.log("SamotPlatformUsers",this.users),console.log("Sso.id Users",this.ssoUsers),this.users.forEach(a=>{if(this.ssoUsers.find(d=>d.EmailAddress==a.email))this.loading=!1,this.openSnackBar("Approvers Synced Successfully!",!0);else{if(this.sendUserInSSo.FirstName=a.firstName,this.sendUserInSSo.LastName=a.lastName,this.sendUserInSSo.EmailAddress=a.email,this.sendUserInSSo.Password="asd","admin@dangangroup.ie"==this.sendUserInSSo.EmailAddress)return void console.log("Admin email:",this.sendUserInSSo.EmailAddress);console.log("Not Found in Sso.id",a),console.log(this.sendUserInSSo);var m={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.post("https://dgr.sso.id/users",this.sendUserInSSo,{headers:m}).pipe((0,f.K)(d=>(d.status>=400&&d.status<500?(this.openSnackBar("Client error occurred:  "+d.status,!1),this.loading=!1):d.status>=500?(this.openSnackBar("Server error occurred: "+d.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+d.status,!1),this.loading=!1),(0,_._)(d)))).subscribe(d=>{this.loading=!1,console.log(d),this.openSnackBar("Approvers Synced in SSo.id Successfully!",!0)})}})})}addUsers(){let t=this.users.find(o=>o.firstName+" "+o.lastName===this.value);this.getUsers(),t?(console.log("Found User:",t),this.userdataSource.data.length>=2?this.openSnackBar("Only 2 approvers are allowed!",!1):(this.userdataSource.data.push(t),this.userdataSource.data=[...this.userdataSource.data],this.value="",console.log(this.userdataSource.data))):console.log("User not found")}getUsers(){this.loading=!0,this.http.get("https://api.samotplatform.com/users",{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{this.options=[],this.users=t,console.log(this.users),this.options=this.users.map(o=>o.firstName+" "+o.lastName),this.filteredUsers=this.myControl.valueChanges.pipe((0,Q.O)(""),(0,Y.U)(o=>this._filters(o||""))),this.loading=!1})}_filters(t){const o=t.toLowerCase();return this.options.filter(a=>!this.userdataSource.data.some(s=>(s.firstName+" "+s.lastName).toLowerCase()===a.toLowerCase())).filter(a=>a.toLowerCase().includes(o))}clearInput(){console.log(this.value),this.value=""}deleteUsers(t,o){const n=t.id;console.log(n);const a=this.userdataSource.data,s=a.findIndex(m=>m.id===n);console.log(s),-1!==s&&(a.splice(s,1),this.userdataSource.data=a)}addOrganization(){this.usernameFormControl.markAsTouched(),this.addressFormControl.markAsTouched(),this.regnumFormControl.markAsTouched();var t={Authorization:"Bearer "+localStorage.getItem("token")};if(this.usernameFormControl.invalid||this.addressFormControl.invalid||this.regnumFormControl.invalid)this.openSnackBar("OrganizationName, Address and RegistrationNumber is Required!",!1);else if(this.Organization.organizationId){this.loading=!0,t={Authorization:"Bearer "+localStorage.getItem("token")};let n=1;this.userdataSource.data.forEach(a=>{this.User.UserId=a.userId,this.User.OrganizationId=this.Organization.organizationId,this.User.Order=n,this.OrganizationUsers.push(this.User),this.User={},n++}),console.log(this.OrganizationUsers),this.Organization.organizationUsers=this.OrganizationUsers,this.http.put("https://api.samotplatform.com/Organizations/"+this.Organization.organizationId,this.Organization,{headers:t}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))).subscribe(a=>{this.dialogRef.close({org:a}),this.loading=!1,this.openSnackBar("Organization Updated Successfully",!0),this.Organization={}})}else t={Authorization:"Bearer "+localStorage.getItem("token")},this.loading=!0,this.http.post("https://dgr.sso.id/organizations",this.Organization,{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.ssoOrganization=n,this.Organization.organizationId=this.ssoOrganization.OrganizationId,this.Organization.Name=this.ssoOrganization.Name;let a=1;this.userdataSource.data.forEach(s=>{this.http.post(`https://dgr.sso.id/organization/${this.ssoOrganization.OrganizationId}/user/${s.userId}/assign`,{headers:t}).pipe((0,f.K)(m=>(m.status>=400&&m.status<500?(this.openSnackBar("Client error occurred(User Assigned In Organization Failed!):  "+m.status,!1),this.loading=!1):m.status>=500?(this.openSnackBar("Server error occurred(User Assigned In Organization Failed!): "+m.status,!1),this.loading=!1):(this.openSnackBar("An error occurred(User Assigned In Organization Failed!): "+m.status,!1),this.loading=!1),(0,_._)(m)))).subscribe(m=>{console.log(m)}),this.User.UserId=s.userId,this.User.OrganizationId=this.Organization.organizationId,this.User.Order=a,this.OrganizationUsers.push(this.User),this.User={},a++}),console.log(this.OrganizationUsers),this.Organization.organizationUsers=this.OrganizationUsers,console.log(this.Organization),this.http.post(`https://dgr.sso.id/assignorgtoapp/orgid/${this.Organization.organizationId}/appid/1`,{headers:t}).pipe((0,f.K)(s=>(s.status>=400&&s.status<500?(this.openSnackBar("Client error occurred(Organization Assign in Application Failed!):  "+s.status,!1),this.loading=!1):s.status>=500?(this.openSnackBar("Server error occurred(Organization Assign in Application Failed!): "+s.status,!1),this.loading=!1):(this.openSnackBar("An error occurred(Organization Assign in Application Failed!): "+s.status,!1),this.loading=!1),(0,_._)(s)))).subscribe(s=>{console.log(s),this.http.post("https://api.samotplatform.com/Organizations",this.Organization,{headers:t}).pipe((0,f.K)(m=>(m.status>=400&&m.status<500?(this.openSnackBar("Client error occurred:  "+m.status,!1),this.loading=!1):m.status>=500?(this.openSnackBar("Server error occurred: "+m.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+m.status,!1),this.loading=!1),(0,_._)(m)))).subscribe(m=>{this.sendOrgInMain.organizationId=this.ssoOrganization.OrganizationId,this.sendOrgInMain.name=this.ssoOrganization.Name,this.dialogRef.close({org:this.sendOrgInMain}),this.loading=!1,this.Organization={},this.openSnackBar("Organization Added Successfully!",!0)})})})}cancelDialog(){this.Organization={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(h.so),e.Y36(O.ux),e.Y36(e.sBO),e.Y36(y.F0),e.Y36(h.WI,8),e.Y36(k.eN),e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-organization-form"]],decls:129,vars:34,consts:[["id","dialog"],["class","overlay",4,"ngIf"],[1,"create"],[1,"create-text"],[1,"close-icon",2,"text-align","right","padding-right","10px","color","white"],["mat-dialog-close","",1,"material-icons"],["label","Basic Information","id","basic"],[1,"BasicInfo",2,"margin-top","0px"],[1,"OrgName"],["id","orgform"],["id","input-text"],["type","text","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange",4,"ngIf","ngIfElse"],["readOnlyInput",""],[4,"ngIf"],[1,"Address"],["type","text","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange"],[1,"CompanyRegNum"],[1,"secondRow"],[1,"vatnumber"],["type","text","matInput","","placeholder","",3,"ngModel","ngModelChange"],[1,"headtag"],[1,"setPtag"],[1,"BasicInfo"],["type","email","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange"],[1,"setToggle"],[1,"secondRow",2,"margin-top","-31px"],["id","colorPo",1,"vatnumber"],["id","setcolor",3,"ngModel","ngModelChange","change"],["label","Approvers"],[2,"height","48vh"],["id","searchset",1,"search"],["id","filter",1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Select Approver","aria-label","Number","matInput","",3,"formControl","ngModel","matAutocomplete","ngModelChange","focus"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"SyncBtn",2,"margin-top","-63px"],["matTooltip","Approvers Synchronized",3,"click"],["id","setOverflows",1,"setOverflow"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","weight"],["matColumnDef","symbol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["align","end",1,"action"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","",2,"background-color","#00b2e2","color","white",3,"click"],[1,"overlay"],[1,"loader"],["type","text","matInput","","placeholder","","readonly","",3,"ngModel","formControl","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"material-icons",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){if(1&o&&(e.TgZ(0,"mat-dialog-content",0),e.YNc(1,Fe,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"mat-icon",5),e._uU(7,"clear"),e.qZA()()(),e.TgZ(8,"mat-list")(9,"mat-tab-group")(10,"mat-tab",6)(11,"div",7)(12,"div",8)(13,"form",9)(14,"mat-form-field",10)(15,"mat-label"),e._uU(16,"Organization Name"),e.qZA(),e.YNc(17,Qe,1,2,"input",11),e.YNc(18,He,1,2,"ng-template",null,12,e.W1O),e.YNc(20,je,4,0,"mat-error",13),e.qZA()()(),e.TgZ(21,"div",14)(22,"form",9)(23,"mat-form-field",10)(24,"mat-label"),e._uU(25,"Address"),e.qZA(),e.TgZ(26,"input",15),e.NdJ("ngModelChange",function(s){return n.Organization.address=s}),e.qZA(),e.YNc(27,Le,4,0,"mat-error",13),e.qZA()()(),e.TgZ(28,"div",16)(29,"form",9)(30,"mat-form-field",10)(31,"mat-label"),e._uU(32,"Company Registration Number"),e.qZA(),e.TgZ(33,"input",15),e.NdJ("ngModelChange",function(s){return n.Organization.companyRegistrationNumber=s}),e.qZA(),e.YNc(34,$e,4,0,"mat-error",13),e.qZA()()()(),e.TgZ(35,"div",17)(36,"div",18)(37,"form",9)(38,"mat-form-field",10)(39,"mat-label"),e._uU(40,"VAT Number"),e.qZA(),e.TgZ(41,"input",19),e.NdJ("ngModelChange",function(s){return n.Organization.vatNumber=s}),e.qZA()()()()(),e._UZ(42,"mat-divider"),e.TgZ(43,"div",20)(44,"p",21),e._uU(45,"Primary Contact"),e.qZA()(),e.TgZ(46,"div",22)(47,"div",8)(48,"form",9)(49,"mat-form-field",10)(50,"mat-label"),e._uU(51,"Name"),e.qZA(),e.TgZ(52,"input",19),e.NdJ("ngModelChange",function(s){return n.Organization.primaryContactName=s}),e.qZA()()()(),e.TgZ(53,"div",14)(54,"form",9)(55,"mat-form-field",10)(56,"mat-label"),e._uU(57,"Email"),e.qZA(),e.TgZ(58,"input",23),e.NdJ("ngModelChange",function(s){return n.Organization.primaryContactEmail=s}),e.qZA(),e.YNc(59,Ge,2,0,"mat-error",13),e.qZA()()(),e.TgZ(60,"div",16)(61,"form",9)(62,"mat-form-field",10)(63,"mat-label"),e._uU(64,"Phone Number"),e.qZA(),e.TgZ(65,"input",19),e.NdJ("ngModelChange",function(s){return n.Organization.primaryContactNumber=s}),e.qZA()()()()(),e.TgZ(66,"div",17)(67,"div",18)(68,"form",9)(69,"mat-form-field",10)(70,"mat-label"),e._uU(71,"Position"),e.qZA(),e.TgZ(72,"input",19),e.NdJ("ngModelChange",function(s){return n.Organization.primaryContactPosition=s}),e.qZA()()()()(),e._UZ(73,"mat-divider"),e.TgZ(74,"div",20)(75,"p",21),e._uU(76,"Accounts Contact"),e.qZA()(),e.TgZ(77,"div",22)(78,"div",8)(79,"form",9)(80,"mat-form-field",10)(81,"mat-label"),e._uU(82,"Name"),e.qZA(),e.TgZ(83,"input",19),e.NdJ("ngModelChange",function(s){return n.Organization.accountsContactName=s}),e.qZA()()()(),e.TgZ(84,"div",14)(85,"form",9)(86,"mat-form-field",10)(87,"mat-label"),e._uU(88,"Email"),e.qZA(),e.TgZ(89,"input",23),e.NdJ("ngModelChange",function(s){return n.Organization.accountsContactEmail=s}),e.qZA(),e.YNc(90,Ke,2,0,"mat-error",13),e.qZA()()(),e.TgZ(91,"div",16),e._UZ(92,"div",24),e.qZA()(),e.TgZ(93,"div",25)(94,"div",26)(95,"mat-slide-toggle",27),e.NdJ("ngModelChange",function(s){return n.Organization.isPORequired=s})("change",function(){return n.onToggleChange()}),e._uU(96,"PO Required"),e.qZA()()()(),e.TgZ(97,"mat-tab",28)(98,"div",29)(99,"div",30)(100,"form",31)(101,"mat-form-field",32)(102,"input",33),e.NdJ("ngModelChange",function(s){return n.value=s})("focus",function(){return n.addUsers()}),e.qZA(),e.YNc(103,We,3,0,"button",34),e.TgZ(104,"mat-autocomplete",null,35),e.YNc(106,Xe,2,2,"mat-option",36),e.ALo(107,"async"),e.qZA()()()(),e.TgZ(108,"div",37)(109,"mat-icon",38),e.NdJ("click",function(){return n.Synchronize()}),e._uU(110,"swap_vert"),e.qZA()(),e.TgZ(111,"div",39)(112,"table",40),e.ynx(113,41),e.YNc(114,Ve,2,0,"th",42),e.YNc(115,et,2,1,"td",43),e.BQk(),e.ynx(116,44),e.YNc(117,nt,2,1,"th",42),e.YNc(118,it,2,1,"td",43),e.BQk(),e.ynx(119,45),e.YNc(120,at,2,0,"th",42),e.YNc(121,st,3,0,"td",43),e.BQk(),e.YNc(122,rt,1,0,"tr",46),e.YNc(123,lt,1,0,"tr",47),e.qZA()()()()()()(),e.TgZ(124,"mat-dialog-actions",48)(125,"button",49),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(126,"Cancel"),e.qZA(),e.TgZ(127,"button",50),e.NdJ("click",function(){return n.addOrganization()}),e._uU(128),e.qZA()()),2&o){const a=e.MAs(19),s=e.MAs(105);e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.Oqu(n.Organization.organizationId?"Update":"Create"),e.xp6(13),e.Q6J("ngIf",!n.Organization.organizationId)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",n.usernameFormControl.hasError("required")),e.xp6(6),e.Q6J("ngModel",n.Organization.address)("formControl",n.addressFormControl),e.xp6(1),e.Q6J("ngIf",n.addressFormControl.hasError("required")),e.xp6(6),e.Q6J("ngModel",n.Organization.companyRegistrationNumber)("formControl",n.regnumFormControl),e.xp6(1),e.Q6J("ngIf",n.regnumFormControl.hasError("required")),e.xp6(7),e.Q6J("ngModel",n.Organization.vatNumber),e.xp6(11),e.Q6J("ngModel",n.Organization.primaryContactName),e.xp6(6),e.Q6J("ngModel",n.Organization.primaryContactEmail)("formControl",n.emailFormControl),e.xp6(1),e.Q6J("ngIf",n.emailFormControl.hasError("email")),e.xp6(6),e.Q6J("ngModel",n.Organization.primaryContactNumber),e.xp6(7),e.Q6J("ngModel",n.Organization.primaryContactPosition),e.xp6(11),e.Q6J("ngModel",n.Organization.accountsContactName),e.xp6(6),e.Q6J("ngModel",n.Organization.accountsContactEmail)("formControl",n.AccountemailFormControl),e.xp6(1),e.Q6J("ngIf",n.AccountemailFormControl.hasError("email")),e.xp6(5),e.Q6J("ngModel",n.Organization.isPORequired),e.xp6(7),e.Q6J("formControl",n.myControl)("ngModel",n.value)("matAutocomplete",s),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(3),e.Q6J("ngForOf",e.lcZ(107,32,n.filteredUsers)),e.xp6(6),e.Q6J("dataSource",n.userdataSource),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(5),e.Oqu(n.Organization.organizationId?"Update":"Create")}},dependencies:[g.sg,g.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,l.oH,b.KE,b.hX,b.TO,b.R9,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,C.ey,D.Nt,A.lW,A.RK,X.gM,K.i$,V.d,h.ZT,h.xY,h.H8,H.uX,H.SP,j.XC,j.ZL,U.Hw,te,g.Ov],styles:["#orgform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{font-size:12px}  #orgform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}  #orgform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}.create[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2!important;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0;overflow-y:hidden}.Checkbox[_ngcontent-%COMP%]:active{background-color:#f7941d!important}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.create-text[_ngcontent-%COMP%]{color:#fff;font-size:18px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}  .BasicInfo{margin-left:24px;margin-top:-20px;display:flex}.secondRow[_ngcontent-%COMP%]{margin-left:24px;margin-top:-16px;display:flex}.input[_ngcontent-%COMP%]{margin-bottom:0}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #orgform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important;background-color:#fff}  #orgform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:270px;padding-left:0!important;padding-right:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #orgform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff}  #orgform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #orgform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #orgform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #orgform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #orgform .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}#orgform[_ngcontent-%COMP%]{height:58px}.action[_ngcontent-%COMP%]{margin-top:20px}.OrgName[_ngcontent-%COMP%], .Address[_ngcontent-%COMP%], .CompanyRegNum[_ngcontent-%COMP%]{flex-grow:1;margin-right:10px}  #dialog .mat-mdc-form-field-error{display:block;font-size:11px;margin-left:-11px}  #dialog .mat-divider{--mat-divider-width: 1px;display:block;margin-top:-19px;padding:0;border-top-style:solid;border-top-color:var(--mat-divider-color);border-top-width:var(--mat-divider-width)}.search[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px;height:75px}  #dialog .mat-mdc-tab-body-content{height:100%;overflow:hidden}.setPtag[_ngcontent-%COMP%]{font-size:14px;font-weight:lighter}.headtag[_ngcontent-%COMP%]{margin:5px 5px 5px 17px}.setToggle[_ngcontent-%COMP%]{margin-top:18px;width:270px}  #colorPo .mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer;color:#0009}  #filter .mat-mdc-form-field-focus-overlay{background-color:#fff}  #filter .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;box-shadow:5px 5px 5px 5px #0000001a;width:177%;margin-left:8px}  #searchset .example-full-width{width:57%}  .SyncBtn{float:right;margin-right:14px;cursor:pointer}  #filter .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;box-shadow:5px 5px 5px 5px #0000001a;width:165%;margin-left:8px}  #filter .mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input, .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-input-control[_ngcontent-%COMP%]{height:auto;font-size:14px}@media only screen and (max-width: 1368px){  .mdc-dialog .mdc-dialog__content{padding:0;overflow-y:scroll}.search[_ngcontent-%COMP%]{margin-left:2px;margin-top:2px}  #searchset .example-full-width{width:57%}.create-text[_ngcontent-%COMP%]{font-size:16px}  .BasicInfo{margin-left:8px;margin-top:-20px;display:block}.secondRow[_ngcontent-%COMP%]{margin-left:8px;margin-top:-16px;display:block}  #orgform .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:12px}  #dialog .mat-mdc-form-field-error{display:block;font-size:10px;margin-left:-15px}.OrgName[_ngcontent-%COMP%], .Address[_ngcontent-%COMP%], .CompanyRegNum[_ngcontent-%COMP%]{margin-top:-16px}.headtag[_ngcontent-%COMP%]{margin:5px 5px 5px 7px}.action[_ngcontent-%COMP%]{margin-top:40px}}  #setcolor .mdc-switch:enabled .mdc-switch__track:after{background:#00b2e2!important}  #setcolor .mdc-switch:enabled .mdc-switch__shadow{box-shadow:none;background:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();var B=u(9315),M=u(1088);function ct(i,r){1&i&&(e.TgZ(0,"div",36),e._UZ(1,"div",37),e.qZA())}function dt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"img",38),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.organizationcreate())}),e.qZA()}}function mt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",39)(1,"mat-checkbox",40),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function pt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",41)(1,"mat-checkbox",42),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function ht(i,r){1&i&&(e.TgZ(0,"th",43),e._uU(1," Id "),e.qZA())}function gt(i,r){if(1&i&&(e.TgZ(0,"td",41),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.organizationId," ")}}function ut(i,r){1&i&&(e.ynx(0),e._uU(1," Address"),e.BQk())}function ft(i,r){if(1&i&&(e.TgZ(0,"th",44),e.YNc(1,ut,2,0,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function _t(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.address,"")}}function bt(i,r){if(1&i&&(e.TgZ(0,"td",46),e.YNc(1,_t,2,1,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function xt(i,r){1&i&&(e.TgZ(0,"th",44),e._uU(1," Name "),e.qZA())}function Ct(i,r){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function yt(i,r){1&i&&e._UZ(0,"tr",48)}function vt(i,r){if(1&i&&e._UZ(0,"tr",49),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const wt=function(){return[10,20,50]};let kt=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a,s,m){this.dialog=t,this._liveAnnouncer=o,this.http=n,this._snackBar=a,this.Headercds=s,this.breakpointObserver=m,this.showCreateDiv=!0,this.Organizations=[],this.displayedColumns=["select","id","address"],this.dataSource=new c.by(this.Organizations),this.selection=new w.Ov(!0,[]),this.horizontalPosition="right",this.verticalPosition="bottom",this.loading=!1,this.isSmallScreen=!1,this.isToolbarOpen=!1,this.durationInSeconds=3,this.selectedRow={},this.selections=new w.Ov(!0,[]),this.sort=new x.YE}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).pipe((0,Y.U)(o=>o.map(n=>{const a={};for(const s in n)if(n.hasOwnProperty(s)){const m=s.toLowerCase();a["organizationid"===m?"organizationId":m]=n[s]}return a})),(0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.Organizations=o,console.log(this.Organizations),this.loading=!1,this.dataSource=new c.by(this.Organizations),this.dataSource.paginator=this.paginator,this.paginator.pageSize=this.selectedOption,console.log(this.Organizations)})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,this.showCreateDiv=0===this.selections.selected.length,console.log("Selected:",this.selectedRow),this.delId=this.selectedRow.organizationId,console.log("Selected:",this.delId)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}organizationcreate(){const t=new h.vA;this.isSmallScreen?(t.height="79%",t.width="80%"):t.width="65%",this.dialog.open(ce,t).afterClosed().subscribe(n=>{if(n){console.log(n);const a=n.org;console.log(a),this.Organizations.push(a),console.log(this.Organizations),this.dataSource.data=this.Organizations}else console.log("it have no result")})}delOrganization(){if(console.log(this.selection.selected),this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0;const o=this.selection.selected.map(n=>this.http.delete(`https://dgr.sso.id/Organizations/${n.organizationId}`,{headers:t}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))));(0,B.D)(o).subscribe({next:()=>{const n=this.selection.selected.map(a=>this.http.delete(`https://api.samotplatform.com/Organizations/${a.organizationId}`,{headers:t}).pipe((0,f.K)(s=>(s.status>=400&&s.status<500?(this.openSnackBar("Client error occurred:  "+s.status,!1),this.loading=!1):s.status>=500?(this.openSnackBar("Server error occurred: "+s.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+s.status,!1),this.loading=!1),(0,_._)(s)))));(0,B.D)(n).subscribe({next:()=>{this.Organizations=this.Organizations.filter(m=>!this.selection.selected.includes(m)),this.dataSource.data=this.Organizations;const a=n.length;this.openSnackBar(`${a} Organization${a>1?"s":""} Deleted Successfully`,!0),this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.loading=!1,this.openToolbar()},error:a=>{console.error("Error deleting Organization:",a),this.openSnackBar("Please Remove dependencies!",!1)}})},error:n=>{console.error("Error deleting Organization:",n),this.loading=!1,this.openSnackBar("Error deleting Organizations from SSO.id",!1)}})}else this.openSnackBar("Select at least one employee to delete",!1),this.loading=!1}editOrganization(){const t=new h.vA;t.data=this.selectedRow,this.isSmallScreen?(t.height="79%",t.width="80%"):t.width="65%",this.dialog.open(ce,t).afterClosed().subscribe(n=>{if(n&&n.org){const a=n.org,s=this.Organizations.findIndex(m=>m.organizationId===a.organizationId);-1!==s&&(this.Organizations[s]=a,this.dataSource.data=this.Organizations,this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar())}})}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(z.Kd),e.Y36(k.eN),e.Y36(O.ux),e.Y36(e.sBO),e.Y36(M.Yg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-organizations"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:40,vars:10,consts:[[1,"main-content",2,"margin-top","0px"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"create"],[2,"margin-top","41px"],["src","/assets/img/faces/add_library_icon.png",3,"click",4,"ngIf"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[1,"card-title","mt-0"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["matColumnDef","address"],["mat-cell","","class","name-header","id","setTextAlign",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],["src","/assets/img/faces/add_library_icon.png",3,"click"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",1,"name-header"],[4,"ngIf"],["mat-cell","",1,"name-header"],["mat-cell","","id","setTextAlign",1,"name-header"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ct,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6),e.YNc(7,dt,1,0,"img",7),e.qZA()(),e.TgZ(8,"div",8)(9,"div",9)(10,"h4",10),e._uU(11,"Organizations"),e.qZA(),e.TgZ(12,"mat-toolbar",11)(13,"div",12)(14,"div",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"div",15)(18,"img",16),e.NdJ("click",function(){return n.editOrganization()}),e.qZA()(),e.TgZ(19,"div",17)(20,"img",18),e.NdJ("click",function(){return n.delOrganization()}),e.qZA()()()()()(),e.TgZ(21,"div",19)(22,"div",20)(23,"div",21)(24,"table",22),e.NdJ("matSortChange",function(s){return n.announceSortChange(s)}),e.ynx(25,23),e.YNc(26,mt,2,5,"th",24),e.YNc(27,pt,2,2,"td",25),e.BQk(),e.ynx(28,26),e.YNc(29,ht,2,0,"th",27),e.YNc(30,gt,2,1,"td",25),e.BQk(),e.ynx(31,28),e.YNc(32,ft,2,1,"th",29),e.YNc(33,bt,2,1,"td",30),e.BQk(),e.ynx(34,31),e.YNc(35,xt,2,0,"th",29),e.YNc(36,Ct,2,1,"td",32),e.BQk(),e.YNc(37,yt,1,0,"tr",33),e.YNc(38,vt,1,2,"tr",34),e.qZA(),e._UZ(39,"mat-paginator",35),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(6),e.Q6J("ngIf",n.showCreateDiv),e.xp6(8),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(9,wt))("pageSize",n.selectedOption))},dependencies:[g.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,v.NW,I.oG,x.YE,x.nU,E.Ye],styles:['.create[_ngcontent-%COMP%]{display:flex;justify-content:end;height:64px;align-items:center}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px;padding-left:43px}.name-cont[_ngcontent-%COMP%]{padding-left:43px;font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:58px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .mat-mdc-cell, .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:inherit}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600!important;font-family:popins,sans-serif}@media screen and (max-width: 768px){#setTextAlign[_ngcontent-%COMP%]{text-align:center}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}.name-header[_ngcontent-%COMP%]{padding-left:0}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}']})}return i})();function Tt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",19)(1,"mat-checkbox",20),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function St(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",21)(1,"mat-checkbox",22),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Ot(i,r){1&i&&(e.TgZ(0,"th",23),e._uU(1," EmployeeName "),e.qZA())}function Mt(i,r){if(1&i&&(e.TgZ(0,"td",24),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.employee.firstName+" "+t.employee.lastName," ")}}function At(i,r){1&i&&(e.TgZ(0,"th",25),e._uU(1," Payable "),e.qZA())}function Zt(i,r){if(1&i&&(e.TgZ(0,"td",26),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.payable," ")}}function Pt(i,r){1&i&&e._UZ(0,"tr",27)}function It(i,r){1&i&&e._UZ(0,"tr",28)}function Nt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-dialog-actions",29)(2,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.RejectRequest())}),e._uU(3,"Reject"),e.qZA(),e.TgZ(4,"button",31),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.AcceptRequest())}),e._uU(5,"Accept"),e.qZA()()()}}function Dt(i,r){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,Nt,6,0,"div",18),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",1===t.data.element.payRequestStatus)}}let Ut=(()=>{class i{constructor(t,o,n,a,s,m,d){this.snackBar=t,this.cdr=o,this.http=n,this.dialogRef=a,this._liveAnnouncer=s,this.data=m,this.routers=d,this.displayedColumns=["position","name"],this.datasource=new c.by(zt),this.payrequest={},this.request={},this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=2,this.sort=new x.YE,console.log("Upcoming data:",this.data.element),console.log("Upcoming data:",this.data.element),this.data.element?(console.log(this.data.element.payRequestDetails),this.payrequest=this.data.element):console.log("Invalid data structure")}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}canceldialog(){this.dialogRef.close()}openSnackBar(t){this.snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}AcceptRequest(){console.log("Helooo"),this.request.id=this.payrequest.id,this.request.organizationId=this.payrequest.organizationId,this.request.payRequestStatus=2;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.patch("https://api.samotplatform.com/payRequestStatus/"+this.request.id,this.request,{headers:t}).subscribe(o=>{this.openSnackBar("PayRequest Accept Successfully!"),this.routers.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.routers.navigate(["/admin/payrequest/"])}),this.dialogRef.close({emp:o}),this.cdr.detectChanges()})}RejectRequest(){console.log("Helooo"),this.request.id=this.payrequest.id,this.request.organizationId=this.payrequest.organizationId,this.request.payRequestStatus=3;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.patch("https://api.samotplatform.com/payRequestStatus/"+this.request.id,this.request,{headers:t}).subscribe(o=>{this.openSnackBar("PayRequest Reject!"),this.dialogRef.close({emp:o}),this.routers.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.routers.navigate(["/admin/payrequest/"])}),console.log("Request is Rejected"),this.cdr.detectChanges()})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(O.ux),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(h.so),e.Y36(z.Kd),e.Y36(h.WI,8),e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-pay-request-detail"]],viewQuery:function(o,n){if(1&o&&e.Gf(x.YE,5),2&o){let a;e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:19,vars:4,consts:[[1,"heading"],[2,"text-align","right"],["src","/assets/img/faces/cancel.png","mat-dialog-close","",2,"width","23px","height","23px","cursor","pointer","margin-right","12px","margin-top","12px"],[1,"card-body",2,"height","80%"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",2,"overflow-y","scroll",3,"dataSource","matSortChange"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","name"],["class","name-head","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",4,"matRowDef","matRowDefColumns"],[4,"ngIf"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],["mat-header-cell","","mat-sort-header","",1,"name-head"],["mat-cell","",1,"name-cont"],["mat-header-row",""],["mat-row","",1,"mat-row"],["align","end",1,""],["mat-button","",1,"action-button","shadow","animate","red",3,"click"],["mat-button","",1,"action-button","shadow","animate","green",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"img",2),e.qZA()(),e.TgZ(3,"div",3)(4,"div",4)(5,"div",5)(6,"table",6),e.NdJ("matSortChange",function(s){return n.announceSortChange(s)}),e.ynx(7,7),e.YNc(8,Tt,2,3,"th",8),e.YNc(9,St,2,2,"td",9),e.BQk(),e.ynx(10,10),e.YNc(11,Ot,2,0,"th",11),e.YNc(12,Mt,2,1,"td",12),e.BQk(),e.ynx(13,13),e.YNc(14,At,2,0,"th",14),e.YNc(15,Zt,2,1,"td",15),e.BQk(),e.YNc(16,Pt,1,0,"tr",16),e.YNc(17,It,1,0,"tr",17),e.qZA()()()(),e.YNc(18,Dt,2,1,"div",18)),2&o&&(e.xp6(6),e.Q6J("dataSource",n.payrequest.payRequestDetails),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("ngIf",n.data&&n.data.element&&void 0!==n.data.element.payRequestStatus))},dependencies:[g.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,I.oG,A.lW,x.YE,x.nU,h.ZT,h.H8],styles:[".animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:5px 21px;margin:0 10px 10px 0;float:left;border-radius:0;font-family:Poppins,sans-serif;font-size:14px;color:#fff;text-decoration:none}.green[_ngcontent-%COMP%]{background-color:#2ca350;border-bottom:5px solid #2980B9;text-shadow:0px -2px #298d2a;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}"]})}return i})();const zt=[];function Et(i,r){1&i&&(e.TgZ(0,"div",38),e._UZ(1,"div",39),e.qZA())}function qt(i,r){if(1&i&&(e.TgZ(0,"mat-option",40),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Bt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",41)(1,"mat-checkbox",42),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Rt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",43)(1,"mat-checkbox",44),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Jt(i,r){1&i&&(e.TgZ(0,"th",45),e._uU(1," PayRequestId "),e.qZA())}function Yt(i,r){if(1&i&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Ft(i,r){1&i&&(e.TgZ(0,"th",45),e._uU(1," Status "),e.qZA())}function Qt(i,r){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.Q6J("ngClass",o.getStatusColorClass(t.payRequestStatus)),e.xp6(1),e.hij(" ",1===t.payRequestStatus?"Pending":2===t.payRequestStatus?"Approved":3===t.payRequestStatus?"Rejected":"Unknown"," ")}}function Ht(i,r){1&i&&(e.TgZ(0,"th",45),e._uU(1," Details "),e.qZA())}function jt(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",48)(1,"mat-icon",49),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.viewRequest(a,s.i))}),e._uU(2,"visibility"),e.qZA()()}}function Lt(i,r){1&i&&e._UZ(0,"tr",50)}function $t(i,r){if(1&i&&e._UZ(0,"tr",51),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Gt=function(){return[10,50,100]};let Kt=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a){this._liveAnnouncer=t,this.dialog=o,this.http=n,this.Headercds=a,this.organizations=[],this.displayedColumns=["select","position","weight","symbol"],this.dataSource=new c.by(Wt),this.selection=new w.Ov(!0,[]),this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=2,this.results={},this.isToolbarOpen=!1,this.loading=!1,this.selected="option1",this.sort=new x.YE,this.selectedRow={},this.selections=new w.Ov(!0,[])}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/Organizations",{headers:t}).subscribe(o=>{this.organizations=o,this.selectedOption=this.organizations[0].id,this.getpayrequests()})}getpayrequests(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/organizationpayrequests/"+this.selectedOption,{headers:t}).subscribe(o=>{this.results=o,this.loading=!1,console.log(this.results),this.dataSource.data=this.results,this.dataSource.paginator=this.paginator})}getStatusColorClass(t){switch(t){case 1:return"";case 2:return"approved";case 3:return"rejected";default:return"unknown"}}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}editEmployee(){}delEmployees(){}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}viewRequest(t,o){console.log("Clicked on View button for element:",t),this.dialog.open(Ut,{data:{element:t},width:"500px",height:"500px"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(z.Kd),e.Y36(h.uw),e.Y36(k.eN),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-pay-request"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:43,vars:9,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","weight"],["mat-cell","","class","app-id",3,"ngClass",4,"matCellDef"],["matColumnDef","symbol",2,"text-align","center"],["mat-cell","","class","app-id","style","cursor: pointer;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],["mat-cell","",1,"app-id",3,"ngClass"],["mat-cell","",1,"app-id",2,"cursor","pointer"],[1,"material-icons",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Et,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),e._uU(9,"Pay Requests"),e.qZA()(),e.TgZ(10,"div",9)(11,"form",10)(12,"mat-form-field",11)(13,"mat-label",12),e._uU(14,"Organization"),e.qZA(),e.TgZ(15,"mat-select",13),e.NdJ("ngModelChange",function(s){return n.selectedOption=s})("selectionChange",function(){return n.getpayrequests()}),e.YNc(16,qt,2,2,"mat-option",14),e.qZA()()()(),e.TgZ(17,"mat-toolbar",15)(18,"div",16)(19,"div",17),e._uU(20),e.qZA(),e.TgZ(21,"div",18)(22,"div",19)(23,"img",20),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(24,"div",21)(25,"div",22)(26,"div",23)(27,"table",24),e.NdJ("matSortChange",function(s){return n.announceSortChange(s)}),e.ynx(28,25),e.YNc(29,Bt,2,3,"th",26),e.YNc(30,Rt,2,2,"td",27),e.BQk(),e.ynx(31,28),e.YNc(32,Jt,2,0,"th",29),e.YNc(33,Yt,2,1,"td",30),e.BQk(),e.ynx(34,31),e.YNc(35,Ft,2,0,"th",29),e.YNc(36,Qt,2,2,"td",32),e.BQk(),e.ynx(37,33),e.YNc(38,Ht,2,0,"th",29),e.YNc(39,jt,3,0,"td",34),e.BQk(),e.YNc(40,Lt,1,0,"tr",35),e.YNc(41,$t,1,2,"tr",36),e.qZA(),e._UZ(42,"mat-paginator",37),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(14),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.organizations),e.xp6(4),e.hij(" ",n.selection.selected.length," "),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,Gt)))},dependencies:[g.mk,g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,I.oG,x.YE,E.Ye,U.Hw],styles:['.create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}  #organization-form{width:138px!important;margin-right:20px;height:40px;position:relative}#input[_ngcontent-%COMP%]{height:20px;font-size:10px;color:#504e4e}  #organization-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(227,224,224)!important}  #organization-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:12px;padding-bottom:8px;height:31px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:39px;padding:3px;background-color:#fff}mat-label[_ngcontent-%COMP%]{color:#f7941d;transform-origin:left top;font-size:15px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:1px solid rgb(39,38,38)}  #organization-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;top:23px}.org-table[_ngcontent-%COMP%], .paginator[_ngcontent-%COMP%]{background-color:transparent}#organization-table-filter[_ngcontent-%COMP%]{width:138px!important}  .-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-side[_ngcontent-%COMP%]{margin-top:8px;margin-left:8px;width:24px;height:24px}.book-mark[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:18px;border-radius:100%}.book-icon[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px;margin-left:8px;margin-top:8px}.setting-icon[_ngcontent-%COMP%]{padding-left:12px;width:20px;height:20px;cursor:pointer}  .app-id{padding-left:0!important}.head-id[_ngcontent-%COMP%]{padding-left:0!important}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px}.name-cont[_ngcontent-%COMP%]{font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:90px;display:none}.tool-bar-block[_ngcontent-%COMP%]{height:40px;display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;padding:0;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.pay-request[_ngcontent-%COMP%]{float:right;margin-top:20px;margin-right:20px;background-color:#00b2e2}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}']})}return i})();const Wt=[];function Xt(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Vt(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username should be at least 5 characters long "),e.qZA())}function en(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username should be no more than 15 characters long "),e.qZA())}function tn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Email is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function nn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Salary is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let on=(()=>{class i{constructor(t,o,n,a,s){this.cdr=t,this.http=o,this.data=n,this.dialogRef=a,this.routers=s,this.user={},this.horizontalPosition="right",this.verticalPosition="bottom",this.NameFormControl=new l.NI("",[l.kI.required,l.kI.minLength(5),l.kI.maxLength(15)]),this.EmailFormControl=new l.NI("",[l.kI.required]),this.SalaryFormControl=new l.NI("",[l.kI.required]),this.user=n,console.log(this.user)}updateUser(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/users/"+this.user.id,this.user,{headers:t}).subscribe(o=>{this.dialogRef.close({emp:o}),this.routers.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.routers.navigate(["/admin/users/"])}),this.cdr.detectChanges()})}cancelDialog(){this.user={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(k.eN),e.Y36(h.WI,8),e.Y36(h.so),e.Y36(y.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-form"]],decls:80,vars:13,consts:[[1,"profile-content"],[1,"profile-header"],[1,"profile-text"],[1,"close-icon"],["mat-dialog-close","","src","/assets/close.svg","alt",""],[1,"profile-dialog-forms-data"],[1,"p-dialog-cont-1"],["id","p-form-data"],[1,"example-full-width"],["matInput","","placeholder","",1,"value",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","",1,"value",3,"formControl"],["id","employee-sso-form","id","p-form-data"],["id","input-t"],["matInput","",1,"value"],["type","number","matInput","",1,"value"],["id","Dform","id","p-form-data"],["id","input-text"],[1,"option"],["value","Male"],["value","Female"],["value","Others"],[1,"p-dialog-cont-2"],["matInput","","placeholder","",1,"value",3,"ngModel","ngModelChange"],["matInput","","placeholder","",1,"value"],["matInput","",1,"value",3,"ngModel","ngModelChange"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","","color","primary",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),e._uU(3,"User"),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"img",4),e.qZA()(),e.TgZ(6,"div",5)(7,"div",6)(8,"form",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"First name"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(s){return n.user.firstName=s}),e.qZA(),e.YNc(13,Xt,4,0,"mat-error",10),e.YNc(14,Vt,2,0,"mat-error",10),e.YNc(15,en,2,0,"mat-error",10),e.qZA()(),e.TgZ(16,"form",7)(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"Email"),e.qZA(),e.TgZ(20,"input",9),e.NdJ("ngModelChange",function(s){return n.user.email=s}),e.qZA(),e.YNc(21,tn,4,0,"mat-error",10),e.qZA()(),e.TgZ(22,"form",7)(23,"mat-form-field",8)(24,"mat-label"),e._uU(25,"Salary"),e.qZA(),e._UZ(26,"input",11),e.YNc(27,nn,4,0,"mat-error",10),e.qZA()(),e.TgZ(28,"form",12)(29,"mat-form-field",13)(30,"mat-label"),e._uU(31,"Address"),e.qZA(),e._UZ(32,"input",14),e.qZA()(),e.TgZ(33,"form",12)(34,"mat-form-field",13)(35,"mat-label"),e._uU(36,"Employee Status"),e.qZA(),e._UZ(37,"input",15),e.qZA()(),e.TgZ(38,"form",16)(39,"mat-form-field",17)(40,"mat-label"),e._uU(41,"Gender"),e.qZA(),e.TgZ(42,"mat-select",18)(43,"mat-option",19),e._uU(44,"Male"),e.qZA(),e.TgZ(45,"mat-option",20),e._uU(46,"Female"),e.qZA(),e.TgZ(47,"mat-option",21),e._uU(48,"Others"),e.qZA()()()()(),e.TgZ(49,"div",22)(50,"form",7)(51,"mat-form-field",8)(52,"mat-label"),e._uU(53,"Last Name"),e.qZA(),e.TgZ(54,"input",23),e.NdJ("ngModelChange",function(s){return n.user.lastName=s}),e.qZA()()(),e.TgZ(55,"form",7)(56,"mat-form-field",8)(57,"mat-label"),e._uU(58,"Mobile"),e.qZA(),e._UZ(59,"input",24),e.qZA()(),e.TgZ(60,"form",12)(61,"mat-form-field",13)(62,"mat-label"),e._uU(63,"City"),e.qZA(),e._UZ(64,"input",14),e.qZA()(),e.TgZ(65,"form",12)(66,"mat-form-field",13)(67,"mat-label"),e._uU(68,"Samot Platform Margin"),e.qZA(),e.TgZ(69,"input",25),e.NdJ("ngModelChange",function(s){return n.user.samotPlatformMargin=s}),e.qZA()()(),e.TgZ(70,"form",12)(71,"mat-form-field",13)(72,"mat-label"),e._uU(73,"Credit Limit"),e.qZA(),e.TgZ(74,"input",25),e.NdJ("ngModelChange",function(s){return n.user.creditLimit=s}),e.qZA()()()()()(),e.TgZ(75,"mat-dialog-actions",26)(76,"button",27),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(77,"Cancel"),e.qZA(),e.TgZ(78,"button",28),e.NdJ("click",function(){return n.updateUser()}),e._uU(79,"Update"),e.qZA()()),2&o&&(e.xp6(12),e.Q6J("formControl",n.NameFormControl)("ngModel",n.user.firstName),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("maxlength")),e.xp6(5),e.Q6J("formControl",n.EmailFormControl)("ngModel",n.user.email),e.xp6(1),e.Q6J("ngIf",n.EmailFormControl.hasError("required")),e.xp6(5),e.Q6J("formControl",n.SalaryFormControl),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("required")),e.xp6(27),e.Q6J("ngModel",n.user.lastName),e.xp6(15),e.Q6J("ngModel",n.user.samotPlatformMargin),e.xp6(5),e.Q6J("ngModel",n.user.creditLimit))},dependencies:[g.O5,D.Nt,b.KE,b.hX,b.TO,N.gD,C.ey,h.ZT,h.xY,h.H8,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,l.oH,A.lW],styles:[".profile-content[_ngcontent-%COMP%]{width:921px;height:73vh;overflow-x:hidden;overflow-y:hidden}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}.p-dialog-cont-1[_ngcontent-%COMP%]{width:387px}.p-dialog-cont-2[_ngcontent-%COMP%]{width:387px;margin-left:28px}.profile-dialog-forms-data[_ngcontent-%COMP%]{display:flex;width:852px;height:37vh;margin:24px;padding-left:20px}#country-selection[_ngcontent-%COMP%]{margin-left:40px;height:40px;width:387px;box-shadow:1px 2px 1px 1px #eae9e8}.tog-text[_ngcontent-%COMP%]{font-size:17px;letter-spacing:.1px;font-family:popins,sans-serif;font-weight:200;margin-left:6px;margin-top:13px;color:#3a3a3a}.password-toogle[_ngcontent-%COMP%]{display:flex}.pass-tog[_ngcontent-%COMP%]{margin-left:35px;margin-top:13px}#new-password[_ngcontent-%COMP%]{margin-left:40px}.change-password[_ngcontent-%COMP%]{display:flex;width:852px;margin-left:24px}  #country-selection .mat-mdc-form-field-icon-suffix, [dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field-icon-prefix[_ngcontent-%COMP%]{padding:0 0 0 83px;position:relative;margin-bottom:14px}  #country-selection .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff}  #country-selection .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:0}  #country-selection .mat-mdc-form-field-subscript-wrapper{height:0}  .p-dialog-cont-1 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-2 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-1 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  .p-dialog-cont-2 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  #date .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:0}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}.value[_ngcontent-%COMP%]{font-size:12px}#date-input[_ngcontent-%COMP%]::placeholder{font-size:15px}  .profile-content label{color:#767574!important}  #application-sso-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #application-sso-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #application-sso-form .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  .profile-content .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  .profile-content .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:1px solid rgb(39,38,38)}  #application-sso-form .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #application-sso-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #new-password .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #new-password .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #new-password .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #new-password .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #new-password .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-data .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:387px!important;margin:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}#application-sso-form[_ngcontent-%COMP%]{margin-top:4px}  #Dform .mat-mdc-select-value-text{color:#574f4ffa!important;font-size:14px;font-family:Poppins,sans-serif;font-weight:400;padding-bottom:30px;letter-spacing:0px}  #Dform .mat-mdc-select-arrow svg{fill:#767574!important;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #Dform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:377px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #Dform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #Dform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #Dform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}#Dform[_ngcontent-%COMP%]{height:58px}  #Dform .mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(0)!important;color:bisque}.cancel[_ngcontent-%COMP%]{margin-right:14px;color:#3a3a3a;font-size:17px;font-family:popins,sans-serif;letter-spacing:.3px;background-color:transparent;border:none}.save[_ngcontent-%COMP%]{margin-right:24px;color:#3a3a3a;font-size:17px;background-color:transparent;font-family:popins,sans-serif;letter-spacing:.3px;border:none}  .action .mat-mdc-button .mdc-button__label{font-size:13px;font-family:popins,sans-serif;letter-spacing:.1px}"]})}return i})();function an(i,r){1&i&&(e.TgZ(0,"div",38),e._UZ(1,"div",39),e.qZA())}function sn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",40)(1,"mat-checkbox",41),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function rn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",42)(1,"mat-checkbox",43),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function ln(i,r){1&i&&(e.ynx(0),e._uU(1,"Id"),e.BQk())}function cn(i,r){if(1&i&&(e.TgZ(0,"th",44),e.YNc(1,ln,2,0,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function dn(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(t.userId)}}function mn(i,r){if(1&i&&(e.TgZ(0,"td",42),e.YNc(1,dn,2,1,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function pn(i,r){1&i&&(e.TgZ(0,"th",46),e._uU(1," Name "),e.qZA())}function hn(i,r){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName+t.lastName," ")}}function gn(i,r){1&i&&(e.TgZ(0,"th",46),e._uU(1," Email "),e.qZA())}function un(i,r){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function fn(i,r){1&i&&(e.ynx(0),e._uU(1,"Margin"),e.BQk())}function _n(i,r){if(1&i&&(e.TgZ(0,"th",44),e.YNc(1,fn,2,0,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function bn(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.samotPlatformMargin,"")}}function xn(i,r){if(1&i&&(e.TgZ(0,"td",42),e.YNc(1,bn,2,1,"ng-container",45),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Cn(i,r){1&i&&e._UZ(0,"tr",48)}function yn(i,r){if(1&i&&e._UZ(0,"tr",49),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const vn=function(){return[12,20,50]};let wn=(()=>{class i{constructor(t,o,n,a,s,m,d){this.dialog=t,this._liveAnnouncer=o,this.http=n,this.AdminDataServicesService=a,this.Headercds=s,this.breakpointObserver=m,this._snackBar=d,this.users=[],this.ssoUsers=[],this.samotUser={},this.sendUserInSSo={},this.displayedColumns=["select","id","fullName","email","margin"],this.dataSource=new c.by(this.users),this.selection=new w.Ov(!0,[]),this.isToolbarOpen=!1,this.loading=!1,this.isSmallScreen=!1,this.durationInSeconds=3,this.horizontalPosition="right",this.verticalPosition="bottom",this.client={},this.selectedRow={},this.selections=new w.Ov(!0,[]),this.sort=new x.YE}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.AdminDataServicesService.contacts.length?(this.AdminDataServicesService.contacts.forEach(o=>{console.log(o),this.dataSource.data.push(o),console.log(this.dataSource.data),this.openSnackBar("User Added Succesfully",!0)}),this.AdminDataServicesService.contacts=[]):console.log("Contacts are Empty."),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/users",{headers:t}).subscribe(o=>{this.users=o,this.dataSource=new c.by(this.users),this.dataSource.paginator=this.paginator,console.log(this.users),this.loading=!1}),this.http.get("https://api.samotplatform.com/xero/config",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),this.client=o})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}Synchronize(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.post("https://dgr.sso.id/users/get",{allowOwner:!1},{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.ssoUsers=n,console.log("SSO Users",this.ssoUsers),console.log("SamotPlatform Users",this.users),this.ssoUsers.forEach(a=>{if(!this.users.find(d=>d.email==a.EmailAddress)){console.log("Not Found in samotPlatform",a),this.samotUser.FirstName=a.FirstName,this.samotUser.LastName=a.LastName,this.samotUser.Email=a.EmailAddress,this.samotUser.UserId=a.UserId;var m={Authorization:"Bearer "+localStorage.getItem("token")};this.http.post("https://api.samotplatform.com/users/",this.samotUser,{headers:m}).pipe((0,f.K)(d=>(d.status>=400&&d.status<500?(this.openSnackBar("Client error occurred:  "+d.status,!1),this.loading=!1):d.status>=500?(this.openSnackBar("Server error occurred: "+d.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+d.status,!1),this.loading=!1),(0,_._)(d)))).subscribe(d=>{console.log(d),this.users.push(d),this.dataSource.data=this.users,this.openSnackBar("Users Synced in SamotPlatform Successfully!",!0)})}}),console.log("SamotPlatformUsers",this.users),console.log("Sso.id Users",this.ssoUsers),this.users.forEach(a=>{if(this.ssoUsers.find(d=>d.EmailAddress==a.email))this.loading=!1,this.openSnackBar("Users Synced Successfully!",!0);else{if(this.sendUserInSSo.FirstName=a.firstName,this.sendUserInSSo.LastName=a.lastName,this.sendUserInSSo.EmailAddress=a.email,this.sendUserInSSo.Password="asd","admin@dangangroup.ie"==this.sendUserInSSo.EmailAddress)return void console.log("Admin email:",this.sendUserInSSo.EmailAddress);console.log("Not Found in Sso.id",a),console.log(this.sendUserInSSo);var m={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.post("https://dgr.sso.id/users",this.sendUserInSSo,{headers:m}).pipe((0,f.K)(d=>(d.status>=400&&d.status<500?(this.openSnackBar("Client error occurred:  "+d.status,!1),this.loading=!1):d.status>=500?(this.openSnackBar("Server error occurred: "+d.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+d.status,!1),this.loading=!1),(0,_._)(d)))).subscribe(d=>{this.loading=!1,console.log(d),this.openSnackBar("Users Synced in SSo.id Successfully!",!0)})}})})}editUser(){this.Headercds.detectChanges();const t=new h.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0;const o=this.dialog.open(on,t);this.Headercds.detectChanges(),o.afterClosed().subscribe(n=>{console.log(n.emp),this.users.push(n.emp),this.users=this.users.slice()})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}delEmployees(){}editEmployee(){}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(z.Kd),e.Y36(k.eN),e.Y36(q.x),e.Y36(e.sBO),e.Y36(M.Yg),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-users"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:49,vars:11,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid",2,"margin-top","6px"],[1,"row"],["id","xerobtn",1,"col-md-12"],[2,"float","right"],["type","button",1,"btn","btn-sm",2,"background-color","rgb(0,178,226)"],[3,"href"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[1,"card-title","mt-0"],[2,"float","right","margin-top","-30px"],["type","button",1,"btn","btn-sm",2,"color","rgb(0,178,226)","background-color","white","padding","8px",3,"click"],[2,"padding-top","3px"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["id","toolDelete",1,"tool-bar-delete"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","fullName"],["mat-header-cell","","mat-sort-header","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","margin"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],[4,"ngIf"],["mat-header-cell","","mat-sort-header","",1,"name-header"],["mat-cell","",1,"name-header"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,an,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6)(7,"a",7),e._uU(8," Import Contacts from Xero "),e.qZA()()()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"div")(13,"h4",11),e._uU(14,"Users"),e.qZA()(),e.TgZ(15,"div",12)(16,"button",13),e.NdJ("click",function(){return n.Synchronize()}),e.TgZ(17,"mat-icon",14),e._uU(18,"swap_vert"),e.qZA(),e._uU(19," Synchronize with Sso.id "),e.qZA()(),e.TgZ(20,"mat-toolbar",15)(21,"div",16)(22,"div",17),e._uU(23),e.qZA(),e.TgZ(24,"div",18),e._UZ(25,"div",19)(26,"div",20),e.qZA()()()(),e.TgZ(27,"div",21)(28,"div",22)(29,"div",23)(30,"table",24),e.NdJ("matSortChange",function(s){return n.announceSortChange(s)}),e.ynx(31,25),e.YNc(32,sn,2,3,"th",26),e.YNc(33,rn,2,2,"td",27),e.BQk(),e.ynx(34,28),e.YNc(35,cn,2,1,"th",29),e.YNc(36,mn,2,1,"td",27),e.BQk(),e.ynx(37,30),e.YNc(38,pn,2,0,"th",31),e.YNc(39,hn,2,1,"td",32),e.BQk(),e.ynx(40,33),e.YNc(41,gn,2,0,"th",31),e.YNc(42,un,2,1,"td",32),e.BQk(),e.ynx(43,34),e.YNc(44,_n,2,1,"th",29),e.YNc(45,xn,2,1,"td",27),e.BQk(),e.YNc(46,Cn,1,0,"tr",35),e.YNc(47,yn,1,2,"tr",36),e.qZA(),e._UZ(48,"mat-paginator",37),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(6),e.hYB("href","https://login.xero.com/identity/connect/authorize?response_type=code&client_id=",n.client.clientId,"&redirect_uri=",n.client.redirectUrl,"&scope=openid profile email accounting.contacts.read&state=123",e.LSH),e.xp6(16),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(5),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(10,vn))("pageSize",n.selectedOption))},dependencies:[g.O5,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,v.NW,I.oG,x.YE,x.nU,E.Ye,U.Hw],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:56px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}.table-hover[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600;font-family:popins,sans-serif}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:16px}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  #xerobtn{float:right;margin-top:-40px}  a{text-decoration:none;color:#fff}  a:hover{text-decoration:none;color:#fff}@media only screen and (max-width: 767px){  #xerobtn{float:right;margin-top:-40px;padding-left:0}}"]})}return i})();var de=u(1486);let kn=(()=>{class i{constructor(t,o){this.dialogRef=t,this._snackBar=o,this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=1,this.file={},this.uploadEvent={},this.arrayBuffer={},this.exceljsondata=[],this.employees=[]}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}onFileChange(t){t.target.files.length>0&&(this.file=t.target.files[0],this.uploadEvent=t);let o=new FileReader;o.onload=n=>{this.arrayBuffer=o.result;for(var a=new Uint8Array(this.arrayBuffer),s=new Array,m=0;m!=a.length;++m)s[m]=String.fromCharCode(a[m]);var d=s.join(""),p=(0,de.ij)(d,{type:"binary"});this.exceljsondata=de.P6.sheet_to_json(p.Sheets[p.SheetNames[0]],{raw:!0,defval:""})},o.readAsArrayBuffer(this.file)}addBulkEmployees(){console.log(this.exceljsondata),this.dialogRef.close(this.exceljsondata)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.so),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-bulk-employee"]],decls:9,vars:0,consts:[[2,"margin","20px"],[2,"color","black","text-align","center"],[2,"margin-top","20px"],[1,"col-sm-12"],["type","file","formControlName","orderFile","accept",".xls, .xlsx",1,"form-control","inputFile",3,"change"],[2,"padding-left","35%","padding-top","35px"],["mat-button","",1,"action-button","shadow","animate","blue",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Choose Excel(.xlsx) File"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"input",4),e.NdJ("change",function(s){return n.onFileChange(s)}),e.qZA()()()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return n.addBulkEmployees()}),e._uU(8,"Proceed"),e.qZA()())},dependencies:[l.Fj,l.JJ,l.u,A.lW],styles:[".animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:22px 30px;margin:0 10px 10px 0;float:left;font-family:Poppins,sans-serif;font-size:14px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}"]})}return i})();var P=u(8034);function Tn(i,r){1&i&&(e.TgZ(0,"div",29),e._UZ(1,"div",30),e.qZA())}function Sn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function On(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username should be no more than 10 characters long "),e.qZA())}function Mn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter valid Email "),e.qZA())}function An(i,r){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Zn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," AnnualSalary is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Pn(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Annualsalary in number form "),e.qZA())}function In(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Surname is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}let me=(()=>{class i{constructor(t,o,n,a,s,m,d,p,S){this.dialog=t,this.fb=o,this.dialogRef=n,this._snackBar=a,this.routers=s,this.data=m,this.http=d,this.route=p,this.cdr=S,this.value="",this.disableSelect=new l.NI(!1),this.hideRequiredControl=new l.NI(!1),this.floatLabelControl=new l.NI("always"),this.togOff=!1,this.employee={},this.employees=[],this.divItems=[],this.jobs=[],this.selectedJobTitle="",this.loading=!1,this.horizontalPosition="right",this.verticalPosition="bottom",this.myControl=new l.NI(""),this.options=["One","Two","Three"],this.durationInSeconds=3,this.NameFormControl=new l.NI("",[l.kI.required,l.kI.maxLength(10)]),this.EmailFormControl=new l.NI("",[l.kI.email,l.kI.required]),this.SalaryFormControl=new l.NI("",[l.kI.required,l.kI.pattern(/^-?\d*\.?\d+$/)]),this.SurNameFormControl=new l.NI("",[l.kI.required]),this.showNewComponent=!1,this.employee={...m},console.log("Employee",this.employee)}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,Q.O)(""),(0,Y.U)(t=>this._filter(t||""))),this.selectedOption=this.employee.organizationId}_filter(t){const o=t.toLowerCase();return this.options.filter(n=>n.toLowerCase().includes(o))}getFloatLabelValue(){return this.floatLabelControl.value||"always"}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}addEmployee(){if(this.NameFormControl.markAsTouched(),this.EmailFormControl.markAsTouched(),this.SalaryFormControl.markAsTouched(),this.NameFormControl.invalid||this.EmailFormControl.invalid||this.SalaryFormControl.invalid)console.log("Form is invalid");else{const t={Authorization:"Bearer "+localStorage.getItem("token")};this.employee.employeeId?(this.loading=!0,this.http.put("https://api.samotplatform.com/Employees/"+this.employee.employeeId,this.employee,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{const n=this.employees.findIndex(a=>a.employeeId===this.employee.employeeId);-1!==n&&(this.employees[n]=o),this.openSnackBar("Employee Updated Successfully",!0),this.dialogRef.close({emp:o})}),this.loading=!1):(this.loading=!0,this.http.post("https://api.samotplatform.com/Employees",this.employee,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.employees.push(o),this.openSnackBar("Employee Created Successfully",!0),this.dialogRef.close({emp:o})}),this.loading=!1)}}addJobs(){this.divItems.push({selectedJobTitle:""})}deleteRow(t){this.divItems.splice(t,1)}updateRate(t){const o=this.jobs.find(n=>n.title===this.divItems[t].selectedJobTitle);console.log(o),this.divItems[t].selectedJobRate=o.rate,console.log(this.divItems)}cancelDialog(){this.employee={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(l.qu),e.Y36(h.so),e.Y36(O.ux),e.Y36(y.F0),e.Y36(h.WI,8),e.Y36(k.eN),e.Y36(y.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-create"]],decls:99,vars:31,consts:[[1,"profile-content"],["class","overlay",4,"ngIf"],[1,"profile-header"],[1,"profile-text"],[1,"close-icon",2,"text-align","right","padding-right","10px","color","white"],["mat-dialog-close","",1,"material-icons"],[1,"profile-dialog-forms-data"],[1,"p-dialog-cont-1"],["id","p-form-data"],[1,"example-full-width"],["matInput","","placeholder","",1,"value",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","","type","email",1,"value",3,"formControl","ngModel","ngModelChange"],["id","employee-sso-form","id","p-form-data"],["id","setDate"],["matInput","",2,"font-size","14px",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["dobpicker",""],["id","Dform","id","p-form-data"],["startDatepicker",""],[1,"p-dialog-cont-2"],["id","input-t"],["matInput","",1,"value",3,"ngModel","ngModelChange"],[1,"p-dialog-cont-3"],["id","input-text"],["matInput","","placeholder","",1,"value",3,"ngModel","ngModelChange"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"],[1,"overlay"],[1,"loader"]],template:function(o,n){if(1&o&&(e.TgZ(0,"mat-dialog-content",0),e.YNc(1,Tn,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"mat-icon",5),e._uU(7,"clear"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"form",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"First name"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(s){return n.employee.firstName=s}),e.qZA(),e.YNc(15,Sn,4,0,"mat-error",11),e.YNc(16,On,2,0,"mat-error",11),e.qZA()(),e.TgZ(17,"form",8)(18,"mat-form-field",9)(19,"mat-label"),e._uU(20,"Email"),e.qZA(),e.TgZ(21,"input",12),e.NdJ("ngModelChange",function(s){return n.employee.email=s}),e.qZA(),e.YNc(22,Mn,2,0,"mat-error",11),e.YNc(23,An,3,0,"mat-error",11),e.qZA()(),e.TgZ(24,"form",8)(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"AnnualSalary"),e.qZA(),e.TgZ(28,"input",10),e.NdJ("ngModelChange",function(s){return n.employee.annualSalary=s}),e.qZA(),e.YNc(29,Zn,4,0,"mat-error",11),e.YNc(30,Pn,2,0,"mat-error",11),e.qZA()(),e.TgZ(31,"form",13)(32,"mat-form-field",14)(33,"mat-label"),e._uU(34,"DateOfBirth"),e.qZA(),e.TgZ(35,"input",15),e.NdJ("ngModelChange",function(s){return n.employee.dob=s}),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"MM/DD/YYYY"),e.qZA(),e._UZ(38,"mat-datepicker-toggle",16)(39,"mat-datepicker",null,17),e.qZA()(),e.TgZ(41,"form",18)(42,"mat-form-field",14)(43,"mat-label"),e._uU(44,"StartDate"),e.qZA(),e.TgZ(45,"input",15),e.NdJ("ngModelChange",function(s){return n.employee.startDate=s}),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"MM/DD/YYYY"),e.qZA(),e._UZ(48,"mat-datepicker-toggle",16)(49,"mat-datepicker",null,19),e.qZA()()(),e.TgZ(51,"div",20)(52,"form",8)(53,"mat-form-field",9)(54,"mat-label"),e._uU(55,"Surname"),e.qZA(),e.TgZ(56,"input",10),e.NdJ("ngModelChange",function(s){return n.employee.lastName=s}),e.qZA(),e.YNc(57,In,4,0,"mat-error",11),e.qZA()(),e.TgZ(58,"form",13)(59,"mat-form-field",21)(60,"mat-label"),e._uU(61,"Address 1"),e.qZA(),e.TgZ(62,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.address1=s}),e.qZA()()(),e.TgZ(63,"form",13)(64,"mat-form-field",21)(65,"mat-label"),e._uU(66,"Address 2"),e.qZA(),e.TgZ(67,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.address2=s}),e.qZA()()(),e.TgZ(68,"form",13)(69,"mat-form-field",21)(70,"mat-label"),e._uU(71,"Address 3"),e.qZA(),e.TgZ(72,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.address3=s}),e.qZA()()(),e.TgZ(73,"form",13)(74,"mat-form-field",21)(75,"mat-label"),e._uU(76,"Address 4"),e.qZA(),e.TgZ(77,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.address4=s}),e.qZA()()()(),e.TgZ(78,"div",23)(79,"form",13)(80,"mat-form-field",21)(81,"mat-label"),e._uU(82,"BIC(Revolute)"),e.qZA(),e.TgZ(83,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.bic=s}),e.qZA()()(),e.TgZ(84,"form",18)(85,"mat-form-field",24)(86,"mat-label"),e._uU(87,"IBAN"),e.qZA(),e.TgZ(88,"input",22),e.NdJ("ngModelChange",function(s){return n.employee.iban=s}),e.qZA()()(),e.TgZ(89,"form",8)(90,"mat-form-field",9)(91,"mat-label"),e._uU(92,"PPSN"),e.qZA(),e.TgZ(93,"input",25),e.NdJ("ngModelChange",function(s){return n.employee.mobileNumber=s}),e.qZA()()()()()(),e.TgZ(94,"mat-dialog-actions",26)(95,"button",27),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(96," Cancel "),e.qZA(),e.TgZ(97,"button",28),e.NdJ("click",function(){return n.addEmployee()}),e._uU(98),e.qZA()()),2&o){const a=e.MAs(40),s=e.MAs(50);e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.hij(" ",n.employee.employeeId?"Update":"Create",""),e.xp6(10),e.Q6J("formControl",n.NameFormControl)("ngModel",n.employee.firstName),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("maxlength")),e.xp6(5),e.Q6J("formControl",n.EmailFormControl)("ngModel",n.employee.email),e.xp6(1),e.Q6J("ngIf",n.EmailFormControl.hasError("email")),e.xp6(1),e.Q6J("ngIf",n.EmailFormControl.hasError("required")),e.xp6(5),e.Q6J("formControl",n.SalaryFormControl)("ngModel",n.employee.annualSalary),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("pattern")),e.xp6(5),e.Q6J("matDatepicker",a)("ngModel",n.employee.dob),e.xp6(3),e.Q6J("for",a),e.xp6(7),e.Q6J("matDatepicker",s)("ngModel",n.employee.startDate),e.xp6(3),e.Q6J("for",s),e.xp6(8),e.Q6J("formControl",n.SurNameFormControl)("ngModel",n.employee.lastName),e.xp6(1),e.Q6J("ngIf",n.SurNameFormControl.hasError("required")),e.xp6(5),e.Q6J("ngModel",n.employee.address1),e.xp6(5),e.Q6J("ngModel",n.employee.address2),e.xp6(5),e.Q6J("ngModel",n.employee.address3),e.xp6(5),e.Q6J("ngModel",n.employee.address4),e.xp6(6),e.Q6J("ngModel",n.employee.bic),e.xp6(5),e.Q6J("ngModel",n.employee.iban),e.xp6(5),e.Q6J("ngModel",n.employee.mobileNumber),e.xp6(5),e.hij(" ",n.employee.employeeId?"Update":"Create"," ")}},dependencies:[g.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,l.oH,b.KE,b.hX,b.bx,b.TO,b.R9,D.Nt,A.lW,h.ZT,h.xY,h.H8,P.Mq,P.hl,P.nW,U.Hw],styles:[".profile-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}.p-dialog-cont-1[_ngcontent-%COMP%]{width:312px}.p-dialog-cont-2[_ngcontent-%COMP%], .p-dialog-cont-3[_ngcontent-%COMP%]{width:312px;margin-left:28px}.profile-dialog-forms-data[_ngcontent-%COMP%]{display:flex;width:841px;height:57vh;margin:24px;padding-left:20px}#country-selection[_ngcontent-%COMP%]{margin-left:40px;height:40px;width:387px;box-shadow:1px 2px 1px 1px #eae9e8}.tog-text[_ngcontent-%COMP%]{font-size:17px;letter-spacing:.1px;font-family:popins,sans-serif;font-weight:200;margin-left:6px;margin-top:13px;color:#3a3a3a}.password-toogle[_ngcontent-%COMP%]{display:flex}.pass-tog[_ngcontent-%COMP%]{margin-left:35px;margin-top:13px}#new-password[_ngcontent-%COMP%]{margin-left:40px}.change-password[_ngcontent-%COMP%]{display:flex;width:852px;margin-left:24px}  #country-selection .mat-mdc-form-field-icon-suffix, [dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field-icon-prefix[_ngcontent-%COMP%]{padding:0 0 0 83px;position:relative;margin-bottom:14px}  #country-selection .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff}  #country-selection .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:0}  #country-selection .mat-mdc-form-field-subscript-wrapper{height:0}  .p-dialog-cont-1 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-3 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-2 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-1 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  .p-dialog-cont-3 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  .p-dialog-cont-2 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  #date .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:0}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important}.value[_ngcontent-%COMP%]{font-size:12px}#date-input[_ngcontent-%COMP%]::placeholder{font-size:15px}  .profile-content label{color:#767574!important}  #application-sso-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #application-sso-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #application-sso-form .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  .profile-content .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  .profile-content .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}  #application-sso-form .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #application-sso-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #new-password .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #new-password .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #new-password .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #new-password .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #new-password .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-data .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:250px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:250px!important;margin:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}#application-sso-form[_ngcontent-%COMP%]{margin-top:4px}  #Dform .mat-mdc-select-value-text{color:#574f4ffa!important;font-size:14px;font-family:Poppins,sans-serif;font-weight:400;padding-bottom:30px;letter-spacing:0px}  #Dform .mat-mdc-select-arrow svg{fill:#767574!important;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #Dform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:377px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #Dform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #Dform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #Dform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}#Dform[_ngcontent-%COMP%]{height:58px}  #Dform .mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(0)!important;color:bisque}.cancel[_ngcontent-%COMP%]{margin-right:14px;color:#3a3a3a;font-size:17px;font-family:popins,sans-serif;letter-spacing:.3px;background-color:transparent;border:none}.save[_ngcontent-%COMP%]{margin-right:24px;color:#3a3a3a;font-size:17px;background-color:transparent;font-family:popins,sans-serif;letter-spacing:.3px;border:none}  .action .mat-mdc-button .mdc-button__label{font-size:13px;font-family:popins,sans-serif;letter-spacing:.1px}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  .profile-dialog-forms-data .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  .job-title.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;background:white;padding:0}  .Rate.mdc-text-field--filled:not(.mdc-text-field--disabled){height:50px!important;background:white}.flex-containers[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:45px;width:80%}.rate[_ngcontent-%COMP%], .hours[_ngcontent-%COMP%], .delbtn[_ngcontent-%COMP%]{flex:1}.rate[_ngcontent-%COMP%]{padding-left:45px}  #widset .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:138%;left:50%;transform:translate(-50%,-50%)}  #widset .mdc-text-field--filled:not(.mdc-text-field--disabled){padding:0;font-size:14px;background-color:#fff}  #widset .mat-mdc-form-field-focus-overlay{background-color:transparent}  #widset .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  #widset .mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin-left:16px;font-family:popins,sans-serif}.profile-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll}.profile-dialog-forms-data[_ngcontent-%COMP%]{flex-direction:column;display:flex;margin:0;padding-left:20px}  .profile-dialog-forms-data .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:12px}.p-dialog-cont-2[_ngcontent-%COMP%], .p-dialog-cont-3[_ngcontent-%COMP%]{width:312px;margin-left:0}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();var pe=u(3413);function Nn(i,r){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"div",45),e.qZA())}function Dn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.AddBulk())}),e._UZ(1,"img",47),e._uU(2," Bulk Add "),e.qZA()}}function Un(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"img",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openDialog())}),e.qZA()}}function zn(i,r){if(1&i&&(e.TgZ(0,"mat-option",49),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function En(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",50)(1,"mat-checkbox",51),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function qn(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",52)(1,"mat-checkbox",53),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Bn(i,r){1&i&&(e.TgZ(0,"th",54),e._uU(1," Name "),e.qZA())}function Rn(i,r){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function Jn(i,r){1&i&&(e.ynx(0),e._uU(1,"SurName"),e.BQk())}function Yn(i,r){if(1&i&&(e.TgZ(0,"th",50),e.YNc(1,Jn,2,0,"ng-container",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Fn(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Qn(i,r){if(1&i&&(e.TgZ(0,"td",52),e.YNc(1,Fn,2,1,"ng-container",55),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Hn(i,r){1&i&&(e.TgZ(0,"th",56),e._uU(1," Email "),e.qZA())}function jn(i,r){if(1&i&&(e.TgZ(0,"td",57),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Ln(i,r){1&i&&(e.TgZ(0,"th",56),e._uU(1," AnnualSalary "),e.qZA())}function $n(i,r){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.annualSalary,"EUR")," ")}}function Gn(i,r){1&i&&e._UZ(0,"tr",59)}function Kn(i,r){if(1&i&&e._UZ(0,"tr",60),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Wn=function(){return[10,20,50]};let Xn=(()=>{class i{constructor(t,o,n,a,s,m,d,p){this.dialog=t,this._liveAnnouncer=o,this.changeDetectorRefs=n,this.http=a,this._snackBar=s,this.dataService=m,this.Headercds=d,this.breakpointObserver=p,this.showCreateDiv=!0,this.Organizations=[],this.employees=[],this.displayedColumns=["select","firstName","lastName","email","salary"],this.dataSource=new c.by(this.employees),this.selection=new w.Ov(!0,[]),this.isToolbarOpen=!1,this.deleteRecordSave=[],this.horizontalPosition="right",this.verticalPosition="bottom",this.sort=new x.YE,this.loading=!1,this.isSmallScreen=!1,this.durationInSeconds=3,this.selectedRow={},this.selections=new w.Ov(!0,[])}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{0!==o.length?(console.log(o),this.Organizations=o,this.selectedOption=this.Organizations[0].OrganizationId,this.loading=!1,this.getEmployees()):this.loading=!1})}getEmployees(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/organizationemployees/"+this.selectedOption,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{0!==o.length?(console.log(o),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loading=!1,console.log(this.employees)):this.loading=!1})}handlePage(t){}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,this.showCreateDiv=0===this.selections.selected.length,console.log("Selected:",this.selectedRow)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openDialog(){const t=new h.vA;t.data={organizationId:this.selectedOption},t.width=this.isSmallScreen?"80%":"58%",this.dialog.open(me,t).afterClosed().subscribe(n=>{n&&n.emp&&(this.employees.push(n.emp),this.dataSource.data=this.employees)})}editEmployee(){const t=new h.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0,t.width=this.isSmallScreen?"80%":"66%",this.dialog.open(me,t).afterClosed().subscribe(n=>{if(n&&n.emp){const a=this.employees.findIndex(s=>s.employeeId===n.emp.employeeId);-1!==a&&(this.employees[a]=n.emp,this.dataSource.data=this.employees,this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar())}})}delEmployees(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0;const o=this.selection.selected.map(n=>this.http.delete(`https://api.samotplatform.com/Employees/${n.employeeId}/${n.organizationId}`,{headers:t}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))));(0,B.D)(o).subscribe({next:()=>{this.loading=!1,this.employees=this.employees.filter(s=>!this.selection.selected.includes(s)),this.selection.clear(),this.dataSource.data=this.employees;const n=o.length;this.openSnackBar(`${n} Employee${n>1?"s":""} Deleted Successfully`,!0),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar()},error:n=>{console.error("Error deleting employees:",n),this.openSnackBar("Please Remove dependencies!",!1)}})}else this.openSnackBar("Select at least one employee to delete",!1)}AddBulk(){this.dialog.open(kn,{width:"400px",height:"250px"}).afterClosed().subscribe(o=>{console.log(o);let n=o.length;o.forEach(a=>{var s=this.dataSource.data.find(d=>d.email==a.email);if(console.log(s),void 0!==s)this.openSnackBar("Already exists!",!1),n-=1;else{this.loading=!0,a.organizationId=this.selectedOption;var m={Authorization:"Bearer "+localStorage.getItem("token")};this.http.post("https://api.samotplatform.com/Employees",a,{headers:m}).pipe((0,f.K)(d=>(d.status>=400&&d.status<500?(this.openSnackBar("Client error occurred:  "+d.status,!1),this.loading=!1):d.status>=500?(this.openSnackBar("Server error occurred: "+d.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+d.status,!1),this.loading=!1),(0,_._)(d)))).subscribe(d=>{console.log(d),this.employees.push(d),this.dataSource.data=this.employees,this.loading=!1})}}),n>0&&this.openSnackBar(n+"  Employee(s) Added Successfully!",!0)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(z.Kd),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(O.ux),e.Y36(pe.D),e.Y36(e.sBO),e.Y36(M.Yg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:51,vars:12,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid",2,"margin-top","-30px"],["id","setinput",1,"row"],[1,"col-md-12"],[1,"create",2,"height","37px"],["mat-button","","class","action-button shadow animate blue","style","border-radius: 3px;",3,"click",4,"ngIf"],["src","/assets/img/faces/add_library_icon.png",3,"click",4,"ngIf"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","firstName"],["class","name-head","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","salary"],["mat-cell","","class","app-id","id","setTextAlign",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],["mat-button","",1,"action-button","shadow","animate","blue",2,"border-radius","3px",3,"click"],["src","/assets/img/faces/addIcon.png",2,"height","16px","width","16px"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"name-head"],[4,"ngIf"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],["mat-cell","","id","setTextAlign",1,"app-id"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Nn,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.YNc(6,Dn,3,0,"button",6),e.YNc(7,Un,1,0,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"h4",11),e._uU(12,"Employees Information"),e.qZA()(),e.TgZ(13,"div",12)(14,"form",13)(15,"mat-form-field",14)(16,"mat-label",15),e._uU(17,"Organization"),e.qZA(),e.TgZ(18,"mat-select",16),e.NdJ("ngModelChange",function(s){return n.selectedOption=s})("selectionChange",function(){return n.getEmployees()}),e.YNc(19,zn,2,2,"mat-option",17),e.qZA()()()(),e.TgZ(20,"mat-toolbar",18)(21,"div",19)(22,"div",20),e._uU(23),e.qZA(),e.TgZ(24,"div",21)(25,"div",22)(26,"img",23),e.NdJ("click",function(){return n.editEmployee()}),e.qZA()(),e.TgZ(27,"div",24)(28,"img",25),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(29,"div",26)(30,"div",27)(31,"div",28)(32,"table",29),e.ynx(33,30),e.YNc(34,En,2,5,"th",31),e.YNc(35,qn,2,2,"td",32),e.BQk(),e.ynx(36,33),e.YNc(37,Bn,2,0,"th",34),e.YNc(38,Rn,2,1,"td",32),e.BQk(),e.ynx(39,35),e.YNc(40,Yn,2,1,"th",31),e.YNc(41,Qn,2,1,"td",32),e.BQk(),e.ynx(42,36),e.YNc(43,Hn,2,0,"th",37),e.YNc(44,jn,2,1,"td",38),e.BQk(),e.ynx(45,39),e.YNc(46,Ln,2,0,"th",37),e.YNc(47,$n,3,4,"td",40),e.BQk(),e.YNc(48,Gn,1,0,"tr",41),e.YNc(49,Kn,1,2,"tr",42),e.qZA(),e._UZ(50,"mat-paginator",43),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Q6J("ngIf",n.showCreateDiv),e.xp6(1),e.Q6J("ngIf",n.showCreateDiv),e.xp6(11),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(16),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(11,Wn)))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,I.oG,A.lW,E.Ye,g.H9],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}  .mat-mdc-button .mdc-button__label, .mat-mdc-unelevated-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{z-index:0!important}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}@media screen and (max-width: 768px){#setTextAlign[_ngcontent-%COMP%]{text-align:center}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();var he=u(3999);function Vn(i,r){1&i&&(e.TgZ(0,"div",42),e._UZ(1,"div",43),e.qZA())}function eo(i,r){if(1&i&&(e.TgZ(0,"mat-option",44),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function to(i,r){if(1&i&&(e.TgZ(0,"mat-option",44),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.groupId),e.xp6(1),e.hij(" ",t.name," ")}}function no(i,r){1&i&&(e.TgZ(0,"th",45),e._uU(1," Id "),e.qZA())}function oo(i,r){if(1&i&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.timesheetId," ")}}function io(i,r){1&i&&(e.TgZ(0,"th",47),e._uU(1," Type "),e.qZA())}function ao(i,r){1&i&&(e.ynx(0),e._uU(1,"Hourly"),e.BQk())}function so(i,r){1&i&&(e.ynx(0),e._uU(1,"Fixed"),e.BQk())}function ro(i,r){if(1&i&&(e.TgZ(0,"td",48),e.YNc(1,ao,2,0,"ng-container",49),e.YNc(2,so,2,0,"ng-container",49),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1===t.type),e.xp6(1),e.Q6J("ngIf",2===t.type)}}function lo(i,r){1&i&&(e.TgZ(0,"th",47),e._uU(1," Period "),e.qZA())}function co(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.weekStartDate,"MMM d, y")," - ",e.xi3(3,5,t.weekEndDate,"MMM d, y")," ")}}function mo(i,r){1&i&&(e.TgZ(0,"th",47),e._uU(1," Status "),e.qZA())}function po(i,r){if(1&i&&(e.TgZ(0,"td",50),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",o.getStatusText(t.status)," ")}}function ho(i,r){1&i&&(e.TgZ(0,"th",47),e._uU(1," Total "),e.qZA())}function go(i,r){if(1&i&&(e.TgZ(0,"td",51),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subTotal,"EUR")," ")}}function uo(i,r){1&i&&(e.TgZ(0,"th",47),e._uU(1," AuditLog "),e.qZA())}function fo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",51)(1,"mat-icon",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.openForm(a))}),e._uU(2,"assignment"),e.qZA()()}}function _o(i,r){1&i&&e._UZ(0,"tr",53)}function bo(i,r){if(1&i&&e._UZ(0,"tr",54),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const xo=function(){return[10,20,50]};let Co=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a,s,m){this._liveAnnouncer=t,this.dataService=o,this.dialog=n,this.http=a,this._snackBar=s,this.Headercds=m,this.Organizations=[],this.OrganizationUnit=[],this.displayedColumns=["id","Type","Period","SubTotal","Status","view"],this.timeSheets=[],this.dataSource=new c.by(this.timeSheets),this.selection=new w.Ov(!0,[]),this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=2,this.baseUrl="https://api.samotplatform.com/",this.results={},this.isToolbarOpen=!1,this.loading=!1,this.selected="option1",this.sort=new x.YE,this.selectedRow={},this.selections=new w.Ov(!0,[])}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).subscribe(o=>{0!==o.length?(console.log(o),this.Organizations=o,this.dataService.organization=this.Organizations[0].OrganizationId,this.loading=!1,this.getOrgUnit()):this.loading=!1})}getOrgUnit(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get(this.baseUrl+"groups/organization/"+this.dataService.organization,{headers:t}).subscribe(o=>{this.OrganizationUnit=o,console.log(this.OrganizationUnit),this.OrganizationUnit.length>0||(this.dataService.selectedOrganizationUnit=null),this.loading=!1,this.getTimeSheet()})}getTimeSheet(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.dataService.selectedOrganizationUnit||this.http.get("https://api.samotplatform.com/organization/timesheets/"+this.dataService.organization,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.dataSource.data=[],this.timeSheets=[],this.loading=!1,console.log(o),null!=o&&(o.forEach(n=>{4==n.status&&this.timeSheets.push(n)}),this.dataSource=new c.by(this.timeSheets),this.dataSource.paginator=this.paginator,console.log(this.timeSheets))}),this.http.get("https://api.samotplatform.com/Timesheets/organizationunit/"+this.dataService.selectedOrganizationUnit,{headers:t}).subscribe(o=>{0!==o.length?(this.dataSource.data=[],this.timeSheets=[],this.loading=!1,console.log(o),null!=o&&(o.forEach(n=>{4==n.status&&this.timeSheets.push(n)}),this.dataSource=new c.by(this.timeSheets),this.dataSource.paginator=this.paginator,console.log(this.timeSheets))):this.loading=!1})}getStatusText(t){switch(t){case 1:return"Pending For Client Approval";case 2:return"Pending";case 3:return"Client DisApproved";case 4:return"Completed";case 5:return"DisApproved";default:return"Unknown"}}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openForm(t){this.dialog.open(he.o,{width:"883px",height:"600px",data:t})}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}delLogs(){}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}viewLog(t){console.log("Clicked on View button for element:",t),this.dialog.open(he.o,{data:{element:t},width:"500px",height:"500px"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(z.Kd),e.Y36(q.x),e.Y36(h.uw),e.Y36(k.eN),e.Y36(O.ux),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-audit-logs"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:59,vars:11,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px","display","flex"],[2,"padding-right","13px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","id"],["class","head-id","mat-header-cell","","style","padding-left: 20px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 20px;",4,"matCellDef"],["matColumnDef","Type"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Period"],["matColumnDef","Status"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","SubTotal"],["mat-cell","","class","app-id","style","cursor: pointer",4,"matCellDef"],["matColumnDef","view"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"head-id",2,"padding-left","20px"],["mat-cell","",2,"padding-left","20px"],["mat-header-cell","",1,"head-id"],["mat-cell",""],[4,"ngIf"],["mat-cell","",1,"app-id"],["mat-cell","",1,"app-id",2,"cursor","pointer"],[1,"material-icons",2,"cursor","pointer",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Vn,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),e._uU(9,"AuditLogs"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"form",11)(13,"mat-form-field",12)(14,"mat-label",13),e._uU(15,"Organization"),e.qZA(),e.TgZ(16,"mat-select",14),e.NdJ("ngModelChange",function(s){return n.dataService.organization=s})("selectionChange",function(){return n.getOrgUnit()}),e.YNc(17,eo,2,2,"mat-option",15),e.qZA()()()(),e.TgZ(18,"div")(19,"form",11)(20,"mat-form-field",12)(21,"mat-label",13),e._uU(22,"OrgUnit"),e.qZA(),e.TgZ(23,"mat-select",14),e.NdJ("ngModelChange",function(s){return n.dataService.selectedOrganizationUnit=s})("selectionChange",function(){return n.getTimeSheet()}),e.YNc(24,to,2,2,"mat-option",15),e.TgZ(25,"mat-option"),e._uU(26,"None"),e.qZA()()()()()(),e.TgZ(27,"mat-toolbar",16)(28,"div",17)(29,"div",18),e._uU(30),e.qZA(),e.TgZ(31,"div",19)(32,"div",20)(33,"img",21),e.NdJ("click",function(){return n.delLogs()}),e.qZA()()()()()(),e.TgZ(34,"div",22)(35,"div",23)(36,"div",24)(37,"table",25),e.ynx(38,26),e.YNc(39,no,2,0,"th",27),e.YNc(40,oo,2,1,"td",28),e.BQk(),e.ynx(41,29),e.YNc(42,io,2,0,"th",30),e.YNc(43,ro,3,2,"td",31),e.BQk(),e.ynx(44,32),e.YNc(45,lo,2,0,"th",30),e.YNc(46,co,4,8,"td",31),e.BQk(),e.ynx(47,33),e.YNc(48,mo,2,0,"th",34),e.YNc(49,po,3,1,"td",35),e.BQk(),e.ynx(50,36),e.YNc(51,ho,2,0,"th",34),e.YNc(52,go,3,4,"td",37),e.BQk(),e.ynx(53,38),e.YNc(54,uo,2,0,"th",34),e.YNc(55,fo,3,0,"td",37),e.BQk(),e.YNc(56,_o,1,0,"tr",39),e.YNc(57,bo,1,2,"tr",40),e.qZA(),e._UZ(58,"mat-paginator",41),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(15),e.Q6J("ngModel",n.dataService.organization),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(6),e.Q6J("ngModel",n.dataService.selectedOrganizationUnit),e.xp6(1),e.Q6J("ngForOf",n.OrganizationUnit),e.xp6(6),e.hij(" ",n.selection.selected.length," "),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(10,xo)))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,E.Ye,U.Hw,g.H9,g.uU],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 900px){  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:150px!important;height:51px!important;border-radius:7px!important}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}"]})}return i})();var L=u(6676),yo=u.t(L,2),vo=u.n(L);const R=L||yo,G=new e.OlP("MAT_MOMENT_DATE_ADAPTER_OPTIONS",{providedIn:"root",factory:function wo(){return{useUtc:!1}}});function ko(i,r){const t=Array(i);for(let o=0;o<i;o++)t[o]=r(o);return t}let ge=(()=>{class i extends C._A{constructor(t,o){super(),this._options=o,this.setLocale(t||R.locale())}setLocale(t){super.setLocale(t);let o=R.localeData(t);this._localeData={firstDayOfWeek:o.firstDayOfWeek(),longMonths:o.months(),shortMonths:o.monthsShort(),dates:ko(31,n=>this.createDate(2017,0,n+1).format("D")),longDaysOfWeek:o.weekdays(),shortDaysOfWeek:o.weekdaysShort(),narrowDaysOfWeek:o.weekdaysMin()}}getYear(t){return this.clone(t).year()}getMonth(t){return this.clone(t).month()}getDate(t){return this.clone(t).date()}getDayOfWeek(t){return this.clone(t).day()}getMonthNames(t){return"long"==t?this._localeData.longMonths:this._localeData.shortMonths}getDateNames(){return this._localeData.dates}getDayOfWeekNames(t){return"long"==t?this._localeData.longDaysOfWeek:"short"==t?this._localeData.shortDaysOfWeek:this._localeData.narrowDaysOfWeek}getYearName(t){return this.clone(t).format("YYYY")}getFirstDayOfWeek(){return this._localeData.firstDayOfWeek}getNumDaysInMonth(t){return this.clone(t).daysInMonth()}clone(t){return t.clone().locale(this.locale)}createDate(t,o,n){const a=this._createMoment({year:t,month:o,date:n}).locale(this.locale);return a.isValid(),a}today(){return this._createMoment().locale(this.locale)}parse(t,o){return t&&"string"==typeof t?this._createMoment(t,o,this.locale):t?this._createMoment(t).locale(this.locale):null}format(t,o){return t=this.clone(t),this.isValid(t),t.format(o)}addCalendarYears(t,o){return this.clone(t).add({years:o})}addCalendarMonths(t,o){return this.clone(t).add({months:o})}addCalendarDays(t,o){return this.clone(t).add({days:o})}toIso8601(t){return this.clone(t).format()}deserialize(t){let o;if(t instanceof Date)o=this._createMoment(t).locale(this.locale);else if(this.isDateInstance(t))return this.clone(t);if("string"==typeof t){if(!t)return null;o=this._createMoment(t,R.ISO_8601).locale(this.locale)}return o&&this.isValid(o)?this._createMoment(o).locale(this.locale):super.deserialize(t)}isDateInstance(t){return R.isMoment(t)}isValid(t){return this.clone(t).isValid()}invalid(){return R.invalid()}_createMoment(t,o,n){const{strict:a,useUtc:s}=this._options||{};return s?R.utc(t,o,n,a):R(t,o,n,a)}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(C.Ad,8),e.LFG(G,8))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();function So(i,r){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",12),e._uU(5),e.qZA()()),2&i){const t=r.$implicit;e.xp6(2),e.Oqu(t.day),e.xp6(3),e.hij("(",t.date,")")}}function Oo(i,r){if(1&i&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&i){const t=r.$implicit,o=e.oxw().$implicit,n=e.oxw();e.Q6J("value",t.shiftId)("disabled",n.isShiftSelected(t.shiftId,o)),e.xp6(1),e.hij(" ",t.name," ")}}function Mo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"mat-form-field",14)(2,"mat-label"),e._uU(3,"Select Shift"),e.qZA(),e.TgZ(4,"mat-select",15),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.shiftId=n)})("selectionChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onShiftSelectChange(a))}),e.YNc(5,Oo,2,3,"mat-option",16),e.qZA()(),e.TgZ(6,"div",17)(7,"mat-form-field",18)(8,"span",19),e._uU(9),e.qZA(),e.TgZ(10,"input",20),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.payRate=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())}),e.qZA()()(),e.TgZ(11,"div",21)(12,"mat-form-field",22)(13,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.mondayHours=n)}),e.qZA()(),e.TgZ(14,"mat-form-field",24)(15,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.tuesdayHours=n)}),e.qZA()(),e.TgZ(16,"mat-form-field",25)(17,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.wednesdayHours=n)}),e.qZA()(),e.TgZ(18,"mat-form-field",26)(19,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.thursdayHours=n)}),e.qZA()(),e.TgZ(20,"mat-form-field",27)(21,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.fridayHours=n)}),e.qZA()(),e.TgZ(22,"mat-form-field",28)(23,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.saturdayHours=n)}),e.qZA()(),e.TgZ(24,"mat-form-field",25)(25,"input",23),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.sundayHours=n)}),e.qZA()()(),e.TgZ(26,"div",21)(27,"mat-form-field",18)(28,"input",29),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.totalHours=n)}),e.qZA()()(),e.TgZ(29,"div",21)(30,"mat-form-field",18)(31,"span",19),e._uU(32),e.qZA(),e.TgZ(33,"input",30),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.totalPay=n)}),e.qZA()()(),e.TgZ(34,"div",31)(35,"mat-icon",32),e.NdJ("click",function(){const a=e.CHM(t).index,s=e.oxw();return e.KtG(s.removeJob(a))}),e._uU(36,"delete"),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(4),e.Q6J("ngModel",t.shiftId),e.xp6(1),e.Q6J("ngForOf",o.shifts),e.xp6(4),e.Oqu("\u20ac"),e.xp6(1),e.Q6J("ngModel",t.payRate),e.xp6(3),e.Q6J("ngModel",t.mondayHours),e.xp6(2),e.Q6J("ngModel",t.tuesdayHours),e.xp6(2),e.Q6J("ngModel",t.wednesdayHours),e.xp6(2),e.Q6J("ngModel",t.thursdayHours),e.xp6(2),e.Q6J("ngModel",t.fridayHours),e.xp6(2),e.Q6J("ngModel",t.saturdayHours),e.xp6(2),e.Q6J("ngModel",t.sundayHours),e.xp6(3),e.Q6J("readonly",!0)("ngModel",t.totalHours),e.xp6(4),e.Oqu("\u20ac"),e.xp6(1),e.Q6J("readonly",!0)("ngModel",t.totalPay)}}let Ao=(()=>{class i{constructor(t,o,n,a,s,m,d,p){this.dataService=t,this.dialog=o,this.changeDetectorRefs=n,this.http=a,this.dialogRef=s,this.routers=m,this.fb=d,this.data=p,this.selectedRow={},this.isAddJobExecuted=!1,this.hoursInput={},this.currentDate=new Date,this.daysOfWeek=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.dynamicSelectOptions=[],this.employeeShifts=[],this.jobs=[],this.shifts=[],this.empJob=[this.getLabelDate(1),this.getLabelDate(2),this.getLabelDate(3),this.getLabelDate(4),this.getLabelDate(5),this.getLabelDate(6),this.getLabelDate(7)]}ngOnInit(){this.iterateEmpJob(),this.logEmployeeShifts(),this.isAddJobExecuted||(!this.dataService.employeeInTimeSheet.employeeShifts||0===this.dataService.employeeInTimeSheet.employeeShifts.length)&&(this.addJob(),this.isAddJobExecuted=!0),console.log(this.selectedOption),console.log(this.dataService.employeeInTimeSheet);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/shifts",{headers:t}).subscribe(o=>{this.shifts=o,console.log("shifts",this.shifts)})}calculateTotalHours(){console.log(this.dataService.employeeInTimeSheet.employeeShifts),this.dataService.employeeInTimeSheet.employeeShifts.forEach(t=>{let o=0;t.hasOwnProperty("mondayHours")&&(o+=Number(t.mondayHours)),t.hasOwnProperty("tuesdayHours")&&(o+=Number(t.tuesdayHours)),t.hasOwnProperty("wednesdayHours")&&(o+=Number(t.wednesdayHours)),t.hasOwnProperty("thursdayHours")&&(o+=Number(t.thursdayHours)),t.hasOwnProperty("fridayHours")&&(o+=Number(t.fridayHours)),t.hasOwnProperty("saturdayHours")&&(o+=Number(t.saturdayHours)),t.hasOwnProperty("sundayHours")&&(o+=Number(t.sundayHours)),t.totalHours=o,t.totalPay=Number(t.totalHours)*Number(t.payRate);var n=0;void 0!==this.dataService.employeeInTimeSheet.employeeShifts&&(n=this.dataService.employeeInTimeSheet.employeeShifts.reduce((a,s)=>a+(s.totalPay||0),0)),this.dataService.employeeInTimeSheet.grossPay=(n||0)+(this.dataService.employeeInTimeSheet.expenses||0)-(this.dataService.employeeInTimeSheet.deductions||0)}),this.dataService.calculateTotalGrossPay()}onShiftSelectChange(t){console.log("Selected Shift ID:",t.shiftId)}handleExpansionClick(t){t.stopPropagation()}getDayHours(t,o){return t[o.toLowerCase()+"hours"]}addJob(){this.dataService.employeeInTimeSheet.employeeShifts||(this.dataService.employeeInTimeSheet.employeeShifts=[]),console.log(this.dataService.employeeInTimeSheet.employeeShifts);const t={OrganizationId:this.dataService.organization,GroupId:this.dataService.selectedOrganizationUnit,timesheetId:0,employeeId:this.dataService.employeeInTimeSheet.employeeId,shiftId:void 0,payrate:void 0,totalhours:void 0,totalpay:void 0,mondayhours:void 0,tuesdayhours:void 0,wednesdayhours:void 0,thursdayhours:void 0,fridayhours:void 0,saturdayhours:void 0,sundayhours:void 0};this.data&&(this.isEdit=this.data.isEdit,this.selectedRow=this.data[0],t.timesheetId=0);const o=JSON.parse(JSON.stringify(t));this.dataService.employeeInTimeSheet.employeeShifts.push(o)}logEmployeeShifts(){console.log("Employee Shifts:",this.employeeShifts)}removeJob(t){const o=this.dataService.employeeInTimeSheet.employeeShifts[t];o&&(this.dataService.employeeInTimeSheet.grossPay-=o.totalPay||0,this.dataService.employeeInTimeSheet.employeeShifts.splice(t,1),this.calculateTotalHours(),this.dataService.calculateTotalGrossPay())}onJobSelectChange(t){const o=this.jobs.find(n=>n.title==n.title);o&&(t.rate=o.rate),console.log(this.empJob)}iterateEmpJob(){Object.keys(this.empJob).forEach(t=>{this.finaldata=this.empJob,console.log(`Day: ${this.finaldata.day}, Date: ${this.finaldata.date}`)})}trackByIndex(t,o){return t}logHours(){console.log("Employee Shifts:",this.employeeShifts)}getLabelDate(t){const o=new Date(this.dataService.startOfWeek);o.setDate(o.getDate()+t-o.getDay());const n=this.daysOfWeek[t-1],a=`${o.getDate()} ${this.getMonthName(o.getMonth())}`;return console.log(`Day: ${n}`),console.log(`Target Date: ${a}`),{day:n,date:a}}getMonthName(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]}isShiftSelected(t,o){return this.dataService.employeeInTimeSheet.employeeShifts.some(n=>n.shiftId===t&&n!==o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(q.x),e.Y36(h.uw),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(h.so),e.Y36(y.F0),e.Y36(l.qu),e.Y36(h.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-timesheet-emplyees-rate"]],decls:15,vars:2,consts:[[3,"click"],[1,"subHeader",2,"margin-left","27px","margin-top","10px","font-size","13px"],[1,"shift"],[1,"labelemp"],["class","day-label",4,"ngFor","ngForOf"],[2,"margin-left","48px"],[2,"margin-left","20px"],["class","subRow","class","job-row flex-container","id","widset","style","margin-left: 0px",4,"ngFor","ngForOf"],[1,"create",2,"height","40px","margin-left","37px","margin-top","14px"],["type","button",1,"btn","btn-sm",2,"background-color","rgb(0, 178, 226)",3,"click"],[1,"day-label"],[1,"day-name"],[1,"day-date"],["id","widset",1,"job-row","flex-container",2,"margin-left","0px"],[1,"job-title",2,"cursor","pointer"],[3,"ngModel","ngModelChange","selectionChange"],["style","cursor: pointer",3,"value","disabled",4,"ngFor","ngForOf"],[1,"rate"],[1,"example-full-width"],["matPrefix",""],["matInput","","type","number","placeholder","Pay Rate",1,"value",3,"ngModel","ngModelChange","input"],[1,"hours"],[1,"example-full-width",2,"padding-left","16px"],["matInput","","type","number","placeholder","Enter hours",1,"value",3,"ngModel","input","ngModelChange"],[1,"example-full-width",2,"padding-left","28px"],[1,"example-full-width",2,"padding-left","25px"],[1,"example-full-width",2,"padding-left","42px"],[1,"example-full-width",2,"padding-left","27px"],[1,"example-full-width",2,"padding-left","21px"],["matInput","","placeholder","Total Hours",1,"value",3,"readonly","ngModel","ngModelChange"],["matInput","","placeholder","Total Pay",1,"value",3,"readonly","ngModel","ngModelChange"],[1,"delbtn"],[1,"material-icons",2,"color","red","cursor","pointer","margin-top","21px",3,"click"],[2,"cursor","pointer",3,"value","disabled"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(s){return n.handleExpansionClick(s)}),e.TgZ(1,"div",1)(2,"div",2),e._uU(3,"Shift"),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Pay Rate"),e.qZA(),e.YNc(6,So,6,2,"div",4),e.TgZ(7,"div",5),e._uU(8,"Total Hours"),e.qZA(),e.TgZ(9,"div",6),e._uU(10,"Total Pay"),e.qZA(),e.YNc(11,Mo,37,16,"div",7),e.qZA(),e.TgZ(12,"div",8)(13,"button",9),e.NdJ("click",function(){return n.addJob()}),e._uU(14," Add Shift "),e.qZA()()()),2&o&&(e.xp6(6),e.Q6J("ngForOf",n.finaldata),e.xp6(5),e.Q6J("ngForOf",n.dataService.employeeInTimeSheet.employeeShifts))},dependencies:[g.sg,l.Fj,l.wV,l.JJ,l.On,b.KE,b.hX,b.qo,N.gD,C.ey,D.Nt,U.Hw],styles:[".job-title.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;background:white;height:50px!important;padding:0;width:100px!important;margin-left:11px!important}  .Rate.mdc-text-field--filled:not(.mdc-text-field--disabled){height:50px!important;background:white}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:56px!important}.rate[_ngcontent-%COMP%], .hours[_ngcontent-%COMP%], .delbtn[_ngcontent-%COMP%]{flex:1;padding-left:9px}.rate[_ngcontent-%COMP%]{margin-top:10px}.hours[_ngcontent-%COMP%]{margin-top:10px;font-size:15px}.day-label[_ngcontent-%COMP%]{margin-left:55px}mat-label[_ngcontent-%COMP%]{font-size:13px}.day-date[_ngcontent-%COMP%]{margin-left:2px;font-size:11px}.shift[_ngcontent-%COMP%]{margin-left:7px}.total[_ngcontent-%COMP%]{margin-left:34px}.labelemp[_ngcontent-%COMP%]{font-size:14px!important;margin-left:86px}  #widset .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:138%;left:50%;transform:translate(-50%,-50%)}  #widset .mdc-text-field--filled:not(.mdc-text-field--disabled){padding:0;font-size:14px;height:37px;width:81px;background-color:#fff}  #widset .mat-mdc-form-field-focus-overlay{background-color:transparent}  #widset .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  #widset.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}  #p-form-data .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-data .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:250px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:80px!important;margin:0}[_ngcontent-%COMP%]::placeholder{font-size:10px;margin-left:4px}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}.mat-form-field[_ngcontent-%COMP%]:hover   .currency-prefix[_ngcontent-%COMP%]{background-color:transparent}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.subHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .subRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}"]})}return i})();function Zo(i,r){1&i&&(e.TgZ(0,"div",31),e._UZ(1,"div",32),e.qZA())}function Po(i,r){if(1&i&&(e.TgZ(0,"th",33),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.column)}}function Io(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",34)(1,"mat-checkbox",35),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function No(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",36)(1,"mat-checkbox",37),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(n?m.selection.toggle(s):null)}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Do(i,r){1&i&&(e.TgZ(0,"th",34),e._uU(1,"FirstName"),e.qZA())}function Uo(i,r){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function zo(i,r){1&i&&(e.TgZ(0,"th",34),e._uU(1,"Surname"),e.qZA())}function Eo(i,r){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function qo(i,r){1&i&&e._UZ(0,"th",33)}function Bo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",38)(1,"button",39),e.NdJ("click",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n.stopPropagation(),e.KtG(m.toggleExpansion(s))}),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA()()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(3),e.Oqu(o.isExpanded(t)?"remove":"add")}}function Ro(i,r){1&i&&(e.TgZ(0,"th",40),e._uU(1,"\xa0"),e.qZA())}function Jo(i,r){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function Yo(i,r){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function Fo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",41)(1,"button",42),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return s.expandedElement=s.expandedElement===a?null:a,e.KtG(s.dataService.employeeInTimeSheet=a)}),e.YNc(2,Jo,2,0,"mat-icon",43),e.YNc(3,Yo,2,0,"mat-icon",43),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(2),e.Q6J("ngIf",o.expandedElement!==t),e.xp6(1),e.Q6J("ngIf",o.expandedElement===t)}}function Qo(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-timesheet-emplyees-rate",45),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(a.handleExpansionClick(n))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("employee",t)}}function Ho(i,r){if(1&i&&(e.TgZ(0,"td",41)(1,"div",44),e.YNc(2,Qo,2,1,"ng-container",43),e.qZA()()),2&i){const t=r.$implicit,o=e.oxw();e.uIk("colspan",o.columnsToDisplayWithExpand.length),e.xp6(1),e.Q6J("@detailExpand",t==o.expandedElement?"expanded":"collapsed"),e.xp6(1),e.Q6J("ngIf",t==o.expandedElement)}}function jo(i,r){1&i&&(e.TgZ(0,"th",34),e._uU(1,"Expenses"),e.qZA())}function Lo(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",36)(1,"span",46),e._uU(2),e.qZA(),e.TgZ(3,"input",47),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.expenses=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Oqu("\u20ac"),e.xp6(1),e.Q6J("ngModel",t.expenses)}}function $o(i,r){1&i&&(e.TgZ(0,"th",34),e._uU(1,"Deduction"),e.qZA())}function Go(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",36)(1,"span",46),e._uU(2),e.qZA(),e.TgZ(3,"input",47),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.deductions=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(2),e.Oqu("\u20ac"),e.xp6(1),e.Q6J("ngModel",t.deductions)}}function Ko(i,r){1&i&&(e.TgZ(0,"th",34),e._uU(1,"Gross Pay"),e.qZA())}function Wo(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.grossPay,"EUR")," ")}}function Xo(i,r){1&i&&e._UZ(0,"tr",49)}function Vo(i,r){1&i&&e._UZ(0,"tr",50)}function ei(i,r){1&i&&e._UZ(0,"tr",51)}const ti=function(){return["expandedDetail"]},ni=function(){return[4,5,8]};let oi=(()=>{class i{constructor(t,o,n,a,s,m,d,p,S){this.dialog=t,this.dataService=o,this.changeDetectorRefs=n,this.http=a,this.dialogRef=s,this.routers=m,this.fb=d,this._snackBar=p,this.data=S,this.jobDetails=[],this.employees=[],this.columnNames=[],this.loading=!1,this.horizontalPosition="right",this.verticalPosition="bottom",this.timesheet={},this.dynamicSelectOptions=[],this.selection=new w.Ov(!0,[]),this.selectedRow={},this.selections=new w.Ov(!0,[]),this.timesheets=[],this.dataSource=new c.by(this.employees),this.totalGrossPay=0,this.expandedRows=[],this.displayedColumns=["select","fname","Lname","Expenses","deduction","pay"],this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"],this.durationInSeconds=5}ngOnInit(){this.data?(this.isEdit=this.data.isEdit,console.log(this.dataService.employees),this.dataService.employees=[],this.selectedRow=this.data[0],this.timesheet=this.selectedRow,console.log(this.selectedRow),this.dataService.employees=[],console.log(this.selectedRow.timesheetId),this.dataService.startOfWeek=this.selectedRow.weekStartDate,this.dataService.endOfWeek=this.selectedRow.weekEndDate,this.dataService.selectedTimesheetType=this.selectedRow.type,this.dataService.selectedcycle=this.selectedRow.payrollCycle,this.selectedRow.timesheetEmployees.map(t=>{var o={};return o.employeeId=t.employeeId,o.firstName=t.employee.firstName,o.lastName=t.employee.lastName,o.expenses=t.expenses,o.deductions=t.deductions,o.grossPay=t.grossPay,o.employeeShifts=t.employeeShifts,console.log(o),this.dataService.addEmployee(o),this.isEdit=!1,o})):(this.getEmployees(),this.dataService.displayedTotalGrossPay=0,this.selectedOption=this.dataService.selectedOrganizationUnit),this.dataService.displayedTotalGrossPay=0,this.initializeForm(),this.dataService.calculateTotalGrossPay(),console.log(this.selectedOption)}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}handleExpansionClick(t){t.stopPropagation()}getEmployees(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};let o;console.log("Selected Organization Unit:",this.dataService.selectedOrganizationUnit),o=this.dataService.selectedOrganizationUnit?"https://api.samotplatform.com/groups/employees/"+this.dataService.selectedOrganizationUnit:"https://api.samotplatform.com/organizationemployees/"+this.dataService.organization,console.log("API Endpoint:",o),this.http.get(o,{headers:t}).subscribe(n=>{console.log("Fetched Employees:",n),this.employees=n,this.dataSource=new c.by(this.employees),this.dataService.employees=n,this.dataSource.paginator=this.paginator,this.loading=!1})}initializeForm(){this.form=this.fb.group({dropdown:["",l.kI.required],inputField:["",l.kI.required]})}createNewRow(t){if(this.newDataRowForm.valid){const o={...this.newDataRowForm.value};this.initializeForm();const n=this.dataSource.data.slice();n.push(o),this.dataSource.data=n}}handlePage(t){}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0,console.log("Selected:",this.selectedRow),console.log("employee:",this.employees)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}onInputChanged(t){var o=0;void 0!==t.employeeShifts&&(o=t.employeeShifts.reduce((n,a)=>n+(a.totalPay||0),0)),null==t.grossPay&&(t.grossPay=0),t.grossPay=(o||0)+(t.expenses||0)-(t.deductions||0),this.dataService.calculateTotalGrossPay(),this.changeDetectorRefs.detectChanges()}addTimesheet(){if(this.selection.isEmpty())return void this.openSnackBar("Please select at least one employee before creating a timesheet",!1);if(!this.dataService.employees||!Array.isArray(this.dataService.employees))return void this.openSnackBar("Error: Unable to retrieve employee data",!1);const t=this.dataService.employees.filter(d=>d.employeeShifts&&d.employeeShifts.some(p=>null==p.shiftId)),o=this.dataService.employees.filter(d=>d.employeeShifts&&d.employeeShifts.some(p=>null==p.payRate)),n=this.dataService.employees.filter(d=>d.employeeShifts&&d.employeeShifts.some(p=>0===p.totalHours||0===p.totalHours)),a=this.selection.selected.filter(d=>!d.employeeShifts||0===d.employeeShifts.length);if(t.length>0){const d=t.map(p=>`${p.firstName} ${p.lastName}`).join(", ");return void this.openSnackBar(`Please select a shift for the (${d}) before creating a Timesheet`,!1)}if(o.length>0){const d=o.map(p=>`${p.firstName} ${p.lastName}`).join(", ");return void this.openSnackBar(`Please select a pay rate for the (${d}) before creating a Timesheet`,!1)}if(n.length>0){const d=n.map(p=>`${p.firstName} ${p.lastName}`).join(", ");return void this.openSnackBar(`Please enter Hours for shift for the (${d}) before creating a Timesheet`,!1)}if(a.length>0){const d=a.map(p=>`${p.firstName} ${p.lastName}`).join(", ");return void this.openSnackBar(` Employee (${d}) has no Shifts. Please assign Shifts before creating a Timesheet.`,!1)}if(!this.dataService.startOfWeek||!this.dataService.endOfWeek)return void this.openSnackBar("Please select StartofWeek and EndofWeek Date",!1);this.timesheet.organizationId=this.dataService.organization,this.timesheet.groupId=this.dataService.selectedOrganizationUnit,this.timesheet.type=this.dataService.selectedTimesheetType,this.timesheet.subTotal=this.dataService.displayedTotalGrossPay,this.timesheet.weekStartDate=this.dataService.startOfWeek,this.timesheet.weekEndDate=this.dataService.endOfWeek;const s=this.dataService.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets":"https://api.samotplatform.com/organization/timesheet";1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataService.employees.filter(d=>this.selection.isSelected(d)).map(d=>({employeeId:d.employeeId,employeeShifts:d.employeeShifts,expenses:d.expenses,organizationId:this.dataService.organization,groupId:this.dataService.selectedOrganizationUnit,deductions:d.deductions,grossPay:d.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataService.employees.filter(d=>this.selection.isSelected(d)).map(d=>({organizationId:this.dataService.organization,employeeId:d.employeeId,groupId:this.dataService.selectedOrganizationUnit,bonus:d.bonus,otherAllowance:d.otherAllowance,deductions:d.deductions,grossPay:d.grossPay,bik:d.bik,employeePensionContribution:d.employeePensionContribution,employeerPensionContribution:d.employeerPensionContribution}))),this.timesheet.payrollcycle=0,console.log(this.timesheet);const m={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.post(s,this.timesheet,{headers:m}).pipe((0,f.K)(d=>(0,_._)(d))).subscribe(d=>{this.loading=!1,console.log(d),this.openSnackBar("Timesheet Created Successfully",!0),this.dialogRef.close(d)})}cancelDialog(){this.timesheet={},this.dialogRef.close()}updateTimesheet(){this.timesheet.organizationId=this.dataService.organization,this.timesheet.GroupId=this.dataService.selectedOrganizationUnit,this.timesheet.type=this.dataService.selectedTimesheetType,this.timesheet.subTotal=this.dataService.displayedTotalGrossPay,this.timesheet.weekStartDate=this.dataService.startOfWeek,this.timesheet.weekEndDate=this.dataService.endOfWeek;const t=this.dataService.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets/":"https://api.samotplatform.com/organization/timesheets/";1==this.timesheet.type?(3==this.timesheet.status&&(console.log(this.timesheet.timesheetApprovers),this.timesheet.timesheetApprovers.forEach(n=>{(3==n.status||2==n.status)&&(n.status=1,this.timesheet.status=1,this.timesheet.currentApproverOrder=1)})),this.timesheet.timesheetEmployees=this.dataService.employees.map(n=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:n.employeeId,employeeShifts:this.timesheet.timesheetEmployees[0].employeeShifts,expenses:n.expenses,deductions:n.deductions,grossPay:n.grossPay}))):2==this.timesheet.type&&(3==this.timesheet.status&&(console.log(this.timesheet.timesheetApprovers),this.timesheet.timesheetApprovers.forEach(n=>{(3==n.status||2==n.status)&&(n.status=1,this.timesheet.status=1,this.timesheet.currentApproverOrder=1)})),this.timesheet.timesheetEmployees=this.dataService.employees.map(n=>({employeeId:n.employeeId,bonus:n.bonus,otherAllowance:n.otherAllowance,deductions:n.deductions,grossPay:n.grossPay,bik:n.bik,employeePensionContribution:n.employeePensionContribution,employeerPensionContribution:n.employeerPensionContribution}))),console.log(this.timesheet);const o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put(t+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.loading=!1,console.log(n),this.timesheets.push(this.data);const a=this.timesheets.findIndex(s=>s.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.dialogRef.close({emp:n}),this.openSnackBar("Timesheet updated Successfully",!0)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(q.x),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(h.so),e.Y36(y.F0),e.Y36(l.qu),e.Y36(O.ux),e.Y36(h.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-hourly-timesheet"]],viewQuery:function(o,n){if(1&o&&e.Gf(v.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:48,vars:21,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"time"],["mat-table","","multiTemplateDataRows","",1,"table",3,"dataSource"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","","class","name-head",4,"matHeaderCellDef"],["mat-cell","","class","name-cont",4,"matCellDef"],["matColumnDef","fname"],["class","name-head","mat-header-cell","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","Lname"],["matColumnDef","toggleButton"],["mat-cell","","class","toggle-cell",4,"matCellDef"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions","class","name-head",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["matColumnDef","Expenses"],["matColumnDef","deduction"],["matColumnDef","pay"],["mat-cell","","class","name-cont","id","p-form-data",4,"matCellDef"],["class","name-head","mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[2,"display","flex","flex-direction","column"],["align","end",2,"float","right","margin-right","26px"],["align","end","id","setbtn"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white","cursor","pointer",3,"click"],[1,"overlay"],[1,"loader"],["mat-header-cell",""],["mat-header-cell","",1,"name-head"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"name-cont"],[3,"checked","aria-label","click","change"],["mat-cell","",1,"toggle-cell"],["mat-icon-button","",3,"click"],["mat-header-cell","","aria-label","row actions",1,"name-head"],["mat-cell",""],["mat-icon-button","","aria-label","expand row",3,"click"],[4,"ngIf"],[1,"example-element-detail"],[3,"employee","click"],["matPrefix",""],["required","required","type","number","placeholder","Enter Amount","pattern","^[0-9]*$",3,"ngModel","ngModelChange"],["mat-cell","","id","p-form-data",1,"name-cont"],["mat-header-row","",1,"name-head"],["mat-row","",1,"example-element-row"],["mat-row","",1,"example-detail-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Zo,2,0,"div",1),e.TgZ(2,"mat-dialog-content",2)(3,"table",3),e.YNc(4,Po,2,1,"th",4),e.ynx(5,5),e.YNc(6,Io,2,5,"th",6),e.YNc(7,No,2,2,"td",7),e.BQk(),e.ynx(8,8),e.YNc(9,Do,2,0,"th",9),e.YNc(10,Uo,2,1,"td",10),e.BQk(),e.ynx(11,11),e.YNc(12,zo,2,0,"th",9),e.YNc(13,Eo,2,1,"td",10),e.BQk(),e.ynx(14,12),e.YNc(15,qo,1,0,"th",4),e.YNc(16,Bo,4,1,"td",13),e.BQk(),e.ynx(17,14),e.YNc(18,Ro,2,0,"th",15),e.YNc(19,Fo,4,2,"td",16),e.BQk(),e.ynx(20,17),e.YNc(21,Ho,3,3,"td",16),e.BQk(),e.ynx(22,18),e.YNc(23,jo,2,0,"th",9),e.YNc(24,Lo,4,2,"td",10),e.BQk(),e.ynx(25,19),e.YNc(26,$o,2,0,"th",9),e.YNc(27,Go,4,2,"td",10),e.BQk(),e.ynx(28,20),e.YNc(29,Ko,2,0,"th",9),e.YNc(30,Wo,3,4,"td",21),e.BQk(),e.YNc(31,Xo,1,0,"tr",22),e.YNc(32,Vo,1,0,"tr",23),e.YNc(33,ei,1,0,"tr",24),e.qZA(),e._UZ(34,"mat-paginator",25),e.qZA(),e.TgZ(35,"div",26)(36,"div",27)(37,"p"),e._uU(38),e.ALo(39,"currency"),e.qZA(),e.TgZ(40,"p"),e._uU(41),e.ALo(42,"currency"),e.qZA()(),e.TgZ(43,"mat-dialog-actions",28)(44,"button",29),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(45," Cancel "),e.qZA(),e.TgZ(46,"button",30),e.NdJ("click",function(){return null!=n.selectedRow&&n.selectedRow.timesheetId?n.updateTimesheet():n.addTimesheet()}),e._uU(47),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(2),e.Q6J("dataSource",n.dataService.employees),e.xp6(28),e.Q6J("matHeaderRowDef",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",n.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(19,ti)),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(20,ni)),e.xp6(4),e.hij("Subtotal: ",e.gM2(39,9,n.dataService.displayedTotalGrossPay,"EUR","symbol","1.2-2"),""),e.xp6(3),e.hij("Grand Total:",e.gM2(42,14,n.dataService.displayedTotalGrossPay,"EUR","symbol","1.2-2"),""),e.xp6(6),e.hij(" ",null!=n.selectedRow&&n.selectedRow.timesheetId?"Update":"Create"," "))},dependencies:[g.O5,l.Fj,l.wV,l.JJ,l.Q7,l.c5,l.On,b.qo,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,v.NW,I.oG,A.lW,A.RK,h.xY,h.H8,U.Hw,Ao,g.H9],styles:["#p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::placeholder{padding-left:1px;font-size:11px}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:88px}  #p-form-data .mat-mdc-form-field-subscript-wrapper{height:0;width:100%}  .drop.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:163px!important;height:51px!important;border-radius:0!important}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}.time[_ngcontent-%COMP%]{width:100%;height:65vh;overflow-x:hidden;padding:0}.drop[_ngcontent-%COMP%]{float:right;margin-right:23px;margin-top:5px;background-color:#fff}.name-head[_ngcontent-%COMP%]{font-size:15px;background-color:#a9a9a9;font-family:fangsong}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;transition:height 225ms cubic-bezier(.4,0,.2,1)}.example-element-detail.expanded[_ngcontent-%COMP%]{height:auto}.example-element-detail.collapsed[_ngcontent-%COMP%]{height:0!important;min-height:0}.name-cont[_ngcontent-%COMP%]{font-size:13px;padding-left:2px;width:50px!important}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:100px}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .time.mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0;width:20px}tr.example-detail-row[_ngcontent-%COMP%]:before{height:0!important}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:104px}table[_ngcontent-%COMP%]{width:100%}tr.example-detail-row[_ngcontent-%COMP%]{height:0}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):hover{background:whitesmoke}tr.example-element-row[_ngcontent-%COMP%]:not(.example-expanded-row):active{background:#efefef}.example-element-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom-width:0}.example-element-detail[_ngcontent-%COMP%]{overflow:hidden;display:flex}.example-element-diagram[_ngcontent-%COMP%]{min-width:80px;border:2px solid black;padding:8px;font-weight:lighter;margin:8px 0;height:404px}.example-element-symbol[_ngcontent-%COMP%]{font-weight:700;font-size:40px;line-height:normal}.example-element-description[_ngcontent-%COMP%]{padding:16px}.example-element-description-attribution[_ngcontent-%COMP%]{opacity:.5}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.highlight[_ngcontent-%COMP%]{color:#00f}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .Rate.mdc-text-field--filled:not(.mdc-text-field--disabled){height:50px!important;background:white}"],data:{animation:[(0,T.X$)("detailExpand",[(0,T.SB)("collapsed",(0,T.oB)({height:"0px",minHeight:"0"})),(0,T.SB)("expanded",(0,T.oB)({height:"*"})),(0,T.eR)("expanded <=> collapsed",(0,T.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return i})();function ii(i,r){1&i&&(e.TgZ(0,"div",31),e._UZ(1,"div",32),e.qZA())}function ai(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",33)(1,"mat-checkbox",34),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function si(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-checkbox",36),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return e.KtG(n?m.selection.toggle(s):null)}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function ri(i,r){1&i&&e._UZ(0,"td",37)}function li(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Name"),e.qZA())}function ci(i,r){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function di(i,r){1&i&&(e.TgZ(0,"td",37),e._uU(1," Total "),e.qZA())}function mi(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Surname"),e.qZA())}function pi(i,r){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function hi(i,r){1&i&&e._UZ(0,"td",37)}function gi(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Annual Salary"),e.qZA())}function ui(i,r){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" \u20ac",t.annualSalary," ")}}function fi(i,r){1&i&&e._UZ(0,"td",37)}function _i(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Gross Pay"),e.qZA())}function bi(i,r){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,o.calculateGrossPay(t.annualSalary),"EUR")," ")}}function xi(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateTotalGrossPay(),"EUR")," ")}}function Ci(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Bonus"),e.qZA())}function yi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.bonus=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.bonus)}}function vi(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateBonusSubtotal(),"EUR")," ")}}function wi(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1," Other Allowance "),e.qZA())}function ki(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.otherAllowance=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.otherAllowance)}}function Ti(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateotherAllowanceSubtotal(),"EUR"),"")}}function Si(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Deductions"),e.qZA())}function Oi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.deductions=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.deductions)}}function Mi(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" -",e.xi3(2,1,t.calculatedeductionSubtotal(),"EUR"),"")}}function Ai(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"BIK"),e.qZA())}function Zi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.bik=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.onInputChanged(a))}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.bik)}}function Pi(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatebikSubtotal(),"EUR"),"")}}function Ii(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1," Gross TaxablePay Including BIK "),e.qZA())}function Ni(i,r){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.TaxablePay,"EUR")," ")}}function Di(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateSubtotal(),"EUR"),"")}}function Ui(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1,"Expenses"),e.qZA())}function zi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.expenses=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.expenses)}}function Ei(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateexpensesSubtotal(),"EUR"),"")}}function qi(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1," Employee Pension Contribution "),e.qZA())}function Bi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.employeePensionContribution=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.employeePensionContribution)}}function Ri(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatepensionSubtotal(),"EUR")," ")}}function Ji(i,r){1&i&&(e.TgZ(0,"th",38),e._uU(1," Employeer Pension Contribution "),e.qZA())}function Yi(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"input",39),e.NdJ("ngModelChange",function(n){const s=e.CHM(t).$implicit;return e.KtG(s.employeerPensionContribution=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngModel",t.employeerPensionContribution)}}function Fi(i,r){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatepensionerSubtotal(),"EUR")," ")}}function Qi(i,r){1&i&&e._UZ(0,"tr",40)}function Hi(i,r){1&i&&e._UZ(0,"tr",41)}function ji(i,r){1&i&&e._UZ(0,"tr",42)}const Li=function(){return[4,5,8]};let $i=(()=>{class i{constructor(t,o,n,a,s,m,d,p){this.dialog=t,this.changeDetectorRefs=o,this.http=n,this._snackBar=a,this.dialogRef=s,this.routers=m,this.dataservice=d,this.data=p,this.displayedColumns=["select","item","Name","cost","grossPay","Bonus","Allowance","Deductions","BIK","TaxablePay","Expenses","Pension","Pensions"],this.horizontalPosition="right",this.verticalPosition="bottom",this.timesheet={},this.loading=!1,this.timesheets=[],this.employees=[],this.selection=new w.Ov(!0,[]),this.selectedRow={},this.selections=new w.Ov(!0,[]),this.dataSource=new c.by(this.employees),this.durationInSeconds=3}ngOnInit(){this.selectedOption=this.data,this.data?(this.isEdit=this.data.isEdit,console.log(this.dataservice.employees),this.dataservice.employees=[],this.selectedRow=this.data[0],this.timesheet=this.selectedRow,this.dataservice.employees=[],this.dataservice.startOfWeek=this.selectedRow.weekStartDate,this.dataservice.endOfWeek=this.selectedRow.weekEndDate,this.dataservice.selectedTimesheetType=this.selectedRow.type,this.selectedRow.timesheetEmployees.map(t=>{var o={};return o.employeeId=t.employeeId,o.firstName=t.employee.firstName,o.lastName=t.employee.lastName,o.annualSalary=t.employee.annualSalary,o.TaxablePay=t.TaxablePay,o.bik=t.bik,o.bonus=t.bonus,o.otherAllowance=t.otherAllowance,o.expenses=t.expenses,o.deductions=t.deductions,o.grossPay=t.grossPay,o.employeePensionContribution=t.employeePensionContribution,o.employeerPensionContribution=t.employeerPensionContribution,this.dataservice.addEmployee(o),this.isEdit=!1,this.calculateGrossPay(o.annualSalary),this.calculateTaxablePay(o),this.calculateSubtotal(),o}),console.log(this.dataservice.employees)):this.getEmployees()}calculateTotalGrossPay(){return this.dataservice.employees.reduce((t,o)=>t+this.calculateGrossPay(o.annualSalary),0)}getEmployees(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};let o;console.log("Selected Organization Unit:",this.dataservice.selectedOrganizationUnit),o=this.dataservice.selectedOrganizationUnit?"https://api.samotplatform.com/groups/employees/"+this.dataservice.selectedOrganizationUnit:"https://api.samotplatform.com/organizationemployees/"+this.dataservice.organization,console.log("API Endpoint:",o),this.http.get(o,{headers:t}).subscribe(n=>{console.log("Fetched Employees:",n),this.employees=n,this.dataSource=new c.by(this.employees),this.dataservice.employees=n,this.dataSource.paginator=this.paginator,this.loading=!1})}calculateGrossPay(t){return 1===this.dataservice.selectedCycleId?t/52:2===this.dataservice.selectedCycleId?t/52*2:3===this.dataservice.selectedCycleId?t/52*4:0}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}handlePage(t){}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}calculateSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.TaxablePay||0),0)}calculateBonusSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.bonus||0),0)}calculatebikSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.bik||0),0)}calculatedeductionSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.deductions||0),0)}calculateexpensesSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.expenses||0),0)}calculatepensionSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.employeePensionContribution||0),0)}calculatepensionerSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.employeerPensionContribution||0),0)}calculateotherAllowanceSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.otherAllowance||0),0)}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0,console.log("Selected:",this.selectedRow),console.log("employee:",this.employees)}getTotalCost(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}onInputChanged(t){this.calculateTaxablePay(t)}calculateTaxablePay(t){const d=this.calculateGrossPay(t.annualSalary)+(t.bonus||0)+(t.otherAllowance||0)-(t.deductions||0)+(t.bik||0);return t.TaxablePay=d,d}addTimesheet(){if(this.selection.isEmpty())return void this.openSnackBar("Please select at least one employee before creating a timesheet",!1);this.timesheet.organizationId=this.dataservice.organization,this.timesheet.groupId=this.dataservice.selectedOrganizationUnit,this.timesheet.type=this.dataservice.selectedTimesheetType,this.timesheet.payrollcycle=this.dataservice.selectedcycle,this.loading=!0,this.timesheet.subtotal=this.calculateSubtotal(),3===this.timesheet.payrollcycle&&(this.timesheet.monthNumber=this.dataservice.month.toString(),this.timesheet.year=this.dataservice.year),1===this.timesheet.type&&(1===this.timesheet.payrollcycle||2===this.timesheet.payrollcycle)&&(this.timesheet.weekStartDate=this.dataservice.startOfWeek,this.timesheet.weekEndDate=this.dataservice.endOfWeek);const t=this.dataservice.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets":"https://api.samotplatform.com/organization/timesheet";1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataservice.employees.filter(n=>this.selection.isSelected(n)).map(n=>({employeeId:n.employeeId,employeeShifts:n.employeeShifts,expenses:n.expenses,organizationId:this.dataservice.organization,groupId:this.dataservice.selectedOrganizationUnit,deductions:n.deductions,grossPay:n.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataservice.employees.filter(n=>this.selection.isSelected(n)).map(n=>({employeeId:n.employeeId,organizationId:this.dataservice.organization,groupId:this.dataservice.selectedOrganizationUnit,bonus:n.bonus,otherAllowance:n.otherAllowance,deductions:n.deductions,grossPay:n.grossPay,bik:n.bik,expenses:n.expenses,employeePensionContribution:n.employeePensionContribution,employeerPensionContribution:n.employeerPensionContribution}))),console.log(this.timesheet);const o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.post(t,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(0,_._)(n))).subscribe(n=>{console.log(n),this.loading=!1,this.openSnackBar("Timesheet Created Successfully",!0),this.dialogRef.close(n)})}updateTimesheet(){this.timesheet.organizationId=this.dataservice.organization,this.timesheet.type=this.dataservice.selectedTimesheetType,this.timesheet.subtotal=this.calculateSubtotal(),this.timesheet.weekStartDate=this.dataservice.startOfWeek,this.timesheet.weekEndDate=this.dataservice.endOfWeek,this.loading=!0;const t=this.dataservice.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets/":"https://api.samotplatform.com/organization/timesheets/";if(1==this.timesheet.type?(3==this.timesheet.status&&(console.log(this.timesheet.timesheetApprovers),this.timesheet.timesheetApprovers.forEach(o=>{(3==o.status||2==o.status)&&(o.status=1,this.timesheet.status=1,this.timesheet.currentApproverOrder=1)})),this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay}))):2==this.timesheet.type&&(3==this.timesheet.status&&(console.log(this.timesheet.timesheetApprovers),this.timesheet.timesheetApprovers.forEach(o=>{(3==o.status||2==o.status)&&(o.status=1,this.timesheet.status=1,this.timesheet.currentApproverOrder=1)})),this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,expenses:o.expenses,taxablepay:o.TaxablePay,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution}))),this.dataservice.selectedOrganizationUnit){this.timesheet.GroupId=this.dataservice.selectedOrganizationUnit;const o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,this.timesheets.push(this.data);const a=this.timesheets.findIndex(s=>s.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.dialogRef.close({emp:n}),this.openSnackBar("Timesheet updated Successfully",!0)})}else{const o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put(t+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.loading=!1,console.log(n),this.timesheets.push(this.data);const a=this.timesheets.findIndex(s=>s.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.dialogRef.close({emp:n}),this.openSnackBar("Timesheet updated Successfully",!0)})}}cancelDialog(){this.timesheet={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(O.ux),e.Y36(h.so),e.Y36(y.F0),e.Y36(q.x),e.Y36(h.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fixed-salary-timesheet"]],viewQuery:function(o,n){if(1&o&&e.Gf(v.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:73,vars:16,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"time"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","name-head","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","name-cont",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","item"],["class","name-head","mat-header-cell","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","cost"],["matColumnDef","grossPay"],["matColumnDef","Bonus"],["matColumnDef","Allowance"],["matColumnDef","Deductions"],["matColumnDef","BIK"],["matColumnDef","TaxablePay"],["matColumnDef","Expenses"],["matColumnDef","Pension"],["matColumnDef","Pensions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[2,"display","flex","flex-direction","column"],["align","end",2,"float","right","margin-right","26px"],["align","end","id","setbtn"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white","cursor","pointer",3,"click"],[1,"overlay"],[1,"loader"],["mat-header-cell","",1,"name-head",2,"text-align","left"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"name-cont"],[3,"checked","aria-label","click","change"],["mat-footer-cell",""],["mat-header-cell","",1,"name-head"],["required","required","type","number","placeholder","Enter Amount","pattern","^[0-9]*$",3,"ngModel","ngModelChange"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ii,2,0,"div",1),e.TgZ(2,"mat-dialog-content",2)(3,"table",3),e.ynx(4,4),e.YNc(5,ai,2,5,"th",5),e.YNc(6,si,2,2,"td",6),e.YNc(7,ri,1,0,"td",7),e.BQk(),e.ynx(8,8),e.YNc(9,li,2,0,"th",9),e.YNc(10,ci,2,1,"td",10),e.YNc(11,di,2,0,"td",7),e.BQk(),e.ynx(12,11),e.YNc(13,mi,2,0,"th",9),e.YNc(14,pi,2,1,"td",10),e.YNc(15,hi,1,0,"td",7),e.BQk(),e.ynx(16,12),e.YNc(17,gi,2,0,"th",9),e.YNc(18,ui,2,1,"td",10),e.YNc(19,fi,1,0,"td",7),e.BQk(),e.ynx(20,13),e.YNc(21,_i,2,0,"th",9),e.YNc(22,bi,3,4,"td",10),e.YNc(23,xi,3,4,"td",7),e.BQk(),e.ynx(24,14),e.YNc(25,Ci,2,0,"th",9),e.YNc(26,yi,2,1,"td",10),e.YNc(27,vi,3,4,"td",7),e.BQk(),e.ynx(28,15),e.YNc(29,wi,2,0,"th",9),e.YNc(30,ki,2,1,"td",10),e.YNc(31,Ti,3,4,"td",7),e.BQk(),e.ynx(32,16),e.YNc(33,Si,2,0,"th",9),e.YNc(34,Oi,2,1,"td",10),e.YNc(35,Mi,3,4,"td",7),e.BQk(),e.ynx(36,17),e.YNc(37,Ai,2,0,"th",9),e.YNc(38,Zi,2,1,"td",10),e.YNc(39,Pi,3,4,"td",7),e.BQk(),e.ynx(40,18),e.YNc(41,Ii,2,0,"th",9),e.YNc(42,Ni,3,4,"td",10),e.YNc(43,Di,3,4,"td",7),e.BQk(),e.ynx(44,19),e.YNc(45,Ui,2,0,"th",9),e.YNc(46,zi,2,1,"td",10),e.YNc(47,Ei,3,4,"td",7),e.BQk(),e.ynx(48,20),e.YNc(49,qi,2,0,"th",9),e.YNc(50,Bi,2,1,"td",10),e.YNc(51,Ri,3,4,"td",7),e.BQk(),e.ynx(52,21),e.YNc(53,Ji,2,0,"th",9),e.YNc(54,Yi,2,1,"td",10),e.YNc(55,Fi,3,4,"td",7),e.BQk(),e.YNc(56,Qi,1,0,"tr",22),e.YNc(57,Hi,1,0,"tr",23),e.YNc(58,ji,1,0,"tr",24),e.qZA(),e._UZ(59,"mat-paginator",25),e.qZA(),e.TgZ(60,"div",26)(61,"div",27)(62,"p"),e._uU(63),e.ALo(64,"currency"),e.qZA(),e.TgZ(65,"p"),e._uU(66),e.ALo(67,"currency"),e.qZA()(),e.TgZ(68,"mat-dialog-actions",28)(69,"button",29),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(70," Cancel "),e.qZA(),e.TgZ(71,"button",30),e.NdJ("click",function(){return null!=n.selectedRow&&n.selectedRow.timesheetId?n.updateTimesheet():n.addTimesheet()}),e._uU(72),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(2),e.Q6J("dataSource",n.dataservice.employees),e.xp6(53),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(15,Li)),e.xp6(4),e.hij("Subtotal: ",e.xi3(64,9,n.calculateSubtotal(),"EUR"),""),e.xp6(3),e.hij("Grand Total: ",e.xi3(67,12,n.calculateSubtotal(),"EUR"),""),e.xp6(6),e.hij(" ",null!=n.selectedRow&&n.selectedRow.timesheetId?"Update":"Create"," "))},dependencies:[g.O5,l.Fj,l.wV,l.JJ,l.Q7,l.c5,l.On,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,v.NW,I.oG,A.lW,h.xY,h.H8,g.H9],styles:["#p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::placeholder{padding-left:1px;font-size:10px}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:70px}  #p-form-data .mat-mdc-form-field-subscript-wrapper{height:0;width:100%}  .drop.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:132px!important;height:51px!important;border-radius:7px!important}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}.time[_ngcontent-%COMP%]{width:100%;height:65vh;overflow-x:hidden;padding:0}.drop[_ngcontent-%COMP%]{float:right;margin-right:23px;margin-top:5px;background-color:#fff}.name-head[_ngcontent-%COMP%]{font-size:12px;background-color:#a9a9a9;text-align:center}.name-cont[_ngcontent-%COMP%]{text-align:center;font-size:13px;padding-left:2px;width:50px!important}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .time.mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}table[_ngcontent-%COMP%]{width:100%}tr.mat-mdc-footer-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();function Gi(i,r){1&i&&(e.TgZ(0,"div",11),e._UZ(1,"div",12),e.qZA())}function Ki(i,r){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Wi(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Ki,2,2,"mat-option",13),e.BQk()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.gettype||o.gettype===t.id)}}function Xi(i,r){if(1&i&&(e.TgZ(0,"mat-option",14),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Vi(i,r){if(1&i&&(e.ynx(0),e.YNc(1,Xi,2,2,"mat-option",13),e.BQk()),2&i){const t=r.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!o.Cycle||o.Cycle===t.id)}}function ea(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label"),e._uU(2,"Payroll cycle"),e.qZA(),e.TgZ(3,"mat-select",15),e.NdJ("valueChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.Cycle?a.Cycle:a.dataService.selectedcycle=n)})("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPayrollCycleChange(n))}),e.YNc(4,Vi,2,1,"ng-container",7),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.Cycle?t.Cycle:t.dataService.selectedcycle),e.xp6(1),e.Q6J("ngForOf",t.payrollCycle)}}function ta(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",5)(1,"mat-label"),e._uU(2,"Month and Year"),e.qZA(),e._UZ(3,"input",16)(4,"mat-datepicker-toggle",17),e.TgZ(5,"mat-datepicker",18,19),e.NdJ("monthSelected",function(n){e.CHM(t);const a=e.MAs(6),s=e.oxw();return e.KtG(s.setMonthAndYear(n,a))}),e.qZA()()}if(2&i){const t=e.MAs(6),o=e.oxw();e.xp6(3),e.Q6J("matDatepicker",t)("formControl",o.date)("readOnly",o.isEdit),e.xp6(1),e.Q6J("for",t)("disabled",o.isEdit)}}function na(i,r){if(1&i&&(e.TgZ(0,"mat-form-field",20)(1,"mat-label"),e._uU(2,"Week"),e.qZA(),e.TgZ(3,"mat-date-range-input",21),e._UZ(4,"input",22)(5,"input",23),e.qZA(),e._UZ(6,"mat-datepicker-toggle",17)(7,"mat-date-range-picker",null,24),e.qZA()),2&i){const t=e.MAs(8),o=e.oxw();e.xp6(3),e.Q6J("formGroup",o.campaignOne)("rangePicker",t),e.xp6(1),e.Q6J("readOnly",o.isEdit),e.xp6(1),e.Q6J("readOnly",o.isEdit),e.xp6(1),e.Q6J("for",t)("disabled",o.isEdit)}}function oa(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"app-hourly-timesheet",25),e.NdJ("grandTotalChanged",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.handleGrandTotalChanged(n))}),e.qZA()()}}function ia(i,r){1&i&&(e.TgZ(0,"div"),e.ynx(1),e._UZ(2,"app-fixed-salary-timesheet"),e.BQk(),e.qZA())}const F=vo()||L,aa={parse:{dateInput:"DD/MM/YYYY"},display:{dateInput:"",monthYearLabel:"MMM YYYY",dateA11yLabel:"LL",monthYearA11yLabel:"MMMM YYYY"}};let ue=(()=>{class i{constructor(t,o,n,a,s){this.dialog=t,this._snackBar=o,this.dataService=n,this.dialogRef=a,this.data=s,this.employees=[],this.Ounits=[],this.timesheet={},this.selection=new w.Ov(!0,[]),this.selections=new w.Ov(!0,[]),this.loading=!1,this.dataSource=new c.by(this.employees),this.horizontalPosition="right",this.verticalPosition="bottom",this.weeks=[],this.timesheetTypes=[{id:1,name:"Hourly"},{id:2,name:"Fixed"}],this.payrollCycle=[{id:1,name:"Weekly"},{id:2,name:"Bi-Weekly"},{id:3,name:"Monthly"}],this.ssoUrl="https://dgr.sso.id/",this.baseUrl="https://api.samotplatform.com/",this.displayedColumns=["select","name"," Org","Approver","Rate1Hours","Rate2Hours","Rate3Hours","Rate4Hours","Rate5Hours","Rate6Hours","Holiday","Bank","Expenses","deduction","pay"],this.durationInSeconds=1,this.date=new l.NI(F()),this.currentDayOfWeek=F().isoWeekday(),this.dateClass=m=>({"current-week":F(m).isoWeekday()===this.currentDayOfWeek})}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}ngOnInit(){const t=F();if(this.dataService.selectedTimesheetType=1,this.dataService.selectedcycle=this.payrollCycle[2].id,this.dataService.selectedCycleId=this.payrollCycle[2].id,this.data&&(this.isEdit=this.data.isEdit,this.selectedRow=this.data[0],this.gettype=this.data[0].type,this.Cycle=this.data[0].payrollCycle,console.log("this.gettype:",this.gettype),console.log("this.cycle:",this.Cycle)),1===this.dataService.selectedTimesheetType){const o=new Date,n=o.getDay(),a=o.getDate()-n+(0===n?-6:1);this.dataService.startOfWeek=new Date(o.setDate(a)),this.dataService.endOfWeek=new Date(this.dataService.startOfWeek),this.dataService.endOfWeek.setDate(this.dataService.endOfWeek.getDate()+6),this.campaignOne=new l.cw({start:new l.NI(this.dataService.startOfWeek),end:new l.NI(this.dataService.endOfWeek)}),this.campaignOne.valueChanges.subscribe(s=>{s.start instanceof Date&&(this.dataService.startOfWeek=s.start),s.end instanceof Date&&(this.dataService.endOfWeek=s.end)})}this.data&&(this.isEdit=this.data.isEdit,this.campaignOne.setValue({start:this.selectedRow.weekStartDate,end:this.selectedRow.weekEndDate})),this.setMonthAndYear(t,null)}isFullWeek(t,o){if(!t||!o)return!1;const n=t.getDay(),a=o.getDay();return 1===n&&0===a}setMonthAndYear(t,o){const n=t.month()+1,a=t.year();this.data?(this.dataService.month=parseInt(this.data[0].monthNumber,10),this.dataService.year=parseInt(this.data[0].year,10)):(this.dataService.month=n,this.dataService.year=a);const m=F().year(this.dataService.year).month(this.dataService.month-1).date(1).format("MM/YYYY"),d=F(m,"MM/YYYY");this.date.setValue(d),o&&o.close()}onPayrollCycleChange(t){if(this.dataService.selectedCycleId=t.value,console.log("Selected Payroll Cycle ID:",this.dataService.selectedCycleId),2==this.dataService.selectedCycleId){const o=new Date,n=o.getDay(),a=o.getDate()-n+(0===n?-6:1);this.dataService.startOfWeek=new Date(o.setDate(a)),this.dataService.endOfWeek=new Date(this.dataService.startOfWeek),this.dataService.endOfWeek.setDate(this.dataService.endOfWeek.getDate()+13),this.campaignOne=new l.cw({start:new l.NI(this.dataService.startOfWeek),end:new l.NI(this.dataService.endOfWeek)}),this.campaignOne.valueChanges.subscribe(s=>{s.start instanceof Date&&(this.dataService.startOfWeek=s.start),s.end instanceof Date&&(this.dataService.endOfWeek=s.end)})}if(1==this.dataService.selectedCycleId){const o=new Date,n=o.getDay(),a=o.getDate()-n+(0===n?-6:1);this.dataService.startOfWeek=new Date(o.setDate(a)),this.dataService.endOfWeek=new Date(this.dataService.startOfWeek),this.dataService.endOfWeek.setDate(this.dataService.endOfWeek.getDate()+6),this.campaignOne=new l.cw({start:new l.NI(this.dataService.startOfWeek),end:new l.NI(this.dataService.endOfWeek)}),this.campaignOne.valueChanges.subscribe(s=>{s.start instanceof Date&&(this.dataService.startOfWeek=s.start),s.end instanceof Date&&(this.dataService.endOfWeek=s.end)})}}canceldialog(){this.dialogRef.close()}handleGrandTotalChanged(t){console.log("Total Gross Pay:",t),this.displayedTotalGrossPay=t}cancelDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(O.ux),e.Y36(q.x),e.Y36(h.so),e.Y36(h.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-time-sheet-form"]],viewQuery:function(o,n){if(1&o&&e.Gf(v.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},features:[e._Bn([{provide:C._A,useClass:ge,deps:[C.Ad,G]},{provide:C.sG,useValue:aa}])],decls:16,vars:8,consts:[["class","overlay",4,"ngIf"],[1,"main"],[1,"profile-header"],[1,"profile-text"],[1,"close-icon"],[1,"drop"],[3,"value","valueChange"],[4,"ngFor","ngForOf"],["class","drop",4,"ngIf"],["class","example-form-field","style","margin-right: 25px;",4,"ngIf"],[4,"ngIf"],[1,"overlay"],[1,"loader"],[3,"value",4,"ngIf"],[3,"value"],[3,"value","valueChange","selectionChange"],["matInput","",3,"matDatepicker","formControl","readOnly"],["matIconSuffix","",3,"for","disabled"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["dp",""],[1,"example-form-field",2,"margin-right","25px"],[3,"formGroup","rangePicker"],["matStartDate","","placeholder","Start date","formControlName","start",1,"calendar",3,"readOnly"],["matEndDate","","placeholder","End date","formControlName","end",1,"calendar",3,"readOnly"],["campaignOnePicker",""],[3,"grandTotalChanged"]],template:function(o,n){1&o&&(e.YNc(0,Gi,2,0,"div",0),e.TgZ(1,"div",1)(2,"div",2)(3,"div",3),e._uU(4,"Time Sheet"),e.qZA(),e.TgZ(5,"div",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Timesheet Type"),e.qZA(),e.TgZ(9,"mat-select",6),e.NdJ("valueChange",function(s){return n.gettype?n.gettype:n.dataService.selectedTimesheetType=s}),e.YNc(10,Wi,2,1,"ng-container",7),e.qZA()(),e.YNc(11,ea,5,2,"mat-form-field",8),e.YNc(12,ta,7,5,"mat-form-field",8),e.YNc(13,na,9,6,"mat-form-field",9),e.qZA()(),e.YNc(14,oa,2,0,"div",10),e.YNc(15,ia,3,0,"div",10),e.qZA()),2&o&&(e.Q6J("ngIf",n.loading),e.xp6(9),e.Q6J("value",n.gettype?n.gettype:n.dataService.selectedTimesheetType),e.xp6(1),e.Q6J("ngForOf",n.timesheetTypes),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)&&3===(n.Cycle?n.Cycle:n.dataService.selectedcycle)),e.xp6(1),e.Q6J("ngIf",1===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)||2===(n.gettype?n.gettype:n.dataService.selectedcycle)&&3!==n.Cycle||1==(n.Cycle?n.Cycle:n.dataService.selectedcycle)),e.xp6(1),e.Q6J("ngIf",1===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)))},dependencies:[g.sg,g.O5,l.Fj,l.JJ,l.JL,l.oH,l.sg,l.u,b.KE,b.hX,b.R9,N.gD,C.ey,D.Nt,P.Mq,P.hl,P.nW,P.wx,P.zY,P.By,P._g,oi,$i],styles:["#p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::placeholder{padding-left:1px;font-size:11px}  .highlight-current-week{background-color:#404040}.calendar-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:100%}.day[_ngcontent-%COMP%]{width:calc(100% / 7);height:50px;border:1px solid #ccc;text-align:center;cursor:pointer}.current-week[_ngcontent-%COMP%]{background-color:#e0e0e0}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:70px}  #p-form-data .mat-mdc-form-field-subscript-wrapper{height:0;width:100%}  .drop.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:132px!important;height:51px!important;border-radius:7px!important}  .drop[_ngcontent-ng-c2172204749]{float:right;margin-right:23px;margin-top:5px;background-color:#fff;cursor:pointer;border-radius:12px!important}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}.week[_ngcontent-%COMP%]{font-size:9px}.time[_ngcontent-%COMP%]{width:100%;height:54vh;overflow-x:hidden;padding:0}.drop[_ngcontent-%COMP%]{float:right;margin-right:23px;margin-top:5px;border-radius:6px!important;background-color:#fff;cursor:pointer}.name-head[_ngcontent-%COMP%]{font-size:12px;background-color:#a9a9a9}.name-cont[_ngcontent-%COMP%]{font-size:13px;padding-left:2px;width:50px!important}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:74px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .time.mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif;display:inline-block}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  #setbtn .mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end, .mat-mdc-dialog-actions[align=end][_ngcontent-%COMP%]{justify-content:flex-end;margin-top:20px}.mat-calendar-body[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;width:300px;height:300px}.current-week[_ngcontent-%COMP%]{background-color:#87ebb4;color:#b71d1d;font-weight:700}.calendar[_ngcontent-%COMP%]{font-size:14px}  .main .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .mat-datepicker-content .mat-calendar{width:268px!important;height:325px!important}  .drop.mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{transition:opacity .15s 0ms cubic-bezier(.4,0,.2,1);width:62px!important}  .mat-date-range-input-wrapper{position:relative;overflow:hidden;max-width:calc(50% - 4px);padding-bottom:8px!important}"]})}return i})();function sa(i,r){1&i&&(e.TgZ(0,"div",47),e._UZ(1,"div",48),e.qZA())}function ra(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",49),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openForm())}),e._uU(1," Add TimeSheet "),e.qZA()}}function la(i,r){if(1&i&&(e.TgZ(0,"mat-option",50),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function ca(i,r){if(1&i&&(e.TgZ(0,"mat-option",50),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.groupId),e.xp6(1),e.hij(" ",t.name," ")}}function da(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",51)(1,"mat-checkbox",52),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function ma(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",53)(1,"mat-checkbox",54),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function pa(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Id "),e.qZA())}function ha(i,r){if(1&i&&(e.TgZ(0,"td",53),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.timesheetId," ")}}function ga(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Approvers "),e.qZA())}function ua(i,r){1&i&&(e.TgZ(0,"mat-icon",61),e._uU(1,"alarm"),e.qZA())}function fa(i,r){1&i&&(e.TgZ(0,"mat-icon",62),e._uU(1,"done"),e.qZA())}function _a(i,r){1&i&&(e.TgZ(0,"mat-icon",63),e._uU(1,"clear"),e.qZA())}function ba(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.YNc(2,ua,2,0,"mat-icon",58),e.YNc(3,fa,2,0,"mat-icon",59),e.YNc(4,_a,2,0,"mat-icon",60),e.BQk()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.user.firstName+" "+t.user.lastName+" "," "),e.xp6(1),e.Q6J("ngIf",1==t.status),e.xp6(1),e.Q6J("ngIf",2==t.status),e.xp6(1),e.Q6J("ngIf",3==t.status)}}function xa(i,r){if(1&i&&(e.TgZ(0,"td",56),e.YNc(1,ba,5,4,"ng-container",57),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngForOf",t.timesheetApprovers)}}function Ca(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Type "),e.qZA())}function ya(i,r){1&i&&(e.ynx(0),e._uU(1,"Hourly"),e.BQk())}function va(i,r){1&i&&(e.ynx(0),e._uU(1,"Fixed"),e.BQk())}function wa(i,r){if(1&i&&(e.TgZ(0,"td",53),e.YNc(1,ya,2,0,"ng-container",64),e.YNc(2,va,2,0,"ng-container",64),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",1===t.type),e.xp6(1),e.Q6J("ngIf",2===t.type)}}function ka(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Period "),e.qZA())}function Ta(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.AsE(" ",o.getMonthName(t.monthNumber)," ",t.year," ")}}function Sa(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.weekStartDate,"MMM d, y")," - ",e.xi3(3,5,t.weekEndDate,"MMM d, y")," ")}}function Oa(i,r){if(1&i&&(e.TgZ(0,"td",53),e.YNc(1,Ta,2,2,"ng-container",64),e.YNc(2,Sa,4,8,"ng-container",64),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",!t.weekStartDate&&!t.weekEndDate),e.xp6(1),e.Q6J("ngIf",t.weekStartDate&&t.weekEndDate)}}function Ma(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Status "),e.qZA())}function Aa(i,r){if(1&i&&(e.TgZ(0,"mat-icon",67),e._uU(1,"report "),e.qZA()),2&i){const t=e.oxw().$implicit,o=e.oxw();e.Q6J("matTooltip",o.getApproversStatusTooltip(t.timesheetApprovers))}}function Za(i,r){if(1&i&&(e.TgZ(0,"td",65),e.ynx(1),e._uU(2),e.YNc(3,Aa,2,1,"mat-icon",66),e.BQk(),e.qZA()),2&i){const t=r.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",o.getStatusText(t.status)," "),e.xp6(1),e.Q6J("ngIf","Client DisApproved"===o.getStatusText(t.status))}}function Pa(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Action "),e.qZA())}function Ia(i,r){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",68),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.statusApproved(n))}),e._uU(2," Accept "),e.qZA(),e.TgZ(3,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.statusRejected(n))}),e._uU(4," Reject "),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.uIk("id","acceptButton_"+t.id),e.xp6(2),e.uIk("id","rejectButton_"+t.id)}}function Na(i,r){if(1&i&&(e.TgZ(0,"td",53),e.YNc(1,Ia,5,2,"ng-container",64),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.Q6J("ngIf",t.isCurrentAdmin)}}function Da(i,r){1&i&&(e.TgZ(0,"th",55),e._uU(1," Total "),e.qZA())}function Ua(i,r){if(1&i&&(e.TgZ(0,"td",56),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subTotal,"EUR")," ")}}function za(i,r){1&i&&e._UZ(0,"tr",70)}function Ea(i,r){if(1&i&&e._UZ(0,"tr",71),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const qa=function(){return[10,20,50]};let Ba=(()=>{class i{constructor(t,o,n,a,s,m,d){this.dataService=t,this.dialog=o,this.liveAnnouncer=n,this.changeDetectorRefs=a,this.http=s,this._snackBar=m,this.Headercds=d,this.showCreateDiv=!0,this.isEdit=!1,this.timesheet={},this.loggedInAdmin={},this.Organizations=[],this.OrganizationUnit=[],this.employees=[],this.displayedColumns=["select","id","Detail","Type","Period","SubTotal","Status","Action"],this.dataSource=new c.by(this.employees),this.selection=new w.Ov(!0,[]),this.isToolbarOpen=!1,this.deleteRecordSave=[],this.statusApproverObject={},this.horizontalPosition="right",this.verticalPosition="bottom",this.sort=new x.YE,this.loading=!1,this.baseUrl="https://api.samotplatform.com/",this.durationInSeconds=3,this.results={},this.selectedRow={},this.selections=new w.Ov(!0,[])}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(o=>{this.loggedInAdmin=o,this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).subscribe(n=>{0!==n.length?(console.log(n),this.Organizations=n,this.dataService.organization=this.Organizations[0].OrganizationId,this.loading=!1,this.getOrgUnit(),this.getTimeSheet()):this.loading=!1})})}onSelectionChange(){this.getOrgUnit(),this.getTimeSheet()}getOrgUnit(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.organization),this.http.get(this.baseUrl+"groups/organization/"+this.dataService.organization,{headers:t}).subscribe(o=>{this.OrganizationUnit=o,console.log(this.OrganizationUnit),this.OrganizationUnit.length>0||(this.dataService.selectedOrganizationUnit=null),this.getTimeSheet()})}getMonthName(t){return["January","February","March","April","May","June","July","August","September","October","November","December"][t-1]}getTimeSheet(){this.loading=!0;const t={Authorization:"Bearer "+localStorage.getItem("token")};this.dataService.selectedOrganizationUnit?this.http.get("https://api.samotplatform.com/Timesheets/organizationunit/"+this.dataService.selectedOrganizationUnit,{headers:t}).subscribe(o=>{console.log(o),o.forEach(n=>{n.timesheetApprovers.length>1&&n.timesheetApprovers.sort((a,s)=>a.approverOrder-s.approverOrder),null!=n.currentApproverOrder&&this.loggedInAdmin.user_roles.forEach(a=>{"Admin"==a&&2===n.status&&(n.isCurrentAdmin=!0)})}),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,this.loading=!1}):this.http.get("https://api.samotplatform.com/organization/timesheets/"+this.dataService.organization,{headers:t}).subscribe(o=>{console.log(o),o.forEach(n=>{n.timesheetApprovers.length>1&&n.timesheetApprovers.sort((a,s)=>a.approverOrder-s.approverOrder),null!=n.currentApproverOrder&&this.loggedInAdmin.user_roles.forEach(a=>{"Admin"==a&&2===n.status&&(n.isCurrentAdmin=!0)})}),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,this.loading=!1})}getStatusText(t){switch(t){case 1:return"Pending For Client Approval";case 2:return"Pending";case 3:return"Client DisApproved";case 4:return"Approved";case 5:return"DisApproved";default:return"Unknown"}}getApproversStatusTooltip(t){return t.map(o=>{if(""!==o.statusReason)return`Rejected By:  ${o.user.firstName} ${o.user.lastName} Reason:  ${o.statusReason}`}).join("  ")}handlePage(t){}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0,this.showCreateDiv=0===this.selections.selected.length,console.log("Selected:",this.selectedRow)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openForm(){this.dialog.open(ue,{width:"1800px"}).afterClosed().subscribe(o=>{null!=o&&(console.log(o),this.results=o,console.log(this.results),this.dataSource.data.push(this.results),this.dataSource=new c.by(this.employees),console.log(this.dataSource.data))})}editTimeSheet(){const t=new h.vA;t.data=this.selectedRow,t.data.isEdit=!0,console.log(t.data),t.width="1800px",this.dialog.open(ue,t).afterClosed().subscribe(n=>{if(t.data.isEdit=!1,n&&n.emp){2==n.emp.status&&(n.emp.isCurrentAdmin=!0);const a=this.employees.findIndex(s=>s.timesheetId===n.emp.timesheetId);-1!==a&&(console.log(n.emp),this.employees[a]=n.emp,console.log(this.employees),this.dataSource.data=this.employees,this.selection.clear(),this.selections.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar())}})}delTimeSheet(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0;const o=this.selection.selected.map(n=>{let a;return a=this.dataService.selectedOrganizationUnit?`https://api.samotplatform.com/Timesheets/${n.timesheetId}`:`https://api.samotplatform.com/Organization/Timesheet/${n.timesheetId}`,this.http.delete(a,{headers:t})});(0,B.D)(o).subscribe({next:()=>{this.dataSource.data=this.dataSource.data.filter(s=>!this.selection.selected.includes(s)),this.loading=!1;const n=o.length;this.openSnackBar(`${n} Timesheet${n>1?"s":""} Deleted Successfully`,!0),this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar()},error:n=>{console.error("Error deleting Timesheet:",n),this.openSnackBar("Error deleting Timesheet",!1)}})}else this.openSnackBar("Select at least one timesheet to delete",!1)}statusApproved(t){console.log(t),this.statusApproverObject.timesheet=t,this.statusApproverObject.timesheetId=t.timesheetId,this.statusApproverObject.userId=this.dataService.loggedInAdmin.user_id,this.statusApproverObject.status=4,this.statusApproverObject.organizationId=this.dataService.organization,console.log(this.statusApproverObject);var o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.dataService.selectedOrganizationUnit?(this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit,this.http.patch("https://api.samotplatform.com/TimesheetStatus/"+this.statusApproverObject.timesheetId,this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{0!==n.length?(console.log(n),this.loading=!1,t.status=n.status,t.isCurrentAdmin=!1,this.openSnackBar("TimeSheet Approved Successfully!",!0)):this.loading=!1})):this.http.patch("https://api.samotplatform.com/Organization/TimesheetStatus/"+this.statusApproverObject.timesheetId,this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{0!==n.length?(console.log(n),this.loading=!1,t.status=n.status,t.isCurrentAdmin=!1,this.openSnackBar("TimeSheet Approved Successfully!",!0)):this.loading=!1})}statusRejected(t){if(this.statusApproverObject.timesheet=t,this.statusApproverObject.timesheetId=t.timesheetId,this.statusApproverObject.userId=this.dataService.loggedInAdmin.user_id,this.statusApproverObject.status=5,this.statusApproverObject.organizationId=this.dataService.organization,console.log(this.statusApproverObject),this.dataService.selectedOrganizationUnit){this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit;var o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.patch("https://api.samotplatform.com/TimesheetStatus/"+this.statusApproverObject.timesheetId,this.statusApproverObject,{headers:o}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))).subscribe(a=>{0!==a.length?(console.log(a),this.loading=!1,t.status=a.status,t.isCurrentAdmin=!1,this.openSnackBar("TimeSheet Rejected!",!0)):this.loading=!1})}else o={Authorization:"Bearer "+localStorage.getItem("token")},this.loading=!0,this.http.patch("https://api.samotplatform.com/Organization/TimesheetStatus/"+this.statusApproverObject.timesheetId,this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{0!==n.length?(console.log(n),this.loading=!1,t.status=n.status,t.isCurrentAdmin=!1,this.openSnackBar("TimeSheet Rejected!",!0)):this.loading=!1})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(q.x),e.Y36(h.uw),e.Y36(z.Kd),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(O.ux),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-time-sheet"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:69,vars:13,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid",2,"margin-top","-30px"],["id","setinput",1,"row"],[1,"col-md-12"],[1,"create",2,"height","40px"],["type","button","class","btn btn-sm","style","background-color:rgb(0,178,226)",3,"click",4,"ngIf"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px","display","flex"],[2,"padding-right","13px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Detail"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id","style","cursor: pointer",4,"matCellDef"],["matColumnDef","Type"],["matColumnDef","Period"],["matColumnDef","Status"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","Action"],["matColumnDef","SubTotal"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],["type","button",1,"btn","btn-sm",2,"background-color","rgb(0,178,226)",3,"click"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id",2,"cursor","pointer"],[4,"ngFor","ngForOf"],["style","margin-bottom: -7px",4,"ngIf"],["style","color: green; margin-bottom: -7px",4,"ngIf"],["style","margin-bottom: -7px; color: red",4,"ngIf"],[2,"margin-bottom","-7px"],[2,"color","green","margin-bottom","-7px"],[2,"margin-bottom","-7px","color","red"],[4,"ngIf"],["mat-cell","",1,"app-id"],["style","margin-bottom: -7px;cursor:pointer;color:red",3,"matTooltip",4,"ngIf"],[2,"margin-bottom","-7px","cursor","pointer","color","red",3,"matTooltip"],["type","button",1,"btn","btn-success","btn-sm",3,"click"],["type","button",1,"btn","btn-danger","btn-sm",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,sa,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.YNc(6,ra,2,0,"button",6),e.qZA(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),e._uU(11,"TimeSheet"),e.qZA()(),e.TgZ(12,"div",11)(13,"div",12)(14,"form",13)(15,"mat-form-field",14)(16,"mat-label",15),e._uU(17,"Organization"),e.qZA(),e.TgZ(18,"mat-select",16),e.NdJ("ngModelChange",function(s){return n.dataService.organization=s})("selectionChange",function(){return n.onSelectionChange()}),e.YNc(19,la,2,2,"mat-option",17),e.qZA()()()(),e.TgZ(20,"div")(21,"form",13)(22,"mat-form-field",14)(23,"mat-label",15),e._uU(24,"OrgUnit"),e.qZA(),e.TgZ(25,"mat-select",16),e.NdJ("ngModelChange",function(s){return n.dataService.selectedOrganizationUnit=s})("selectionChange",function(){return n.getTimeSheet()}),e.YNc(26,ca,2,2,"mat-option",17),e.TgZ(27,"mat-option"),e._uU(28,"None"),e.qZA()()()()()(),e.TgZ(29,"mat-toolbar",18)(30,"div",19)(31,"div",20),e._uU(32),e.qZA(),e.TgZ(33,"div",21)(34,"div",22)(35,"img",23),e.NdJ("click",function(){return n.editTimeSheet()}),e.qZA()(),e.TgZ(36,"div",24)(37,"img",25),e.NdJ("click",function(){return n.delTimeSheet()}),e.qZA()()()()()(),e.TgZ(38,"div",26)(39,"div",27)(40,"div",28)(41,"table",29),e.ynx(42,30),e.YNc(43,da,2,5,"th",31),e.YNc(44,ma,2,2,"td",32),e.BQk(),e.ynx(45,33),e.YNc(46,pa,2,0,"th",34),e.YNc(47,ha,2,1,"td",32),e.BQk(),e.ynx(48,35),e.YNc(49,ga,2,0,"th",36),e.YNc(50,xa,2,1,"td",37),e.BQk(),e.ynx(51,38),e.YNc(52,Ca,2,0,"th",34),e.YNc(53,wa,3,2,"td",32),e.BQk(),e.ynx(54,39),e.YNc(55,ka,2,0,"th",34),e.YNc(56,Oa,3,2,"td",32),e.BQk(),e.ynx(57,40),e.YNc(58,Ma,2,0,"th",36),e.YNc(59,Za,4,2,"td",41),e.BQk(),e.ynx(60,42),e.YNc(61,Pa,2,0,"th",34),e.YNc(62,Na,2,1,"td",32),e.BQk(),e.ynx(63,43),e.YNc(64,Da,2,0,"th",36),e.YNc(65,Ua,3,4,"td",37),e.BQk(),e.YNc(66,za,1,0,"tr",44),e.YNc(67,Ea,1,2,"tr",45),e.qZA(),e._UZ(68,"mat-paginator",46),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Q6J("ngIf",n.showCreateDiv),e.xp6(12),e.Q6J("ngModel",n.dataService.organization),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(6),e.Q6J("ngModel",n.dataService.selectedOrganizationUnit),e.xp6(1),e.Q6J("ngForOf",n.OrganizationUnit),e.xp6(6),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(25),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(12,qa)))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,I.oG,X.gM,E.Ye,U.Hw,g.H9,g.uU],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 900px){  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:150px!important;height:51px!important;border-radius:7px!important}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  #setcolor .mat-mdc-select-placeholder{transition:color .4s .1333333333333s cubic-bezier(.25,.8,.25,1);color:#000!important}"]})}return i})();function Ra(i,r){1&i&&(e.TgZ(0,"div",44),e._UZ(1,"div",45),e.qZA())}function Ja(i,r){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Ya(i,r){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Fa(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter valid Email "),e.qZA())}function Qa(i,r){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Ha(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearInput())}),e.TgZ(1,"mat-icon",47),e._uU(2,"clear"),e.qZA()()}}function ja(i,r){if(1&i&&(e.TgZ(0,"mat-option",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function La(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1," Name "),e.qZA())}function $a(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName," ")}}function Ga(i,r){1&i&&(e.ynx(0),e._uU(1,"Email"),e.BQk())}function Ka(i,r){if(1&i&&(e.TgZ(0,"th",49),e.YNc(1,Ga,2,0,"ng-container",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Wa(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email,"")}}function Xa(i,r){if(1&i&&(e.TgZ(0,"td",50),e.YNc(1,Wa,2,1,"ng-container",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Va(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1," Symbol "),e.qZA())}function es(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",50)(1,"mat-icon",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteUsers(a,s.i))}),e._uU(2,"delete"),e.qZA()()}}function ts(i,r){1&i&&e._UZ(0,"tr",52)}function ns(i,r){1&i&&e._UZ(0,"tr",53)}function os(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearUser())}),e.TgZ(1,"mat-icon",47),e._uU(2,"clear"),e.qZA()()}}function is(i,r){if(1&i&&(e.TgZ(0,"mat-option",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function as(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1," Name "),e.qZA())}function ss(i,r){if(1&i&&(e.TgZ(0,"td",50),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName," ")}}function rs(i,r){1&i&&(e.ynx(0),e._uU(1,"Email"),e.BQk())}function ls(i,r){if(1&i&&(e.TgZ(0,"th",49),e.YNc(1,rs,2,0,"ng-container",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function cs(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.email,"")}}function ds(i,r){if(1&i&&(e.TgZ(0,"td",50),e.YNc(1,cs,2,1,"ng-container",10),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function ms(i,r){1&i&&(e.TgZ(0,"th",49),e._uU(1," Symbol "),e.qZA())}function ps(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",50)(1,"mat-icon",51),e.NdJ("click",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.deleteEmployees(a,s.i))}),e._uU(2,"delete"),e.qZA()()}}function hs(i,r){1&i&&e._UZ(0,"tr",52)}function gs(i,r){1&i&&e._UZ(0,"tr",53)}let ne=(()=>{class i{constructor(t,o,n,a,s,m,d,p,S){this.fb=t,this.dialogRef=o,this._snackBar=n,this.router=a,this.data=s,this.http=m,this.route=d,this.cdr=p,this.breakpointObserver=S,this.myControl=new l.NI(""),this.options=[],this.department={},this.employees=[],this.users=[],this.group={},this.applicationId={},this.application=[],this.roleId={},this.roleArray=[],this.userIdArray=[],this.userId={},this.searchcriteria={},this.samotResponse={},this.sendgroup={},this.groupEmployees=[],this.empIdobj={},this.empIdArray=[],this.userIdObj={},this.userObjArray=[],this.isSmallScreen=!1,this.loading=!1,this.apiOptions={Authorization:"Bearer "+localStorage.getItem("token")},this.horizontalPosition="right",this.verticalPosition="bottom",this.NameFormControl=new l.NI("",[l.kI.required]),this.AddressFormControl=new l.NI("",[l.kI.required]),this.AccountemailFormControl=new l.NI("",[l.kI.email,l.kI.required]),this.displayedColumns=["name","weight","symbol"],this.dataSource=new c.by([]),this.userdataSource=new c.by([]),this.durationInSeconds=3,this.isPOMode=!1,this.group=s,console.log("Group",this.group)}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}onToggleChange(){this.isPOMode?console.log("Toggle is ON",this.isPOMode):console.log("Toggle is OFF")}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(t=>{this.isSmallScreen=t.matches}),console.log(this.group.groupId),this.group.groupId&&this.http.get("https://api.samotplatform.com/groups/users/"+this.group.groupId,{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{console.log(t),this.userdataSource.data=t}),this.group.groupId&&this.http.get("https://api.samotplatform.com/groups/employees/"+this.group.groupId,{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{this.dataSource.data=t})}addEmployees(){let t=this.employees.find(o=>o.firstName+" "+o.lastName===this.value);this.getGroups(),t?(console.log("Found Employee:",t),this.dataSource.data.push(t),this.dataSource.data=[...this.dataSource.data],this.value="",console.log(this.dataSource.data)):console.log("Employee not found")}clearUser(){this.value=""}clearInput(){console.log(this.value),this.value=""}getGroups(){console.log("OrganizationID",this.group.organizationId),this.http.get("https://api.samotplatform.com/organizationemployees/"+this.group.organizationId,{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{console.log(t),this.options=[],this.employees=t,this.options=this.employees.map(o=>o.firstName+" "+o.lastName),this.filteredOptions=this.myControl.valueChanges.pipe((0,Q.O)(""),(0,Y.U)(o=>this._filter(o||""))),console.log(this.employees)})}_filter(t){const o=t.toLowerCase();return console.log("Employee Filter Function"),this.options.filter(a=>!this.dataSource.data.some(s=>(s.firstName+" "+s.lastName).toLowerCase()===a.toLowerCase())).filter(a=>a.toLowerCase().includes(o))}deleteEmployees(t,o){const n=t.id;console.log(n);const a=this.dataSource.data,s=a.findIndex(m=>m.id===n);console.log(s),-1!==s&&(a.splice(s,1),this.dataSource.data=a)}add(){this.NameFormControl.invalid||this.AddressFormControl.invalid||this.AccountemailFormControl.invalid?this.openSnackBar("Group Name & Address is required!",!1):(this.applicationId.ApplicationId=1,this.application.push(this.applicationId),this.group.Application_Group=this.application,this.roleId.RoleId=3,this.roleArray.push(this.roleId),this.group.Group_Role=this.roleArray,this.group.GroupName=this.group.name,this.userdataSource.data.forEach(t=>{this.userId={UserId:t.userId},this.userIdArray.push(this.userId)}),console.log(this.userIdArray),this.group.Group_User=this.userIdArray,console.log(this.group),this.group.groupId?(console.log(this.group),this.loading=!0,this.sendgroup.groupId=this.group.groupId,this.sendgroup.OrganizationId=this.group.organizationId,this.sendgroup.Name=this.group.name,this.sendgroup.address=this.group.address,this.sendgroup.isPORequired=this.group.isPORequired,this.sendgroup.primaryContactEmail=this.group.primaryContactEmail,this.sendgroup.primaryContactName=this.group.primaryContactName,this.sendgroup.primaryContactNumber=this.group.primaryContactNumber,this.sendgroup.primaryContactPosition=this.group.primaryContactPosition,this.userIdArray.forEach(t=>{console.log(t);var o=this.userdataSource.data.find(n=>n.userId===t.UserId);this.userIdObj.UserId=o.userId,this.userObjArray.push(this.userIdObj),this.userIdObj={}}),this.sendgroup.GroupUsers=this.userObjArray,this.dataSource.data.forEach(t=>{this.empIdobj={EmployeeId:t.employeeId},this.empIdArray.push(this.empIdobj)}),console.log(this.empIdArray),this.sendgroup.GroupEmployees=this.empIdArray,console.log(this.sendgroup),this.http.put("https://api.samotplatform.com/groups/"+this.group.groupId,this.sendgroup,{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{console.log(t);const o=this.dataSource.data.findIndex(n=>n.groupId===this.group.groupId);-1!==o&&(this.group[o]=t),this.openSnackBar("OrganizationUnit Updated Successfully!",!0),this.loading=!1,this.sendgroup={},this.dialogRef.close(this.data)})):(this.loading=!0,this.http.post("https://dgr.sso.id/groups",this.group,{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{console.log(t),this.samotResponse=t,this.sendgroup.OrganizationId=this.group.organizationId,this.sendgroup.groupId=this.samotResponse.GroupId,this.sendgroup.Name=this.samotResponse.GroupName,this.sendgroup.address=this.group.address,this.sendgroup.isPORequired=this.group.isPORequired,this.sendgroup.primaryContactEmail=this.group.primaryContactEmail,this.sendgroup.primaryContactName=this.group.primaryContactName,this.sendgroup.primaryContactNumber=this.group.primaryContactNumber,this.sendgroup.primaryContactPosition=this.group.primaryContactPosition;let o=1;this.userIdArray.forEach(a=>{console.log(a);var s=this.userdataSource.data.find(m=>m.userId===a.UserId);this.userIdObj.UserId=s.userId,this.userIdObj.Order=o,console.log(this.userIdObj),this.userObjArray.push(this.userIdObj),this.userIdObj={},o++}),this.sendgroup.GroupUsers=this.userObjArray,this.dataSource.data.forEach(a=>{this.empIdobj={EmployeeId:a.employeeId},this.empIdArray.push(this.empIdobj)}),console.log(this.empIdArray),this.sendgroup.GroupEmployees=this.empIdArray;var n={OrganizationId:this.group.organizationId,GroupId:this.samotResponse.GroupId};console.log(n),this.http.post("https://dgr.sso.id/groups/assigntoorganization/",n,{headers:this.apiOptions}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))).subscribe(a=>{console.log(a)}),this.http.post("https://api.samotplatform.com/groups",this.sendgroup,{headers:this.apiOptions}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))).subscribe(a=>{console.log(a),this.openSnackBar("OrganizationUnit Added Successfully!",!0),this.loading=!1,this.sendgroup={},this.dialogRef.close(a)})})))}addUsers(){let t=this.users.find(o=>o.firstName+" "+o.lastName===this.value);this.getUsers(),t?(console.log("Found User:",t),this.userdataSource.data.length>=2?this.openSnackBar("Only 2 approvers are allowed!",!1):(this.userdataSource.data.push(t),this.userdataSource.data=[...this.userdataSource.data],this.value="",console.log(this.userdataSource.data))):console.log("User not found")}getUsers(){this.http.get("https://api.samotplatform.com/users",{headers:this.apiOptions}).pipe((0,f.K)(t=>(t.status>=400&&t.status<500?(this.openSnackBar("Client error occurred:  "+t.status,!1),this.loading=!1):t.status>=500?(this.openSnackBar("Server error occurred: "+t.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+t.status,!1),this.loading=!1),(0,_._)(t)))).subscribe(t=>{this.options=[],this.users=t,this.options=this.users.map(o=>o.firstName+" "+o.lastName),this.filteredUsers=this.myControl.valueChanges.pipe((0,Q.O)(""),(0,Y.U)(o=>this._filters(o||"")))})}_filters(t){const o=t.toLowerCase();return this.options.filter(a=>!this.userdataSource.data.some(s=>(s.firstName+" "+s.lastName).toLowerCase()===a.toLowerCase())).filter(a=>a.toLowerCase().includes(o))}deleteUsers(t,o){const n=t.id;console.log(n);const a=this.userdataSource.data,s=a.findIndex(m=>m.id===n);console.log(s),-1!==s&&(a.splice(s,1),this.userdataSource.data=a)}cancelDialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(h.so),e.Y36(O.ux),e.Y36(y.F0),e.Y36(h.WI,8),e.Y36(k.eN),e.Y36(y.F0),e.Y36(e.sBO),e.Y36(M.Yg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-departmentconfig"]],decls:112,vars:37,consts:[[1,"create"],[1,"create-text",2,"padding-left","10px"],[1,"close-icon",2,"text-align","right","padding-right","10px"],["mat-dialog-close","",1,"material-icons"],["class","overlay",4,"ngIf"],[1,"setTabs"],[1,"selectdepart"],["id","depart-drop"],[1,"role-set"],["matInput","",1,"value",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],[1,"checkaddress"],["id","Address"],[1,"headtag"],[1,"setPtag"],["matInput","",1,"value",3,"ngModel","ngModelChange"],["type","email","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange"],[1,"setPosition"],["type","text","matInput","","placeholder","",3,"ngModel","ngModelChange"],["id","setcolor",3,"ngModel","ngModelChange","change"],[1,"Tabs"],["label","Approvers"],["id","searchset",1,"search"],["id","filter",1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Select Approver","aria-label","Number","matInput","",3,"formControl","ngModel","matAutocomplete","ngModelChange","focus"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["id","setOverflows",1,"setOverflow"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","weight"],["matColumnDef","symbol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Employees"],["type","text","placeholder","Select Employees","aria-label","Number","matInput","",3,"formControl","ngModel","matAutocomplete","ngModelChange","focus"],["autos","matAutocomplete"],["align","end",1,"action"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",2,"background-color","#00b2e2","color","white",3,"click"],[1,"overlay"],[1,"loader"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],["mat-header-cell",""],["mat-cell",""],[1,"material-icons",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2),e.qZA(),e.TgZ(3,"div",2)(4,"mat-icon",3),e._uU(5,"clear"),e.qZA()()(),e.YNc(6,Ra,2,0,"div",4),e.TgZ(7,"div",5)(8,"mat-list")(9,"div",6)(10,"div")(11,"form",7)(12,"mat-form-field")(13,"mat-label",8),e._uU(14,"Group Name"),e.qZA(),e.TgZ(15,"input",9),e.NdJ("ngModelChange",function(s){return n.group.name=s}),e.qZA(),e.YNc(16,Ja,3,0,"mat-error",10),e.qZA()()(),e.TgZ(17,"div",11)(18,"form",12)(19,"mat-form-field")(20,"mat-label",8),e._uU(21,"Address"),e.qZA(),e.TgZ(22,"input",9),e.NdJ("ngModelChange",function(s){return n.group.address=s}),e.qZA(),e.YNc(23,Ya,3,0,"mat-error",10),e.qZA()()()(),e._UZ(24,"mat-divider"),e.TgZ(25,"div",13)(26,"p",14),e._uU(27,"Primary Contact"),e.qZA()(),e.TgZ(28,"div",6)(29,"div")(30,"form",7)(31,"mat-form-field")(32,"mat-label",8),e._uU(33,"Name"),e.qZA(),e.TgZ(34,"input",15),e.NdJ("ngModelChange",function(s){return n.group.primaryContactName=s}),e.qZA()()()(),e.TgZ(35,"div",11)(36,"form",12)(37,"mat-form-field")(38,"mat-label",8),e._uU(39,"Email"),e.qZA(),e.TgZ(40,"input",16),e.NdJ("ngModelChange",function(s){return n.group.primaryContactEmail=s}),e.qZA(),e.YNc(41,Fa,2,0,"mat-error",10),e.YNc(42,Qa,3,0,"mat-error",10),e.qZA()()(),e.TgZ(43,"div",17)(44,"form",7)(45,"mat-form-field")(46,"mat-label",8),e._uU(47,"Position"),e.qZA(),e.TgZ(48,"input",18),e.NdJ("ngModelChange",function(s){return n.group.primaryContactPosition=s}),e.qZA()()()()(),e.TgZ(49,"div",6)(50,"form",7)(51,"mat-form-field")(52,"mat-label",8),e._uU(53,"Phone Number"),e.qZA(),e.TgZ(54,"input",15),e.NdJ("ngModelChange",function(s){return n.group.primaryContactNumber=s}),e.qZA()()()(),e.TgZ(55,"div",6)(56,"mat-slide-toggle",19),e.NdJ("ngModelChange",function(s){return n.group.isPORequired=s})("change",function(){return n.onToggleChange()}),e._uU(57,"PO Required"),e.qZA()(),e._UZ(58,"mat-divider"),e.qZA(),e.TgZ(59,"div",20)(60,"mat-tab-group")(61,"mat-tab",21)(62,"div",22)(63,"form",23)(64,"mat-form-field",24)(65,"input",25),e.NdJ("ngModelChange",function(s){return n.value=s})("focus",function(){return n.addUsers()}),e.qZA(),e.YNc(66,Ha,3,0,"button",26),e.TgZ(67,"mat-autocomplete",null,27),e.YNc(69,ja,2,2,"mat-option",28),e.ALo(70,"async"),e.qZA()()()(),e.TgZ(71,"div",29)(72,"table",30),e.ynx(73,31),e.YNc(74,La,2,0,"th",32),e.YNc(75,$a,2,1,"td",33),e.BQk(),e.ynx(76,34),e.YNc(77,Ka,2,1,"th",32),e.YNc(78,Xa,2,1,"td",33),e.BQk(),e.ynx(79,35),e.YNc(80,Va,2,0,"th",32),e.YNc(81,es,3,0,"td",33),e.BQk(),e.YNc(82,ts,1,0,"tr",36),e.YNc(83,ns,1,0,"tr",37),e.qZA()()(),e.TgZ(84,"mat-tab",38)(85,"div",22)(86,"form",23)(87,"mat-form-field",24)(88,"input",39),e.NdJ("ngModelChange",function(s){return n.value=s})("focus",function(){return n.addEmployees()}),e.qZA(),e.YNc(89,os,3,0,"button",26),e.TgZ(90,"mat-autocomplete",null,40),e.YNc(92,is,2,2,"mat-option",28),e.ALo(93,"async"),e.qZA()()()(),e.TgZ(94,"div",29)(95,"table",30),e.ynx(96,31),e.YNc(97,as,2,0,"th",32),e.YNc(98,ss,2,1,"td",33),e.BQk(),e.ynx(99,34),e.YNc(100,ls,2,1,"th",32),e.YNc(101,ds,2,1,"td",33),e.BQk(),e.ynx(102,35),e.YNc(103,ms,2,0,"th",32),e.YNc(104,ps,3,0,"td",33),e.BQk(),e.YNc(105,hs,1,0,"tr",36),e.YNc(106,gs,1,0,"tr",37),e.qZA()()()()()(),e.TgZ(107,"mat-dialog-actions",41)(108,"button",42),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(109,"Cancel"),e.qZA(),e.TgZ(110,"button",43),e.NdJ("click",function(){return n.add()}),e._uU(111),e.qZA()()),2&o){const a=e.MAs(68),s=e.MAs(91);e.xp6(2),e.hij(" ",n.group.groupId?"Update":"Create",""),e.xp6(4),e.Q6J("ngIf",n.loading),e.xp6(9),e.Q6J("formControl",n.NameFormControl)("ngModel",n.group.name),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(6),e.Q6J("formControl",n.AddressFormControl)("ngModel",n.group.address),e.xp6(1),e.Q6J("ngIf",n.AddressFormControl.hasError("required")),e.xp6(11),e.Q6J("ngModel",n.group.primaryContactName),e.xp6(6),e.Q6J("ngModel",n.group.primaryContactEmail)("formControl",n.AccountemailFormControl),e.xp6(1),e.Q6J("ngIf",n.AccountemailFormControl.hasError("email")),e.xp6(1),e.Q6J("ngIf",n.AccountemailFormControl.hasError("required")),e.xp6(6),e.Q6J("ngModel",n.group.primaryContactPosition),e.xp6(6),e.Q6J("ngModel",n.group.primaryContactNumber),e.xp6(2),e.Q6J("ngModel",n.group.isPORequired),e.xp6(9),e.Q6J("formControl",n.myControl)("ngModel",n.value)("matAutocomplete",a),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(3),e.Q6J("ngForOf",e.lcZ(70,33,n.filteredUsers)),e.xp6(3),e.Q6J("dataSource",n.userdataSource),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(5),e.Q6J("formControl",n.myControl)("ngModel",n.value)("matAutocomplete",s),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(3),e.Q6J("ngForOf",e.lcZ(93,35,n.filteredOptions)),e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(5),e.Oqu(n.group.groupId?"Update":"Create")}},dependencies:[g.sg,g.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,l.oH,b.KE,b.hX,b.TO,b.R9,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,C.ey,D.Nt,A.lW,A.RK,K.i$,V.d,h.ZT,h.H8,H.uX,H.SP,j.XC,j.ZL,U.Hw,te,g.Ov],styles:[".create[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;color:#fff;justify-content:space-between;background-color:#00b2e2!important;margin:0!important;padding:0!important}.setTabs[_ngcontent-%COMP%]{height:100%}  #depart-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;padding-left:3px;width:200px;height:45px;margin-left:5px;background-color:#fff}  #Address .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;padding-left:3px;width:200px;height:45px;margin-left:5px;background-color:#fff}  #depart-drop .mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;font-size:13px;text-overflow:ellipsis}  #Address .mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;font-size:13px;text-overflow:ellipsis}  #depart-drop .mat-mdc-form-field-focus-overlay{background-color:#fff}  #Address .mat-mdc-form-field-focus-overlay{background-color:#fff}  #depart-drop .mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%;font-size:14px}  #Address .mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%;font-size:14px}  #depart-drop .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;padding-top:0;font-size:14px}  #Address .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;padding-top:0;font-size:14px}  #depart-drop .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:78%;left:196%;transform:translate(-50%,-50%)}  #Address .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:78%;left:196%;transform:translate(-50%,-50%)}  #filter .mat-mdc-form-field-focus-overlay{background-color:#fff}  #filter .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;box-shadow:5px 5px 5px 5px #0000001a;width:177%;margin-left:8px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}  #searchset .example-full-width{width:100%}  .cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0;max-height:170px!important;height:-moz-fit-content;height:fit-content} ::-webkit-scrollbar{width:6px;height:6px;background-color:#fff} ::-webkit-scrollbar-thumb{background-color:#00baf2}table[_ngcontent-%COMP%]{width:100%}  #filter .mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input, .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-input-control[_ngcontent-%COMP%]{height:auto;font-size:14px}.setOverflow[_ngcontent-%COMP%]{height:183px;margin-top:-27px}  #setOverflows .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}.selectdepart[_ngcontent-%COMP%]{margin-left:21px;display:flex}  #depart-drop .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;padding-left:0;height:45px;width:204px;font-size:13px}  #Address .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;padding-left:0;height:45px;width:204px;font-size:13px}  #depart-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}  #Address .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}  .selectdepart .mat-mdc-slide-toggle .mdc-switch:enabled+.mdc-label{cursor:pointer;color:#0009}  #depart-drop .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #Address .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.search[_ngcontent-%COMP%]{margin-top:5px;margin-left:5px}.checkaddress[_ngcontent-%COMP%]{margin-left:40px}.setPtag[_ngcontent-%COMP%]{font-size:14px;font-weight:lighter}.headtag[_ngcontent-%COMP%]{margin:5px 5px 5px 17px}.setPosition[_ngcontent-%COMP%]{margin-left:40px}@media only screen and (max-width: 1300px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}.search[_ngcontent-%COMP%]{margin-left:2px;margin-top:2px}  #searchset .example-full-width{width:57%}.setOverflow[_ngcontent-%COMP%]{height:250px;margin-top:-27px}.setTabs[_ngcontent-%COMP%]{height:100%}.selectdepart[_ngcontent-%COMP%]{margin-left:20px;display:block}.checkaddress[_ngcontent-%COMP%], .setPosition[_ngcontent-%COMP%]{margin-left:0}  .setTabs .mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end, .mat-mdc-dialog-actions[align=end][_ngcontent-%COMP%]{justify-content:flex-end;margin-top:35%}  #filter .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;box-shadow:5px 5px 5px 5px #0000001a;width:165%;margin-left:8px}}.create-text[_ngcontent-%COMP%]{font-size:20px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  #setcolor .mdc-switch:enabled .mdc-switch__track:after{background:#00b2e2!important}  #setcolor .mdc-switch:enabled .mdc-switch__shadow{box-shadow:none;background:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();function us(i,r){1&i&&(e.TgZ(0,"div",42),e._UZ(1,"div",43),e.qZA())}function fs(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"img",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.createDepartment())}),e.qZA()}}function _s(i,r){if(1&i&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function bs(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",46)(1,"mat-checkbox",47),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function xs(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",48)(1,"mat-checkbox",49),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Cs(i,r){1&i&&(e.TgZ(0,"th",50),e._uU(1," Name "),e.qZA())}function ys(i,r){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function vs(i,r){1&i&&(e.ynx(0),e._uU(1,"PrimaryContactEmail"),e.BQk())}function ws(i,r){if(1&i&&(e.TgZ(0,"th",51),e.YNc(1,vs,2,0,"ng-container",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function ks(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.primaryContactEmail,"")}}function Ts(i,r){if(1&i&&(e.TgZ(0,"td",53),e.YNc(1,ks,2,1,"ng-container",52),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Ss(i,r){1&i&&(e.TgZ(0,"th",51),e._uU(1," Address "),e.qZA())}function Os(i,r){if(1&i&&(e.TgZ(0,"td",54),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.address," ")}}function Ms(i,r){1&i&&e._UZ(0,"tr",55)}function As(i,r){if(1&i&&e._UZ(0,"tr",56),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Zs=function(){return[10,20,50]};let Ps=(()=>{class i{constructor(t,o,n,a,s,m){this.dialog=t,this._liveAnnouncer=o,this.http=n,this.Headercds=a,this.breakpointObserver=s,this._snackBar=m,this.showCreateDiv=!0,this.users=[],this.Organizations=[],this.Organization={},this.groups=[],this.displayedColumns=["select","id","name","config"],this.dataSource=new c.by(this.groups),this.selection=new w.Ov(!0,[]),this.loading=!1,this.selectedOption={},this.ssoUrl="https://dgr.sso.id/",this.baseUrl="https://api.samotplatform.com/",this.isToolbarOpen=!1,this.isSmallScreen=!1,this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=3,this.selectedRow={},this.selections=new w.Ov(!0,[]),this.sort=new x.YE}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get(this.ssoUrl+"myorganizations",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.Organizations=o,this.paginator.pageSize=this.selectedOption,this.selectedOption=this.Organizations[0].OrganizationId,console.log(this.selectedOption),this.loading=!1,this.onOrganizationChange()})}onOrganizationChange(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get(this.baseUrl+"Groups/organization/"+this.selectedOption,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log("Groups from samotPlatform",o),this.dataSource.data=o,this.dataSource.paginator=this.paginator,this.loading=!1})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,this.showCreateDiv=0===this.selections.selected.length,console.log("Selected:",this.selectedRow)}editOrgUnit(){const t=new h.vA;t.data=this.selectedRow,console.log(this.selectedRow),this.isSmallScreen?(t.width="80%",t.height="85%"):t.width="60%",this.dialog.open(ne,t).afterClosed().subscribe(n=>{if(n){const a=this.dataSource.data.findIndex(s=>s.groupId===n.groupId);-1!==a&&(this.dataSource.data[a]=n,this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar())}})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}createDepartment(){console.log(this.selectedOption),this.selection.clear();var t={organizationId:this.selectedOption};const o=new h.vA;o.data=t,this.isSmallScreen?(o.width="80%",o.height="85%"):o.width="60%",this.dialog.open(ne,o).afterClosed().subscribe(a=>{a&&(console.log(a),this.dataSource.data[this.dataSource.data.length]=a,this.dataSource.paginator=this.paginator,this.selection.clear(),this.selections.clear())})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}delOrgUnit(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0;const o=this.selection.selected.map(n=>this.http.delete(`https://dgr.sso.id/groups/${n.groupId}`,{headers:t}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))));(0,B.D)(o).subscribe({next:()=>{const n=this.selection.selected.map(a=>this.http.delete(`https://api.samotplatform.com/Groups/${a.groupId}`,{headers:t}).pipe((0,f.K)(s=>(s.status>=400&&s.status<500?(this.openSnackBar("Client error occurred:  "+s.status,!1),this.loading=!1):s.status>=500?(this.openSnackBar("Server error occurred: "+s.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+s.status,!1),this.loading=!1),(0,_._)(s)))));(0,B.D)(n).subscribe({next:()=>{this.loading=!1,this.dataSource.data=this.dataSource.data.filter(m=>!this.selection.selected.includes(m)),this.selection.clear(),this.dataSource.data=this.dataSource.data;const a=n.length;this.openSnackBar(`${a} OrganizationUnit${a>1?"s":""} Deleted Successfully`,!0),this.selections.clear(),this.selection.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar()},error:a=>{console.error("Error deleting Organization Unit:",a),this.openSnackBar("Please Remove dependencies!",!1)}})},error:n=>{console.error("Error deleting Organization Unit:",n),this.openSnackBar("Error deleting Organization Unit From SSO",!1)}})}else this.openSnackBar("Select at least one employee to delete",!1)}viewRequest(t,o){t.OrganizationId=this.selectedOption;var n={Authorization:"Bearer "+localStorage.getItem("token")};console.log("GroupID",t.GroupId),this.http.get("https://api.samotplatform.com/groups/users/"+t.GroupId,{headers:n}).pipe((0,f.K)(s=>(s.status>=400&&s.status<500?(this.openSnackBar("Client error occurred:  "+s.status,!1),this.loading=!1):s.status>=500?(this.openSnackBar("Server error occurred: "+s.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+s.status,!1),this.loading=!1),(0,_._)(s)))).subscribe(s=>{console.log(s)}),console.log("Clicked on Config button for element:",t),this.dialog.open(ne,{data:{element:t},width:"60%",height:"80%"})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(z.Kd),e.Y36(k.eN),e.Y36(e.sBO),e.Y36(M.Yg),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-create-department"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:48,vars:11,consts:[[1,"main-content",2,"margin-top","6px"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"create"],["src","/assets/img/faces/add_library_icon.png",3,"click",4,"ngIf"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select","id","colorcheck"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["matColumnDef","config"],["mat-cell","","class","name-header","style","cursor: pointer;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[3,"value"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",1,"name-header"],[4,"ngIf"],["mat-cell","",1,"name-header"],["mat-cell","",1,"name-header",2,"cursor","pointer"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,us,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div"),e.YNc(7,fs,1,0,"img",6),e.qZA()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"h4",10),e._uU(12,"Organization Unit"),e.qZA(),e.TgZ(13,"mat-toolbar",11)(14,"div",12)(15,"div",13),e._uU(16),e.qZA(),e.TgZ(17,"div",14)(18,"div",15)(19,"img",16),e.NdJ("click",function(){return n.editOrgUnit()}),e.qZA()(),e.TgZ(20,"div",17)(21,"img",18),e.NdJ("click",function(){return n.delOrgUnit()}),e.qZA()()()()()(),e.TgZ(22,"div",19)(23,"form",20)(24,"mat-form-field",21)(25,"mat-label",22),e._uU(26,"Organization"),e.qZA(),e.TgZ(27,"mat-select",23),e.NdJ("ngModelChange",function(s){return n.selectedOption=s})("selectionChange",function(){return n.onOrganizationChange()}),e.YNc(28,_s,2,2,"mat-option",24),e.qZA()()()()(),e.TgZ(29,"div",25)(30,"div",26)(31,"div",27)(32,"table",28),e.NdJ("matSortChange",function(s){return n.announceSortChange(s)}),e.ynx(33,29),e.YNc(34,bs,2,5,"th",30),e.YNc(35,xs,2,2,"td",31),e.BQk(),e.ynx(36,32),e.YNc(37,Cs,2,0,"th",33),e.YNc(38,ys,2,1,"td",31),e.BQk(),e.ynx(39,34),e.YNc(40,ws,2,1,"th",35),e.YNc(41,Ts,2,1,"td",36),e.BQk(),e.ynx(42,37),e.YNc(43,Ss,2,0,"th",35),e.YNc(44,Os,2,1,"td",38),e.BQk(),e.YNc(45,Ms,1,0,"tr",39),e.YNc(46,As,1,2,"tr",40),e.qZA(),e._UZ(47,"mat-paginator",41),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(6),e.Q6J("ngIf",n.showCreateDiv),e.xp6(9),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(9),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(10,Zs)))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,I.oG,x.YE,x.nU,E.Ye],styles:['.table-hover2.mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600;font-family:popins,sans-serif}.head[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{padding-left:30px}.create[_ngcontent-%COMP%]{display:flex;justify-content:end;height:64px;align-items:center;padding-top:42px}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px;padding-left:43px}.name-cont[_ngcontent-%COMP%]{padding-left:43px;font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .mat-mdc-cell, .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:inherit}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600!important;font-family:popins,sans-serif}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:18px}.name-header[_ngcontent-%COMP%]{padding-left:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:143px}}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}']})}return i})();function Is(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Title is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Ns(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Title should be at least 5 characters long "),e.qZA())}function Ds(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Title should be no more than 15 characters long "),e.qZA())}function Us(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Rate is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function zs(i,r){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Rate in number form "),e.qZA())}let fe=(()=>{class i{constructor(t,o,n,a,s,m,d,p){this.fb=t,this.dialogRef=o,this._snackBar=n,this.routers=a,this.data=s,this.http=m,this.route=d,this.cdr=p,this.value="",this.disableSelect=new l.NI(!1),this.hideRequiredControl=new l.NI(!1),this.floatLabelControl=new l.NI("always"),this.togOff=!1,this.employee={},this.employees=[],this.horizontalPosition="right",this.verticalPosition="bottom",this.myControl=new l.NI(""),this.options=["One","Two","Three"],this.durationInSeconds=1,this.NameFormControl=new l.NI("",[l.kI.required,l.kI.minLength(5),l.kI.maxLength(15)]),this.SalaryFormControl=new l.NI("",[l.kI.required,l.kI.pattern(/^-?\d*\.?\d+$/)]),this.employee={...s},console.log("Employee",this.employee)}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,Q.O)(""),(0,Y.U)(t=>this._filter(t||"")))}_filter(t){const o=t.toLowerCase();return this.options.filter(n=>n.toLowerCase().includes(o))}getFloatLabelValue(){return this.floatLabelControl.value||"always"}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}addEmployee(){if(this.NameFormControl.markAsTouched(),this.SalaryFormControl.markAsTouched(),this.NameFormControl.invalid||this.SalaryFormControl.invalid)console.log("Form is invalid");else{const t={Authorization:"Bearer "+localStorage.getItem("token")};this.employee.id?this.http.put("https://api.samotplatform.com/jobs/"+this.employee.id,this.employee,{headers:t}).subscribe(o=>{const n=this.employees.findIndex(a=>a.id===this.employee.id);-1!==n&&(this.employees[n]=o),this.openSnackBar(" Updated Successfully"),this.dialogRef.close({data:o})}):this.http.post("https://api.samotplatform.com/jobs",this.employee,{headers:t}).subscribe(o=>{console.log(o),this.employees.push(o),this.openSnackBar("Job Created Successfully"),this.dialogRef.close(o)})}}cancelDialog(){this.employee={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(l.qu),e.Y36(h.so),e.Y36(O.ux),e.Y36(y.F0),e.Y36(h.WI,8),e.Y36(k.eN),e.Y36(y.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-job-form"]],decls:34,vars:11,consts:[[1,"profile-content"],[1,"profile-header"],[1,"profile-text"],[1,"close-icon"],["src","/assets/img/whitecross.png",2,"cursor","pointer","margin-right","11px","margin-top","-4px",3,"click"],[1,"profile-dialog-forms-data"],[1,"p-dialog-cont-1"],["id","p-form-datas"],[1,"example-full-width"],["matInput","","placeholder","",1,"value",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],[1,"p-dialog-cont-2"],["matInput","","placeholder","","type","email",1,"value",3,"ngModel","ngModelChange"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),e._uU(3,"Job Details"),e.qZA(),e.TgZ(4,"div",3)(5,"img",4),e.NdJ("click",function(){return n.cancelDialog()}),e.qZA()()(),e.TgZ(6,"div",5)(7,"div",6)(8,"form",7)(9,"mat-form-field",8)(10,"mat-label"),e._uU(11,"Title"),e.qZA(),e.TgZ(12,"input",9),e.NdJ("ngModelChange",function(s){return n.employee.title=s}),e.qZA(),e.YNc(13,Is,4,0,"mat-error",10),e.YNc(14,Ns,2,0,"mat-error",10),e.YNc(15,Ds,2,0,"mat-error",10),e.qZA()(),e.TgZ(16,"form",7)(17,"mat-form-field",8)(18,"mat-label"),e._uU(19,"Rate"),e.qZA(),e.TgZ(20,"input",9),e.NdJ("ngModelChange",function(s){return n.employee.rate=s}),e.qZA(),e.YNc(21,Us,4,0,"mat-error",10),e.YNc(22,zs,2,0,"mat-error",10),e.qZA()()(),e.TgZ(23,"div",11)(24,"form",7)(25,"mat-form-field",8)(26,"mat-label"),e._uU(27,"Description"),e.qZA(),e.TgZ(28,"input",12),e.NdJ("ngModelChange",function(s){return n.employee.description=s}),e.qZA()()()()()(),e.TgZ(29,"mat-dialog-actions",13)(30,"button",14),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(31,"Cancel"),e.qZA(),e.TgZ(32,"button",15),e.NdJ("click",function(){return n.addEmployee()}),e._uU(33),e.qZA()()),2&o&&(e.xp6(12),e.Q6J("formControl",n.NameFormControl)("ngModel",n.employee.title),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("maxlength")),e.xp6(5),e.Q6J("formControl",n.SalaryFormControl)("ngModel",n.employee.rate),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("pattern")),e.xp6(6),e.Q6J("ngModel",n.employee.description),e.xp6(5),e.Oqu(n.employee.id?"Update":"Create"))},dependencies:[g.O5,l._Y,l.Fj,l.JJ,l.JL,l.On,l.F,l.oH,b.KE,b.hX,b.TO,D.Nt,A.lW,h.ZT,h.xY,h.H8],styles:[".profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding-left:20px;color:#fff!important}.profile-content[_ngcontent-%COMP%]{padding:0}.p-dialog-cont-1[_ngcontent-%COMP%]{padding-left:15px}.profile-dialog-forms-data[_ngcontent-%COMP%]{display:flex;justify-content:space-around;height:203px}#p-form-datas[_ngcontent-%COMP%]   .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]:not(.mdc-text-field--outlined)   .mat-mdc-form-field-infix[_ngcontent-%COMP%]{padding-top:19px!important;background:white}  #p-form-datas .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important}  #p-form-datas .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-datas .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-datas .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-datas .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-datas .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:253px!important;margin:0}  #p-form-datas .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-datas .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #p-form-datas .mat-mdc-form-field:not(.mat-form-field-no-animations) .mdc-text-field__input{font-size:13px;transition:opacity .15s 0ms cubic-bezier(.4,0,.2,1)}"]})}return i})();function Es(i,r){1&i&&(e.TgZ(0,"div",41),e._UZ(1,"div",42),e.qZA())}function qs(i,r){if(1&i&&(e.TgZ(0,"mat-option",43),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Bs(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"th",44)(1,"mat-checkbox",45),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Rs(i,r){if(1&i){const t=e.EpF();e.TgZ(0,"td",46)(1,"mat-checkbox",47),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,s=e.oxw();return e.KtG(s.handleCheckboxChange(a))})("change",function(n){const s=e.CHM(t).$implicit,m=e.oxw();return n&&m.selection.toggle(s),e.KtG(m.openToolbar())}),e.qZA()()}if(2&i){const t=r.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Js(i,r){1&i&&(e.TgZ(0,"th",48),e._uU(1," Job Title "),e.qZA())}function Ys(i,r){if(1&i&&(e.TgZ(0,"td",46),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" ",t.title," ")}}function Fs(i,r){1&i&&(e.TgZ(0,"th",48),e._uU(1," Rate "),e.qZA())}function Qs(i,r){if(1&i&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&i){const t=r.$implicit;e.xp6(1),e.hij(" $",t.rate," ")}}function Hs(i,r){1&i&&(e.ynx(0),e._uU(1,"Description"),e.BQk())}function js(i,r){if(1&i&&(e.TgZ(0,"th",48),e.YNc(1,Hs,2,0,"ng-container",50),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Ls(i,r){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.description,"")}}function $s(i,r){if(1&i&&(e.TgZ(0,"td",49),e.YNc(1,Ls,2,1,"ng-container",50),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Gs(i,r){1&i&&e._UZ(0,"tr",51)}function Ks(i,r){if(1&i&&e._UZ(0,"tr",52),2&i){const t=r.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Ws=function(){return[5,10,15]};function Vs(i,r){1&i&&(e.TgZ(0,"div",26),e._UZ(1,"div",27),e.qZA())}function tr(i,r){1&i&&(e.TgZ(0,"div",15),e._UZ(1,"div",16),e.qZA())}const nr=[{path:"",component:Pe,children:[{path:"dashboard",component:ve},{path:"organizations",component:kt},{path:"payrequest",component:Kt},{path:"users",component:wn},{path:"timesheet",component:Ba},{path:"auditLog",component:Co},{path:"employees",component:Xn},{path:"groups",component:Ps},{path:"jobtitle",component:(()=>{class i{constructor(t,o,n,a,s,m,d,p){this.dialog=t,this._liveAnnouncer=o,this.changeDetectorRefs=n,this.http=a,this._snackBar=s,this.dataService=m,this.Headercds=d,this.breakpointObserver=p,this.Organizations=[],this.employees=[],this.displayedColumns=["select","JobTitle","Rate","Description"],this.dataSource=new c.by(this.employees),this.selection=new w.Ov(!0,[]),this.isToolbarOpen=!1,this.isSmallScreen=!1,this.deleteRecordSave=[],this.horizontalPosition="right",this.verticalPosition="bottom",this.sort=new x.YE,this.loading=!1,this.durationInSeconds=3,this.results={},this.selectedRow={},this.selections=new w.Ov(!0,[])}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}ngOnInit(){this.breakpointObserver.observe([M.u3.Small,M.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).subscribe(o=>{console.log(o),this.Organizations=o,this.selectedOption=this.Organizations[0].OrganizationId,this.loading=!1,this.getEmployees()})}getEmployees(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/jobs/organization/"+this.selectedOption,{headers:t}).subscribe(o=>{console.log(o),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort,this.loading=!1,this.paginator.pageSize=this.selectedOption,console.log(this.employees)})}handlePage(t){}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow),this.delId=this.selectedRow.id,console.log("Selected:",this.delId)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openForm(){this.dialog.open(fe,{data:{organizationId:this.selectedOption},width:"600px",height:"320px"}).afterClosed().subscribe(o=>{console.log(`Dialog result: ${o.id}`),this.results=o,console.log(this.results),this.employees.push(this.results),console.log(this.employees),this.dataSource.data=this.employees})}editEmployee(){const t=new h.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0,this.dialog.open(fe,t).afterClosed().subscribe(n=>{if(n&&n.emp){const a=this.employees.findIndex(s=>s.id===n.emp.id);-1!==a&&(this.employees[a]=n.emp,this.dataSource.data=this.employees,this.openToolbar(),this.selections.clear(),this.selection.clear())}})}delEmployees(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")},o=this.selection.selected.map(n=>this.http.delete(`https://api.samotplatform.com/jobs/${n.id}`,{headers:t}));(0,B.D)(o).subscribe({next:()=>{this.employees=this.employees.filter(s=>!this.selection.selected.includes(s)),this.selection.clear(),this.dataSource.data=this.employees;const n=o.length;this.openSnackBar(`${n} Jobs${n>1?"s":""} Deleted Successfully`),this.openToolbar()},error:n=>{console.error("Error deleting employees:",n),this.openSnackBar("Error deleting employees")}})}else this.openSnackBar("Select at least one employee to delete")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(h.uw),e.Y36(z.Kd),e.Y36(e.sBO),e.Y36(k.eN),e.Y36(O.ux),e.Y36(pe.D),e.Y36(e.sBO),e.Y36(M.Yg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-jobs-rate"]],viewQuery:function(o,n){if(1&o&&(e.Gf(v.NW,5),e.Gf(x.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:47,vars:11,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],["id","setinput",1,"row"],[1,"col-md-12"],[1,"create"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","JobTitle"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","Rate"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","Description"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Es,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"img",6),e.NdJ("click",function(){return n.openForm()}),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),e._uU(11,"Jobs Rate"),e.qZA()(),e.TgZ(12,"div",11)(13,"form",12)(14,"mat-form-field",13)(15,"mat-label",14),e._uU(16,"Organization"),e.qZA(),e.TgZ(17,"mat-select",15),e.NdJ("ngModelChange",function(s){return n.selectedOption=s})("selectionChange",function(){return n.getEmployees()}),e.YNc(18,qs,2,2,"mat-option",16),e.qZA()()()(),e.TgZ(19,"mat-toolbar",17)(20,"div",18)(21,"div",19),e._uU(22),e.qZA(),e.TgZ(23,"div",20)(24,"div",21)(25,"img",22),e.NdJ("click",function(){return n.editEmployee()}),e.qZA()(),e.TgZ(26,"div",23)(27,"img",24),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(28,"div",25)(29,"div",26)(30,"div",27)(31,"table",28),e.ynx(32,29),e.YNc(33,Bs,2,5,"th",30),e.YNc(34,Rs,2,2,"td",31),e.BQk(),e.ynx(35,32),e.YNc(36,Js,2,0,"th",33),e.YNc(37,Ys,2,1,"td",31),e.BQk(),e.ynx(38,34),e.YNc(39,Fs,2,0,"th",35),e.YNc(40,Qs,2,1,"td",36),e.BQk(),e.ynx(41,37),e.YNc(42,js,2,1,"th",35),e.YNc(43,$s,2,1,"td",36),e.BQk(),e.YNc(44,Gs,1,0,"tr",38),e.YNc(45,Ks,1,2,"tr",39),e.qZA(),e._UZ(46,"mat-paginator",40),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(16),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(10,Ws))("pageSize",n.selectedOption))},dependencies:[g.sg,g.O5,l._Y,l.JJ,l.JL,l.On,l.F,b.KE,b.hX,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,N.gD,C.ey,v.NW,I.oG,E.Ye],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:132px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}"]})}return i})()},{path:"profile",component:(()=>{class i{constructor(t,o){this.cdr=t,this.http=o,this.admin={},this.samotAdmin={},this.loading=!1}ngOnInit(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(o=>{this.loading=!1,console.log(o),this.admin=o})}updateUser(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.admin),this.samotAdmin.UserId=this.admin.user_id,this.samotAdmin.FirstName=this.admin.first_name,this.samotAdmin.LastName=this.admin.last_name,this.samotAdmin.email=this.admin.email,this.samotAdmin.samotplatformMargin=this.admin.samotplatformMargin,this.samotAdmin.dob=this.admin.date_of_birth,this.samotAdmin.country=this.admin.country,this.samotAdmin.city=this.admin.city,this.samotAdmin.address=this.admin.address,this.samotAdmin.creditlimit=this.admin.creditlimit,this.loading=!0,this.http.put("https://api.samotplatform.com/users/"+this.samotAdmin.UserId,this.samotAdmin,{headers:t}).subscribe(o=>{this.loading=!1,console.log(o)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(k.eN))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-admin-profile"]],decls:68,vars:12,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],["id","inputSet",1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,""],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","First Name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Last Name","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","email","readonly","","type","text",3,"ngModel","ngModelChange"],["matInput","",2,"font-size","14px",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["startDatepicker",""],["matInput","","placeholder","Country","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","City","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Credit Limit","type","text",3,"ngModel","ngModelChange"],[1,"col-md-12"],["matInput","","placeholder","Address","type","text",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit",1,"btn","btn-info","pull-right",3,"click"],[1,"clearfix"],[1,"overlay"],[1,"loader"]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0),e.YNc(1,Vs,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),e._uU(8," Profile"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),e._uU(14,"First Name"),e.qZA(),e.TgZ(15,"input",12),e.NdJ("ngModelChange",function(s){return n.admin.first_name=s}),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),e._uU(19,"Last Name"),e.qZA(),e.TgZ(20,"input",13),e.NdJ("ngModelChange",function(s){return n.admin.last_name=s}),e.qZA()()()(),e.TgZ(21,"div",9)(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),e._uU(25,"Email"),e.qZA(),e.TgZ(26,"input",14),e.NdJ("ngModelChange",function(s){return n.admin.email=s}),e.qZA()()(),e.TgZ(27,"div",10)(28,"mat-form-field")(29,"mat-label"),e._uU(30,"DateOfBirth"),e.qZA(),e.TgZ(31,"input",15),e.NdJ("ngModelChange",function(s){return n.admin.date_of_birth=s}),e.qZA(),e.TgZ(32,"mat-hint"),e._uU(33,"MM/DD/YYYY"),e.qZA(),e._UZ(34,"mat-datepicker-toggle",16)(35,"mat-datepicker",null,17),e.qZA()()(),e.TgZ(37,"div",9)(38,"div",10)(39,"mat-form-field",11)(40,"mat-label"),e._uU(41,"Country"),e.qZA(),e.TgZ(42,"input",18),e.NdJ("ngModelChange",function(s){return n.admin.country=s}),e.qZA()()(),e.TgZ(43,"div",10)(44,"mat-form-field",11)(45,"mat-label"),e._uU(46,"City"),e.qZA(),e.TgZ(47,"input",19),e.NdJ("ngModelChange",function(s){return n.admin.city=s}),e.qZA()()()(),e.TgZ(48,"div",9)(49,"div",10)(50,"mat-form-field",11)(51,"mat-label"),e._uU(52,"SamotPlatformMargin"),e.qZA(),e.TgZ(53,"input",20),e.NdJ("ngModelChange",function(s){return n.admin.samotplatformMargin=s}),e.qZA()()(),e.TgZ(54,"div",10)(55,"mat-form-field",11)(56,"mat-label"),e._uU(57,"Credit"),e.qZA(),e.TgZ(58,"input",21),e.NdJ("ngModelChange",function(s){return n.admin.creditLimit=s}),e.qZA()()()(),e.TgZ(59,"div",9)(60,"div",22)(61,"mat-form-field",11)(62,"mat-label"),e._uU(63,"Address"),e.qZA(),e.TgZ(64,"input",23),e.NdJ("ngModelChange",function(s){return n.admin.address=s}),e.qZA()()()(),e.TgZ(65,"button",24),e.NdJ("click",function(){return n.updateUser()}),e._uU(66,"Update Profile"),e.qZA(),e._UZ(67,"div",25),e.qZA()()()()()()),2&o){const a=e.MAs(36);e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(14),e.Q6J("ngModel",n.admin.first_name),e.xp6(5),e.Q6J("ngModel",n.admin.last_name),e.xp6(6),e.Q6J("ngModel",n.admin.email),e.xp6(5),e.Q6J("matDatepicker",a)("ngModel",n.admin.date_of_birth),e.xp6(3),e.Q6J("for",a),e.xp6(8),e.Q6J("ngModel",n.admin.country),e.xp6(5),e.Q6J("ngModel",n.admin.city),e.xp6(6),e.Q6J("ngModel",n.admin.samotplatformMargin),e.xp6(5),e.Q6J("ngModel",n.admin.creditLimit),e.xp6(6),e.Q6J("ngModel",n.admin.address)}},dependencies:[g.O5,l.Fj,l.JJ,l.On,b.KE,b.hX,b.bx,b.R9,D.Nt,A.lW,P.Mq,P.hl,P.nW],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:#fff!important}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;padding-left:0;font-size:13px}  #inputSet .mat-mdc-form-field-focus-overlay{opacity:.04;background-color:#fff}  #inputSet .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})()},{path:"xeroConfig",component:(()=>{class i{constructor(t,o,n){this.cdr=t,this.http=o,this._snackBar=n,this.client={},this.loading=!1,this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=3}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.get("https://api.samotplatform.com/xero/config",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),this.client=o})}Add(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.client),this.loading=!0,this.http.post("https://api.samotplatform.com/xero/config",this.client,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),this.openSnackBar("Save Successfully!",!0)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(e.sBO),e.Y36(k.eN),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-xero-config"]],decls:35,vars:5,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],["id","inputSet",1,"container-fluid"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,""],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-raised-button","","type","submit",1,"btn","btn-info","pull-right",3,"click"],[1,"clearfix"],[1,"overlay"],[1,"loader"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,tr,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),e._uU(8," XeroConfigration"),e.qZA()(),e.TgZ(9,"div",8)(10,"div",9)(11,"div",10)(12,"mat-form-field",11)(13,"mat-label"),e._uU(14,"Client Id"),e.qZA(),e.TgZ(15,"input",12),e.NdJ("ngModelChange",function(s){return n.client.clientId=s}),e.qZA()()(),e.TgZ(16,"div",10)(17,"mat-form-field",11)(18,"mat-label"),e._uU(19,"Client Secret"),e.qZA(),e.TgZ(20,"input",12),e.NdJ("ngModelChange",function(s){return n.client.clientSecret=s}),e.qZA()()()(),e.TgZ(21,"div",9)(22,"div",10)(23,"mat-form-field",11)(24,"mat-label"),e._uU(25,"Xero TenantId"),e.qZA(),e.TgZ(26,"input",12),e.NdJ("ngModelChange",function(s){return n.client.tenantId=s}),e.qZA()()(),e.TgZ(27,"div",10)(28,"mat-form-field",11)(29,"mat-label"),e._uU(30,"RedirectURL"),e.qZA(),e.TgZ(31,"input",12),e.NdJ("ngModelChange",function(s){return n.client.redirectUrl=s}),e.qZA()()()(),e.TgZ(32,"button",13),e.NdJ("click",function(){return n.Add()}),e._uU(33,"Save"),e.qZA(),e._UZ(34,"div",14),e.qZA()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(14),e.Q6J("ngModel",n.client.clientId),e.xp6(5),e.Q6J("ngModel",n.client.clientSecret),e.xp6(6),e.Q6J("ngModel",n.client.tenantId),e.xp6(5),e.Q6J("ngModel",n.client.redirectUrl))},dependencies:[g.O5,l.Fj,l.JJ,l.On,b.KE,b.hX,D.Nt,A.lW],styles:[".example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}td[_ngcontent-%COMP%]{padding-right:8px}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:#fff!important}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff!important;padding-left:0;font-size:13px}  #inputSet .mat-mdc-form-field-focus-overlay{opacity:.04;background-color:#fff}  #inputSet .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #inputSet .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})()}]}];let or=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[y.Bz.forChild(nr),y.Bz]})}return i})(),sr=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[g.ez,C.BQ]})}return i})(),rr=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#n=this.\u0275inj=e.cJS({imports:[g.ez,C.XK,or,l.u5,l.UX,k.JF,b.lN,c.p0,N.LD,v.TU,I.p9,D.c,A.ot,Ce,x.JX,X.AV,E.g0,_e.QW,K.ie,h.Is,O.ZX,sr,H.Nh,j.Bb,P.FA,U.Ps,V.t,Ye]})}return i})()}}]);