"use strict";(self.webpackChunkPayrollClient=self.webpackChunkPayrollClient||[]).push([[414],{414:(Ua,G,g)=>{g.r(G),g.d(G,{UserModule:()=>Pa});var Z=g(8525),m=g(7700),u=g(6814),c=g(5313),d=g(6223),C=g(1896),F=g(2708),y=g(2276),ce=g(2181),e=g(5879);let de=(()=>{class i{constructor(){this.test=new Date}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-footer"]],decls:0,vars:0,template:function(o,n){}})}return i})();var q=g(3413),v=g(9862);function pe(i,s){1&i&&e._UZ(0,"div")}const me=function(i){return[i]};function he(i,s){if(1&i&&(e.TgZ(0,"li",8)(1,"a",9)(2,"i",10),e._uU(3),e.qZA(),e.TgZ(4,"p"),e._uU(5),e.qZA()()()),2&i){const t=s.$implicit;e.Gre("",t.class," nav-item"),e.xp6(1),e.Q6J("routerLink",e.VKq(6,me,t.path)),e.xp6(2),e.Oqu(t.icon),e.xp6(2),e.Oqu(t.title)}}const ge_menues=[{path:"dashboard",title:"Dashboard",icon:"dashboard",class:"",roles:["User","Client"]},{path:"employee",title:"Employees",icon:"person",class:"",roles:["User","Client"]},{path:"timeSheet",title:"Timesheets",icon:"timeline",class:"",roles:["User","Approver","Client"]},{path:"auditlog",title:"Auditlogs",icon:"assignment",class:"",roles:["User","Approver","Client"]}];let ue=(()=>{class i{constructor(t,o,n){this.router=t,this.service=o,this.http=n,this.menus=[],this.filteredMenus=[],this.role="",this.menus=ge_menues}ngOnInit(){const t=localStorage.getItem("roles");null!=t&&(this.role=t,console.log(t),console.log(this.role)),this.menus.forEach(o=>{null!=o.roles.find(a=>a==this.role)&&this.filteredMenus.push(o)})}isMobileMenu(){return!($(window).width()>991)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(C.F0),e.Y36(q.D),e.Y36(v.eN))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-sidebar"]],decls:8,vars:2,consts:[[1,"logo"],["href","",1,"simple-text",2,"height","50px"],[1,"logo-img"],["src","/assets/img/faces/Dangan-Group_logo.jpg",2,"width","187px","top","-10px"],[1,"sidebar-wrapper"],[4,"ngIf"],[1,"nav"],["routerLinkActive","active",3,"class",4,"ngFor","ngForOf"],["routerLinkActive","active"],[1,"nav-link",3,"routerLink"],[1,"material-icons"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"a",1)(2,"div",2),e._UZ(3,"img",3),e.qZA()()(),e.TgZ(4,"div",4),e.YNc(5,pe,1,0,"div",5),e.TgZ(6,"ul",6),e.YNc(7,he,6,8,"li",7),e.qZA()()),2&o&&(e.xp6(5),e.Q6J("ngIf",n.isMobileMenu()),e.xp6(2),e.Q6J("ngForOf",n.filteredMenus))},dependencies:[u.sg,u.O5,C.rH,C.Od]})}return i})();var fe=g(5748),S=g(2296);let _e=(()=>{class i{constructor(t,o,n,a,r,l,p){this.element=o,this.admindataservice=n,this.http=a,this.router=r,this.dataService=l,this.dialog=p,this.currentUser={},this.mobile_menu_visible=0,this.location=t,this.sidebarVisible=!1}ngOnInit(){this.toggleButton=this.element.nativeElement.getElementsByClassName("navbar-toggler")[0],this.router.events.subscribe(n=>{this.sidebarClose();var a=document.getElementsByClassName("close-layer")[0];a&&(a.remove(),this.mobile_menu_visible=0)});var o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/oauth2/me",{headers:o}).subscribe(n=>{console.log(n),this.currentUser=n})}logout(){this.dataService.clearToken();const o=new Image;o.src="https://dgr.sso.id/account/signout",o.onload=()=>{console.log("URL hit successfully.")},o.onerror=n=>{console.error("Error hitting URL:",n)},this.router.navigate([""])}sidebarOpen(){const t=this.toggleButton,o=document.getElementsByTagName("body")[0];setTimeout(function(){t.classList.add("toggled")},500),o.classList.add("nav-open"),this.sidebarVisible=!0}sidebarClose(){const t=document.getElementsByTagName("body")[0];this.toggleButton.classList.remove("toggled"),this.sidebarVisible=!1,t.classList.remove("nav-open")}sidebarToggle(){var t=document.getElementsByClassName("navbar-toggler")[0];!1===this.sidebarVisible?this.sidebarOpen():this.sidebarClose();const o=document.getElementsByTagName("body")[0];if(1==this.mobile_menu_visible)o.classList.remove("nav-open"),n&&n.remove(),setTimeout(function(){t.classList.remove("toggled")},400),this.mobile_menu_visible=0;else{setTimeout(function(){t.classList.add("toggled")},430);var n=document.createElement("div");n.setAttribute("class","close-layer"),o.querySelectorAll(".main-panel")?document.getElementsByClassName("main-panel")[0].appendChild(n):o.classList.contains("off-canvas-sidebar")&&document.getElementsByClassName("wrapper-full-page")[0].appendChild(n),setTimeout(function(){n.classList.add("visible")},100),n.onclick=function(){o.classList.remove("nav-open"),this.mobile_menu_visible=0,n.classList.remove("visible"),setTimeout(function(){n.remove(),t.classList.remove("toggled")},400)}.bind(this),o.classList.add("nav-open"),this.mobile_menu_visible=1}}getTitle(){var t=this.location.prepareExternalUrl(this.location.path());"#"===t.charAt(0)&&(t=t.slice(1));for(var o=0;o<this.listTitles.length;o++)if(this.listTitles[o].path===t)return this.listTitles[o].title;return"Dashboard"}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(u.Ye),e.Y36(e.SBq),e.Y36(fe.x),e.Y36(v.eN),e.Y36(C.F0),e.Y36(q.D),e.Y36(m.uw))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-navbar"]],decls:40,vars:2,consts:[[1,"navbar","navbar-expand-lg","navbar-transparent","navbar-absolute","fixed-top",2,"z-index","1"],[1,"container-fluid"],[1,"navbar-wrapper"],["href","javascript:void(0)",1,"navbar-brand"],["mat-raised-button","","type","button",1,"navbar-toggler",3,"click"],[1,"sr-only"],[1,"navbar-toggler-icon","icon-bar"],["id","navigation",1,"collapse","navbar-collapse","justify-content-end"],[1,"navbar-nav"],[1,"nav-item"],["href","javascript:void(0)",1,"nav-link"],[1,"material-icons"],[1,"d-lg-none","d-md-block"],[1,"nav-item","dropdown"],["href","javascript:void(0)","id","navbarDropdownMenuLink","data-toggle","dropdown","aria-haspopup","true","aria-expanded","false",1,"nav-link"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu","dropdown-menu-right"],["routerLink","/user/profile","href","javascript:void(0)",1,"dropdown-item"],[1,"dropdown-item",3,"href","click"]],template:function(o,n){1&o&&(e.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),e._UZ(3,"a",3),e.qZA(),e.TgZ(4,"button",4),e.NdJ("click",function(){return n.sidebarToggle()}),e.TgZ(5,"span",5),e._uU(6,"Toggle navigation"),e.qZA(),e._UZ(7,"span",6)(8,"span",6)(9,"span",6),e.qZA(),e.TgZ(10,"div",7)(11,"ul",8)(12,"li",9)(13,"a",10)(14,"i",11),e._uU(15,"dashboard"),e.qZA(),e.TgZ(16,"p")(17,"span",12),e._uU(18,"Stats"),e.qZA()()()(),e.TgZ(19,"li",13)(20,"a",14)(21,"i",11),e._uU(22,"notifications"),e.qZA(),e.TgZ(23,"p")(24,"span",12),e._uU(25,"Some Actions"),e.qZA()()()(),e.TgZ(26,"li",13)(27,"a",14)(28,"i",11),e._uU(29,"person"),e.qZA(),e.TgZ(30,"span"),e._uU(31),e.qZA(),e.TgZ(32,"p")(33,"span",12),e._uU(34,"Account"),e.qZA()()(),e.TgZ(35,"div",15)(36,"a",16),e._uU(37,"User Profile"),e.qZA(),e.TgZ(38,"a",17),e.NdJ("click",function(){return n.logout()}),e._uU(39,"Logout"),e.qZA()()()()()()()),2&o&&(e.xp6(31),e.Oqu(n.currentUser.display_name),e.xp6(7),e.MGl("href","https://dgr.sso.id/oauth/logout?client_id=qCsKVnvYyvOqLiJOJFApr&redirect_uri=",n.admindataservice.baseUrl,"",e.LSH))},dependencies:[C.rH,S.lW]})}return i})();function xe(i,s){1&i&&(e.TgZ(0,"div"),e._UZ(1,"app-footer"),e.qZA())}let be=(()=>{class i{constructor(t,o){this.location=t,this.router=o,this.yScrollStack=[]}ngOnInit(){navigator.platform.indexOf("Win")>-1&&!document.getElementsByTagName("body")[0].classList.contains("sidebar-mini")?document.getElementsByTagName("body")[0].classList.add("perfect-scrollbar-on"):document.getElementsByTagName("body")[0].classList.remove("perfect-scrollbar-off");const o=document.querySelector(".main-panel"),n=document.querySelector(".sidebar .sidebar-wrapper");if(this.location.subscribe(h=>{this.lastPoppedUrl=h.url}),this.router.events.subscribe(h=>{h instanceof C.OD?h.url!=this.lastPoppedUrl&&this.yScrollStack.push(window.scrollY):h instanceof C.m2&&(h.url==this.lastPoppedUrl?(this.lastPoppedUrl=void 0,window.scrollTo(0,this.yScrollStack.pop())):window.scrollTo(0,0))}),this._router=this.router.events.pipe((0,ce.h)(h=>h instanceof C.m2)).subscribe(h=>{o.scrollTop=0,n.scrollTop=0}),window.matchMedia("(min-width: 960px)").matches&&!this.isMac()){let h=new F.Z(o);h=new F.Z(n)}const a=y(window).width();let r=y(".sidebar"),l=y("body > .navbar-collapse"),p=r.find(".sidebar-background");a>767&&y(".fixed-plugin .dropdown").hasClass("show-dropdown")&&y(".fixed-plugin .dropdown").addClass("open"),y(".fixed-plugin a").click(function(h){y(this).hasClass("switch-trigger")&&(h.stopPropagation?h.stopPropagation():window.event&&(window.event.cancelBubble=!0))}),y(".fixed-plugin .badge").click(function(){y(".full-page-background"),y(this).siblings().removeClass("active"),y(this).addClass("active");var b=y(this).data("color");0!==r.length&&r.attr("data-color",b),0!=l.length&&l.attr("data-color",b)}),y(".fixed-plugin .img-holder").click(function(){let h=y(".full-page-background");y(this).parent("li").siblings().removeClass("active"),y(this).parent("li").addClass("active");var b=y(this).find("img").attr("src");0!=p.length&&p.fadeOut("fast",function(){p.css("background-image",'url("'+b+'")'),p.fadeIn("fast")}),0!=h.length&&h.fadeOut("fast",function(){h.css("background-image",'url("'+b+'")'),h.fadeIn("fast")}),0!=l.length&&l.css("background-image",'url("'+b+'")')})}ngAfterViewInit(){this.runOnRouteChange()}isMaps(t){var o=this.location.prepareExternalUrl(this.location.path());return t!=o.slice(1)}runOnRouteChange(){if(window.matchMedia("(min-width: 960px)").matches&&!this.isMac()){const t=document.querySelector(".main-panel");new F.Z(t).update()}}isMac(){let t=!1;return(navigator.platform.toUpperCase().indexOf("MAC")>=0||navigator.platform.toUpperCase().indexOf("IPAD")>=0)&&(t=!0),t}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(u.Ye),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-layout"]],decls:8,vars:1,consts:[[1,"wrapper"],["data-color","danger","data-background-color","white","data-image","./assets/img/sidebar-1.jpg",1,"sidebar"],[1,"sidebar-background",2,"background-image","url(./assets/img/sidebar-4.jpg)"],[1,"main-panel"],[4,"ngIf"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-sidebar")(3,"div",2),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"app-navbar")(6,"router-outlet"),e.YNc(7,xe,2,0,"div",4),e.qZA()()),2&o&&(e.xp6(7),e.Q6J("ngIf",n.isMaps("maps")))},dependencies:[u.O5,C.lC,de,ue,_e]})}return i})();var B=g(6186);let U=(()=>{class i{constructor(t){this.http=t,this.apiUrl="https://api.samotplatform.com/Employees",this.token="",this.options={Authorization:"Bearer "+localStorage.getItem("token")},this.employees=[],this.totalGrossPay=0,this.employeeShifts=[]}setToken(t){this.token=t}addEmployee(t){this.employees.push(t)}getEmployees(){return this.http.get(this.apiUrl,{headers:this.options})}updateEmployeeInArray(t){const o=this.employees.map(n=>n.employeeId===t.employeeId?{...n,...t}:n);this.employees.splice(0,this.employees.length),this.employees=[...o]}calculateTotalGrossPay(){this.totalGrossPay=this.employees.reduce((t,o)=>t+(o.grossPay||0),0),this.displayedTotalGrossPay=this.totalGrossPay}static#e=this.\u0275fac=function(o){return new(o||i)(e.LFG(v.eN))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})(),Ce=(()=>{class i{constructor(t){this.employeeDataService=t,this.totalEmployees=0}fetchEmployees(){this.employeeDataService.getEmployees().subscribe({next:t=>{this.totalEmployees=t.length},error:t=>{console.error("Error fetching employees",t)}})}startAnimationForLineChart(t){let o,n,a;o=0,n=80,a=500,t.on("draw",function(r){"line"===r.type||"area"===r.type?r.element.animate({d:{begin:600,dur:700,from:r.path.clone().scale(1,0).translate(0,r.chartRect.height()).stringify(),to:r.path.clone().stringify(),easing:B.Svg.Easing.easeOutQuint}}):"point"===r.type&&(o++,r.element.animate({opacity:{begin:80*o,dur:500,from:0,to:1,easing:"ease"}}))}),o=0}startAnimationForBarChart(t){let o,n,a;o=0,n=80,a=500,t.on("draw",function(r){"bar"===r.type&&(o++,r.element.animate({opacity:{begin:80*o,dur:500,from:0,to:1,easing:"ease"}}))}),o=0}ngOnInit(){this.fetchEmployees();const o={lineSmooth:B.Interpolation.cardinal({tension:0}),low:0,high:50,chartPadding:{top:0,right:0,bottom:0,left:0}};var n=new B.Line("#dailySalesChart",{labels:["M","T","W","T","F","S","S"],series:[[12,17,7,17,23,18,38]]},o);this.startAnimationForLineChart(n);const r={lineSmooth:B.Interpolation.cardinal({tension:0}),low:0,high:1e3,chartPadding:{top:0,right:0,bottom:0,left:0}};var l=new B.Line("#completedTasksChart",{labels:["12p","3p","6p","9p","12p","3a","6a","9a"],series:[[230,750,450,300,280,240,200,190]]},r);this.startAnimationForLineChart(l);var Y=new B.Bar("#websiteViewsChart",{labels:["J","F","M","A","M","J","J","A","S","O","N","D"],series:[[542,443,320,780,553,453,326,434,568,610,756,895]]},{axisX:{showGrid:!1},low:0,high:1e3,chartPadding:{top:0,right:5,bottom:0,left:0}},[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(L){return L[0]}}}]]);this.startAnimationForBarChart(Y)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(U))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-dashboard"]],decls:68,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],["id","xerobtn",1,"row","col-lg-3","col-md-6","col-sm-6"],["type","button",1,"btn","btn-sm",2,"background-color","rgb(0,178,226)"],["href",""],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-warning","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-category"],[1,"card-title"],[1,"card-footer",2,"margin-top","23px"],[1,"stats"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-header","card-header-danger","card-header-icon"],[1,"card-header","card-header-info","card-header-icon"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"button",3)(5,"a",4),e._uU(6," Connect with Xero "),e.qZA()()()(),e.TgZ(7,"div",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"i",10),e._uU(13,"person"),e.qZA()(),e.TgZ(14,"p",11),e._uU(15,"Total Employees"),e.qZA(),e.TgZ(16,"h3",12),e._uU(17),e.qZA()(),e.TgZ(18,"div",13)(19,"div",14)(20,"i",10),e._uU(21,"update"),e.qZA(),e._uU(22," Just Updated "),e.qZA()()()(),e.TgZ(23,"div",6)(24,"div",7)(25,"div",15)(26,"div",9)(27,"i",10),e._uU(28,"attach_money"),e.qZA()(),e.TgZ(29,"p",11),e._uU(30,"Balance"),e.qZA(),e.TgZ(31,"h3",12),e._uU(32,"$35000"),e.qZA()(),e.TgZ(33,"div",13)(34,"div",14)(35,"i",10),e._uU(36,"update"),e.qZA(),e._uU(37," Just Updated "),e.qZA()()()(),e.TgZ(38,"div",6)(39,"div",7)(40,"div",16)(41,"div",9)(42,"i",10),e._uU(43,"account_balance"),e.qZA()(),e.TgZ(44,"p",11),e._uU(45," Live account balance"),e.qZA(),e.TgZ(46,"h3",12),e._uU(47,"$7500"),e.qZA()(),e.TgZ(48,"div",13)(49,"div",14)(50,"i",10),e._uU(51,"update"),e.qZA(),e._uU(52," Just Updated "),e.qZA()()()(),e.TgZ(53,"div",6)(54,"div",7)(55,"div",17)(56,"div",9)(57,"i",10),e._uU(58,"account_balance_wallet"),e.qZA()(),e.TgZ(59,"p",11),e._uU(60,"Available funding"),e.qZA(),e.TgZ(61,"h3",12),e._uU(62,"$42200"),e.qZA()(),e.TgZ(63,"div",13)(64,"div",14)(65,"i",10),e._uU(66,"update"),e.qZA(),e._uU(67," Just Updated "),e.qZA()()()()()()()),2&o&&(e.xp6(17),e.hij("",n.totalEmployees," "))},styles:["a{text-decoration:none;color:#fff}  a:hover{text-decoration:none;color:#fff}  #xerobtn{float:right;margin-top:-40px;padding-left:137px}@media only screen and (max-width: 767px){  #xerobtn{float:right;margin-top:-40px;padding-left:0}}"]})}return i})();var k=g(8337),w=g(1476),K=g(7921),W=g(7398),f=g(6306),_=g(8504),O=g(2939),A=g(8034),I=g(2032),x=g(9157),D=g(617);function ye(i,s){1&i&&(e.TgZ(0,"div",29),e._UZ(1,"div",30),e.qZA())}function ve(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Te(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Username should be no more than 10 characters long "),e.qZA())}function we(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter valid Email "),e.qZA())}function ke(i,s){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Se(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," AnnualSalary is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Oe(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Please enter a valid Annualsalary in number form "),e.qZA())}let X=(()=>{class i{constructor(t,o,n,a,r,l,p,h,b){this.dialog=t,this.fb=o,this.dialogRef=n,this._snackBar=a,this.routers=r,this.data=l,this.http=p,this.route=h,this.cdr=b,this.loading=!1,this.value="",this.disableSelect=new d.NI(!1),this.hideRequiredControl=new d.NI(!1),this.floatLabelControl=new d.NI("always"),this.togOff=!1,this.employee={},this.employees=[],this.divItems=[],this.jobs=[],this.selectedJobTitle="",this.horizontalPosition="right",this.verticalPosition="bottom",this.myControl=new d.NI(""),this.options=["One","Two","Three"],this.durationInSeconds=3,this.NameFormControl=new d.NI("",[d.kI.required,d.kI.maxLength(10)]),this.EmailFormControl=new d.NI("",[d.kI.email,d.kI.required]),this.SalaryFormControl=new d.NI("",[d.kI.required,d.kI.pattern(/^-?\d*\.?\d+$/)]),this.showNewComponent=!1,this.employee={...l},console.log("Employee",this.employee)}ngOnInit(){this.filteredOptions=this.myControl.valueChanges.pipe((0,K.O)(""),(0,W.U)(t=>this._filter(t||""))),this.selectedOption=this.employee.organizationId}_filter(t){const o=t.toLowerCase();return this.options.filter(n=>n.toLowerCase().includes(o))}getFloatLabelValue(){return this.floatLabelControl.value||"always"}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}addEmployee(){if(this.NameFormControl.markAsTouched(),this.EmailFormControl.markAsTouched(),this.SalaryFormControl.markAsTouched(),this.NameFormControl.invalid||this.EmailFormControl.invalid||this.SalaryFormControl.invalid)console.log("Form is invalid");else{this.loading=!0;const t={Authorization:"Bearer "+localStorage.getItem("token")};this.employee.employeeId?(this.loading=!0,this.http.put("https://api.samotplatform.com/Employees/"+this.employee.employeeId,this.employee,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{const n=this.employees.findIndex(a=>a.employeeId===this.employee.employeeId);-1!==n&&(this.employees[n]=o),this.openSnackBar("Employee Updated Successfully",!0),this.loading=!1,this.dialogRef.close({emp:o})})):this.http.post("https://api.samotplatform.com/Employees",this.employee,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.employees.push(o),this.loading=!1,this.openSnackBar("Employee Created Successfully",!0),this.dialogRef.close({emp:o})})}}addJobs(){this.divItems.push({selectedJobTitle:""})}deleteRow(t){this.divItems.splice(t,1)}updateRate(t){const o=this.jobs.find(n=>n.title===this.divItems[t].selectedJobTitle);console.log(o),this.divItems[t].selectedJobRate=o.rate,console.log(this.divItems)}cancelDialog(){this.employee={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(d.qu),e.Y36(m.so),e.Y36(O.ux),e.Y36(C.F0),e.Y36(m.WI,8),e.Y36(v.eN),e.Y36(C.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-employee-create"]],decls:98,vars:29,consts:[[1,"profile-content"],["class","overlay",4,"ngIf"],[1,"profile-header"],[1,"profile-text"],[1,"close-icon",2,"text-align","right","padding-right","10px","color","white"],["mat-dialog-close","",1,"material-icons"],[1,"profile-dialog-forms-data"],[1,"p-dialog-cont-1"],["id","p-form-data"],[1,"example-full-width"],["matInput","","placeholder","",1,"value",3,"formControl","ngModel","ngModelChange"],[4,"ngIf"],["matInput","","placeholder","","type","email",1,"value",3,"formControl","ngModel","ngModelChange"],["id","employee-sso-form","id","p-form-data"],["id","setDate"],["matInput","",2,"font-size","14px",3,"matDatepicker","ngModel","ngModelChange"],["matIconSuffix","",3,"for"],["dobpicker",""],["id","Dform","id","p-form-data"],["startDatepicker",""],[1,"p-dialog-cont-2"],["matInput","","placeholder","",1,"value",3,"ngModel","ngModelChange"],["id","input-t"],["matInput","",1,"value",3,"ngModel","ngModelChange"],[1,"p-dialog-cont-3"],["id","input-text"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"],[1,"overlay"],[1,"loader"]],template:function(o,n){if(1&o&&(e.TgZ(0,"mat-dialog-content",0),e.YNc(1,ye,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3),e._uU(4),e.qZA(),e.TgZ(5,"div",4)(6,"mat-icon",5),e._uU(7,"clear"),e.qZA()()(),e.TgZ(8,"div",6)(9,"div",7)(10,"form",8)(11,"mat-form-field",9)(12,"mat-label"),e._uU(13,"First name"),e.qZA(),e.TgZ(14,"input",10),e.NdJ("ngModelChange",function(r){return n.employee.firstName=r}),e.qZA(),e.YNc(15,ve,4,0,"mat-error",11),e.YNc(16,Te,2,0,"mat-error",11),e.qZA()(),e.TgZ(17,"form",8)(18,"mat-form-field",9)(19,"mat-label"),e._uU(20,"Email"),e.qZA(),e.TgZ(21,"input",12),e.NdJ("ngModelChange",function(r){return n.employee.email=r}),e.qZA(),e.YNc(22,we,2,0,"mat-error",11),e.YNc(23,ke,3,0,"mat-error",11),e.qZA()(),e.TgZ(24,"form",8)(25,"mat-form-field",9)(26,"mat-label"),e._uU(27,"AnnualSalary"),e.qZA(),e.TgZ(28,"input",10),e.NdJ("ngModelChange",function(r){return n.employee.annualSalary=r}),e.qZA(),e.YNc(29,Se,4,0,"mat-error",11),e.YNc(30,Oe,2,0,"mat-error",11),e.qZA()(),e.TgZ(31,"form",13)(32,"mat-form-field",14)(33,"mat-label"),e._uU(34,"DateOfBirth"),e.qZA(),e.TgZ(35,"input",15),e.NdJ("ngModelChange",function(r){return n.employee.dob=r}),e.qZA(),e.TgZ(36,"mat-hint"),e._uU(37,"MM/DD/YYYY"),e.qZA(),e._UZ(38,"mat-datepicker-toggle",16)(39,"mat-datepicker",null,17),e.qZA()(),e.TgZ(41,"form",18)(42,"mat-form-field",14)(43,"mat-label"),e._uU(44,"StartDate"),e.qZA(),e.TgZ(45,"input",15),e.NdJ("ngModelChange",function(r){return n.employee.startDate=r}),e.qZA(),e.TgZ(46,"mat-hint"),e._uU(47,"MM/DD/YYYY"),e.qZA(),e._UZ(48,"mat-datepicker-toggle",16)(49,"mat-datepicker",null,19),e.qZA()()(),e.TgZ(51,"div",20)(52,"form",8)(53,"mat-form-field",9)(54,"mat-label"),e._uU(55,"Surname"),e.qZA(),e.TgZ(56,"input",21),e.NdJ("ngModelChange",function(r){return n.employee.lastName=r}),e.qZA()()(),e.TgZ(57,"form",13)(58,"mat-form-field",22)(59,"mat-label"),e._uU(60,"Address 1"),e.qZA(),e.TgZ(61,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.address1=r}),e.qZA()()(),e.TgZ(62,"form",13)(63,"mat-form-field",22)(64,"mat-label"),e._uU(65,"Address 2"),e.qZA(),e.TgZ(66,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.address2=r}),e.qZA()()(),e.TgZ(67,"form",13)(68,"mat-form-field",22)(69,"mat-label"),e._uU(70,"Address 3"),e.qZA(),e.TgZ(71,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.address3=r}),e.qZA()()(),e.TgZ(72,"form",13)(73,"mat-form-field",22)(74,"mat-label"),e._uU(75,"Address 4"),e.qZA(),e.TgZ(76,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.address4=r}),e.qZA()()()(),e.TgZ(77,"div",24)(78,"form",13)(79,"mat-form-field",22)(80,"mat-label"),e._uU(81,"BIC(Revolute)"),e.qZA(),e.TgZ(82,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.bic=r}),e.qZA()()(),e.TgZ(83,"form",18)(84,"mat-form-field",25)(85,"mat-label"),e._uU(86,"IBAN"),e.qZA(),e.TgZ(87,"input",23),e.NdJ("ngModelChange",function(r){return n.employee.iban=r}),e.qZA()()(),e.TgZ(88,"form",8)(89,"mat-form-field",9)(90,"mat-label"),e._uU(91,"PPSN"),e.qZA(),e.TgZ(92,"input",21),e.NdJ("ngModelChange",function(r){return n.employee.mobileNumber=r}),e.qZA()()()()()(),e.TgZ(93,"mat-dialog-actions",26)(94,"button",27),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(95," Cancel "),e.qZA(),e.TgZ(96,"button",28),e.NdJ("click",function(){return n.addEmployee()}),e._uU(97),e.qZA()()),2&o){const a=e.MAs(40),r=e.MAs(50);e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(3),e.hij(" ",n.employee.employeeId?"Update":"Create",""),e.xp6(10),e.Q6J("formControl",n.NameFormControl)("ngModel",n.employee.firstName),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("maxlength")),e.xp6(5),e.Q6J("formControl",n.EmailFormControl)("ngModel",n.employee.email),e.xp6(1),e.Q6J("ngIf",n.EmailFormControl.hasError("email")),e.xp6(1),e.Q6J("ngIf",n.EmailFormControl.hasError("required")),e.xp6(5),e.Q6J("formControl",n.SalaryFormControl)("ngModel",n.employee.annualSalary),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.SalaryFormControl.hasError("pattern")),e.xp6(5),e.Q6J("matDatepicker",a)("ngModel",n.employee.dob),e.xp6(3),e.Q6J("for",a),e.xp6(7),e.Q6J("matDatepicker",r)("ngModel",n.employee.startDate),e.xp6(3),e.Q6J("for",r),e.xp6(8),e.Q6J("ngModel",n.employee.lastName),e.xp6(5),e.Q6J("ngModel",n.employee.address1),e.xp6(5),e.Q6J("ngModel",n.employee.address2),e.xp6(5),e.Q6J("ngModel",n.employee.address3),e.xp6(5),e.Q6J("ngModel",n.employee.address4),e.xp6(6),e.Q6J("ngModel",n.employee.bic),e.xp6(5),e.Q6J("ngModel",n.employee.iban),e.xp6(5),e.Q6J("ngModel",n.employee.mobileNumber),e.xp6(5),e.hij(" ",n.employee.employeeId?"Update":"Create"," ")}},dependencies:[A.Mq,A.hl,A.nW,u.O5,I.Nt,x.KE,x.hX,x.bx,x.TO,x.R9,m.ZT,m.xY,m.H8,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,d.oH,S.lW,D.Hw],styles:[".profile-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:hidden}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}.p-dialog-cont-1[_ngcontent-%COMP%]{width:312px}.p-dialog-cont-2[_ngcontent-%COMP%], .p-dialog-cont-3[_ngcontent-%COMP%]{width:312px;margin-left:28px}.profile-dialog-forms-data[_ngcontent-%COMP%]{display:flex;width:841px;height:57vh;margin:24px;padding-left:20px}#country-selection[_ngcontent-%COMP%]{margin-left:40px;height:40px;width:387px;box-shadow:1px 2px 1px 1px #eae9e8}.tog-text[_ngcontent-%COMP%]{font-size:17px;letter-spacing:.1px;font-family:popins,sans-serif;font-weight:200;margin-left:6px;margin-top:13px;color:#3a3a3a}.password-toogle[_ngcontent-%COMP%]{display:flex}.pass-tog[_ngcontent-%COMP%]{margin-left:35px;margin-top:13px}#new-password[_ngcontent-%COMP%]{margin-left:40px}.change-password[_ngcontent-%COMP%]{display:flex;width:852px;margin-left:24px}  #country-selection .mat-mdc-form-field-icon-suffix, [dir=rtl][_ngcontent-%COMP%]   .mat-mdc-form-field-icon-prefix[_ngcontent-%COMP%]{padding:0 0 0 83px;position:relative;margin-bottom:14px}  #country-selection .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff}  #country-selection .mdc-text-field--no-label:not(.mdc-text-field--outlined):not(.mdc-text-field--textarea) .mat-mdc-form-field-infix{padding-top:8px!important;padding-bottom:0}  #country-selection .mat-mdc-form-field-subscript-wrapper{height:0}  .p-dialog-cont-1 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-3 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-2 .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:10px}  .p-dialog-cont-1 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  .p-dialog-cont-3 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  .p-dialog-cont-2 .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0!important}  #date .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:transparent!important;width:387px;padding:0;margin-top:0}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important}.value[_ngcontent-%COMP%]{font-size:12px}#date-input[_ngcontent-%COMP%]::placeholder{font-size:15px}  .profile-content label{color:#767574!important}  #application-sso-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #application-sso-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #application-sso-form .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #application-sso-form .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  .profile-content .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  .profile-content .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}  #application-sso-form .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #application-sso-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #new-password .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #new-password .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:0!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:387px}  #new-password .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #new-password .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #new-password .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #new-password .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-data .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:250px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:250px!important;margin:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}#application-sso-form[_ngcontent-%COMP%]{margin-top:4px}  #Dform .mat-mdc-select-value-text{color:#574f4ffa!important;font-size:14px;font-family:Poppins,sans-serif;font-weight:400;padding-bottom:30px;letter-spacing:0px}  #Dform .mat-mdc-select-arrow svg{fill:#767574!important;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #Dform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:377px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #Dform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #Dform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #Dform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}#Dform[_ngcontent-%COMP%]{height:58px}  #Dform .mat-form-field-appearance-fill .mat-mdc-select-arrow-wrapper{transform:translateY(0)!important;color:bisque}.cancel[_ngcontent-%COMP%]{margin-right:14px;color:#3a3a3a;font-size:17px;font-family:popins,sans-serif;letter-spacing:.3px;background-color:transparent;border:none}.save[_ngcontent-%COMP%]{margin-right:24px;color:#3a3a3a;font-size:17px;background-color:transparent;font-family:popins,sans-serif;letter-spacing:.3px;border:none}  .action .mat-mdc-button .mdc-button__label{font-size:13px;font-family:popins,sans-serif;letter-spacing:.1px}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  .profile-dialog-forms-data .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  .job-title.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;background:white;padding:0}  .Rate.mdc-text-field--filled:not(.mdc-text-field--disabled){height:50px!important;background:white}.flex-containers[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding-left:45px;width:80%}.rate[_ngcontent-%COMP%], .hours[_ngcontent-%COMP%], .delbtn[_ngcontent-%COMP%]{flex:1}.rate[_ngcontent-%COMP%]{padding-left:45px}  #widset .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:138%;left:50%;transform:translate(-50%,-50%)}  #widset .mdc-text-field--filled:not(.mdc-text-field--disabled){padding:0;font-size:14px;background-color:#fff}  #widset .mat-mdc-form-field-focus-overlay{background-color:transparent}  #widset .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  #widset .mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:14px;margin-left:16px;font-family:popins,sans-serif}.profile-content[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:scroll}.profile-dialog-forms-data[_ngcontent-%COMP%]{flex-direction:column;display:flex;margin:0;padding-left:20px}  .profile-dialog-forms-data .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:12px}.p-dialog-cont-2[_ngcontent-%COMP%], .p-dialog-cont-3[_ngcontent-%COMP%]{width:312px;margin-left:0}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();var V=g(9315),ee=g(1486);let Ae=(()=>{class i{constructor(t,o){this.dialogRef=t,this._snackBar=o,this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=1,this.file={},this.uploadEvent={},this.arrayBuffer={},this.exceljsondata=[],this.employees=[]}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}onFileChange(t){t.target.files.length>0&&(this.file=t.target.files[0],this.uploadEvent=t);let o=new FileReader;o.onload=n=>{this.arrayBuffer=o.result;for(var a=new Uint8Array(this.arrayBuffer),r=new Array,l=0;l!=a.length;++l)r[l]=String.fromCharCode(a[l]);var p=r.join(""),h=(0,ee.ij)(p,{type:"binary"});this.exceljsondata=ee.P6.sheet_to_json(h.Sheets[h.SheetNames[0]],{raw:!0,defval:""})},o.readAsArrayBuffer(this.file)}addBulkEmployees(){console.log(this.exceljsondata),this.dialogRef.close(this.exceljsondata)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.so),e.Y36(O.ux))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-bulk-employee"]],decls:9,vars:0,consts:[[2,"margin","20px"],[2,"color","black","text-align","center"],[2,"margin-top","20px"],[1,"col-sm-12"],["type","file","formControlName","orderFile","accept",".xls, .xlsx",1,"form-control","inputFile",3,"change"],[2,"padding-left","35%","padding-top","30px"],["mat-button","",1,"action-button","shadow","animate","blue",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"h3",1),e._uU(2,"Choose Excel(.xlsx) File"),e.qZA(),e.TgZ(3,"div",2)(4,"div",3)(5,"input",4),e.NdJ("change",function(r){return n.onFileChange(r)}),e.qZA()()()(),e.TgZ(6,"div",5)(7,"button",6),e.NdJ("click",function(){return n.addBulkEmployees()}),e._uU(8,"Proceed"),e.qZA()())},styles:[".animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:10px 33px;margin:0 10px 10px 0;float:left;font-family:Poppins,sans-serif;font-size:14px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}"]})}return i})();var Q=g(1088),M=g(4300),z=g(5986),T=g(3566),R=g(1274),P=g(3680);function Ze(i,s){1&i&&(e.TgZ(0,"div",46),e._UZ(1,"div",47),e.qZA())}function Me(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.AddBulk())}),e._UZ(1,"img",49),e._uU(2," Bulk Add "),e.qZA()}}function Pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"img",50),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openDialog())}),e.qZA()}}function Ie(i,s){if(1&i&&(e.TgZ(0,"mat-option",51),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function De(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",52)(1,"mat-checkbox",53),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Ue(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",54)(1,"mat-checkbox",55),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return n&&l.selection.toggle(r),e.KtG(l.openToolbar())}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function ze(i,s){1&i&&(e.TgZ(0,"th",56),e._uU(1," Id "),e.qZA())}function Ne(i,s){if(1&i&&(e.TgZ(0,"td",54),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Be(i,s){1&i&&(e.TgZ(0,"th",57),e._uU(1," First Name "),e.qZA())}function Re(i,s){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function qe(i,s){1&i&&(e.ynx(0),e._uU(1,"Last Name"),e.BQk())}function Ye(i,s){if(1&i&&(e.TgZ(0,"th",57),e.YNc(1,qe,2,0,"ng-container",59),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!t.isSmallScreen)}}function Ee(i,s){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Je(i,s){1&i&&(e.TgZ(0,"th",57),e._uU(1," Email "),e.qZA())}function Fe(i,s){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.email," ")}}function Qe(i,s){1&i&&(e.TgZ(0,"th",57),e._uU(1," AnnuaSalary "),e.qZA())}function je(i,s){if(1&i&&(e.TgZ(0,"td",58),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.annualSalary," ")}}function He(i,s){1&i&&e._UZ(0,"tr",60)}function Le(i,s){if(1&i&&e._UZ(0,"tr",61),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const $e=function(){return[5,10,15]};let Ge=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this.dialog=t,this._liveAnnouncer=o,this.changeDetectorRefs=n,this.http=a,this._snackBar=r,this.dataService=l,this.Headercds=p,this.breakpointObserver=h,this.Organizations=[],this.employees=[],this.selectedRow={},this.displayedColumns=["select","firstName","lastName","email","salary"],this.dataSource=new c.by(this.employees),this.selection=new k.Ov(!0,[]),this.selections=new k.Ov(!0,[]),this.isToolbarOpen=!1,this.horizontalPosition="right",this.verticalPosition="bottom",this.loading=!1,this.isSmallScreen=!1,this.showCreateDiv=!0,this.durationInSeconds=3}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.breakpointObserver.observe([Q.u3.Small,Q.u3.XSmall]).subscribe(o=>{this.isSmallScreen=o.matches}),this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{0!==o.length?(console.log(o),this.dataSource.paginator=this.paginator,this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{0!==o.length?(this.loading=!1,console.log(n),o.forEach(a=>{n.user_organizations.find(l=>l==a.Name)&&(console.log(a),this.Organizations.push(a))}),console.log(this.Organizations),this.selectedOption=this.Organizations[0].OrganizationId,this.getEmployees()):this.loading=!1})):this.loading=!1})}getEmployees(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/organizationemployees/"+this.selectedOption,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{0!==o.length?(this.loading=!1,console.log(o),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,this.selection.clear(),console.log(this.employees)):this.loading=!1})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,this.showCreateDiv=0===this.selections.selected.length,console.log("Selected:",this.selectedRow)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openDialog(){this.dialog.open(X,{data:{OrganizationId:this.selectedOption},height:"fit-content"}).afterClosed().subscribe(o=>{o&&o.emp&&(this.employees.push(o.emp),this.dataSource.data=this.employees,this.selection.clear())})}editEmployee(){const t=new m.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0,this.dialog.open(X,t).afterClosed().subscribe(n=>{if(n&&n.emp){const a=this.employees.findIndex(r=>r.employeeId===n.emp.employeeId);-1!==a&&(this.employees[a]=n.emp,this.dataSource.data=this.employees,this.selection.clear(),this.selections.clear(),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar())}})}delEmployees(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0;const o=this.selection.selected.map(n=>this.http.delete(`https://api.samotplatform.com/Employees/${n.employeeId}/${n.organizationId}`,{headers:t}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))));(0,V.D)(o).subscribe({next:()=>{this.loading=!1,this.employees=this.employees.filter(r=>!this.selection.selected.includes(r)),this.selection.clear(),this.dataSource.data=this.employees;const n=o.length;this.openSnackBar(`${n} Employee${n>1?"s":""} Deleted Successfully`,!1),this.showCreateDiv=0===this.selections.selected.length,this.openToolbar()},error:n=>{console.error("Error deleting employees:",n),this.openSnackBar("Error deleting employees",!1)}})}else this.openSnackBar("Select at least one employee to delete",!1)}AddBulk(){this.dialog.open(Ae,{width:"400px",height:"250px"}).afterClosed().subscribe(o=>{console.log(o);let n=o.length;o.forEach(a=>{var r=this.dataSource.data.find(p=>p.email==a.email);if(console.log(r),void 0!==r)this.openSnackBar("Already exists!",!1),n-=1;else{this.loading=!0,a.OrganizationId=this.selectedOption;var l={Authorization:"Bearer "+localStorage.getItem("token")};this.http.post("https://api.samotplatform.com/Employees",a,{headers:l}).pipe((0,f.K)(p=>(p.status>=400&&p.status<500?(this.openSnackBar("Client error occurred:  "+p.status,!1),this.loading=!1):p.status>=500?(this.openSnackBar("Server error occurred: "+p.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+p.status,!1),this.loading=!1),(0,_._)(p)))).subscribe(p=>{this.loading=!1,console.log(p),this.employees.push(p),this.dataSource.data=this.employees})}}),n>0&&this.openSnackBar(n+"  Employee(s) Added Successfully!",!0)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(M.Kd),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(O.ux),e.Y36(q.D),e.Y36(e.sBO),e.Y36(Q.Yg))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-table-list"]],viewQuery:function(o,n){if(1&o&&e.Gf(w.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:54,vars:12,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid",2,"margin-top","-30px"],["id","setinput",1,"row"],[1,"col-md-12"],[1,"create",2,"height","37px"],["mat-button","","class","action-button shadow animate blue","style","border-radius: 3px",3,"click",4,"ngIf"],["src","/assets/img/faces/add_library_icon.png",3,"click",4,"ngIf"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["class","head-id","mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by position",4,"matHeaderCellDef"],["matColumnDef","firstName"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["class","app-id","mat-cell","",4,"matCellDef"],["matColumnDef","lastName"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["matColumnDef","email"],["class","app-id","mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","salary"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],["mat-button","",1,"action-button","shadow","animate","blue",2,"border-radius","3px",3,"click"],["src","/assets/img/faces/addIcon.png",2,"height","16px","width","16px"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[3,"value"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","","sortActionDescription","Sort by position",1,"head-id"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],[4,"ngIf"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Ze,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),e.YNc(6,Me,3,0,"button",6),e.YNc(7,Pe,1,0,"img",7),e.qZA(),e.TgZ(8,"div",8)(9,"div",9)(10,"div",10)(11,"h4",11),e._uU(12,"Employees Information"),e.qZA()(),e.TgZ(13,"div",12)(14,"form",13)(15,"mat-form-field",14)(16,"mat-label",15),e._uU(17,"Organization"),e.qZA(),e.TgZ(18,"mat-select",16),e.NdJ("ngModelChange",function(r){return n.selectedOption=r})("selectionChange",function(){return n.getEmployees()}),e.YNc(19,Ie,2,2,"mat-option",17),e.qZA()()()(),e.TgZ(20,"mat-toolbar",18)(21,"div",19)(22,"div",20),e._uU(23),e.qZA(),e.TgZ(24,"div",21)(25,"div",22)(26,"img",23),e.NdJ("click",function(){return n.editEmployee()}),e.qZA()(),e.TgZ(27,"div",24)(28,"img",25),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(29,"div",26)(30,"div",27)(31,"div",28)(32,"table",29),e.ynx(33,30),e.YNc(34,De,2,5,"th",31),e.YNc(35,Ue,2,2,"td",32),e.BQk(),e.ynx(36,33),e.YNc(37,ze,2,0,"th",34),e.YNc(38,Ne,2,1,"td",32),e.BQk(),e.ynx(39,35),e.YNc(40,Be,2,0,"th",36),e.YNc(41,Re,2,1,"td",37),e.BQk(),e.ynx(42,38),e.YNc(43,Ye,2,1,"th",39),e.YNc(44,Ee,2,1,"td",37),e.BQk(),e.ynx(45,40),e.YNc(46,Je,2,0,"th",36),e.YNc(47,Fe,2,1,"td",41),e.BQk(),e.ynx(48,42),e.YNc(49,Qe,2,0,"th",36),e.YNc(50,je,2,1,"td",37),e.BQk(),e.YNc(51,He,1,0,"tr",43),e.YNc(52,Le,1,2,"tr",44),e.qZA(),e._UZ(53,"mat-paginator",45),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(5),e.Q6J("ngIf",n.showCreateDiv),e.xp6(1),e.Q6J("ngIf",n.showCreateDiv),e.xp6(11),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(11,$e)))},dependencies:[z.oG,u.sg,u.O5,x.KE,x.hX,T.nU,R.Ye,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW,S.lW],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}  .mat-mdc-button .mdc-button__label, .mat-mdc-unelevated-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .mat-mdc-raised-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%], .mat-mdc-outlined-button[_ngcontent-%COMP%]   .mdc-button__label[_ngcontent-%COMP%]{z-index:0!important}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}#roles-drop[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]{background-color:#fff;border-bottom:none}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 767px){.card-title[_ngcontent-%COMP%], .role-set[_ngcontent-%COMP%], .head-id[_ngcontent-%COMP%], .name-head[_ngcontent-%COMP%], .app-id[_ngcontent-%COMP%]{font-size:12px}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();var Ke=g(5610);function We(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Organization Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Xe(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Organization Name should be at least 5 characters long "),e.qZA())}function Ve(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Organization Name should be no more than 15 characters long "),e.qZA())}let te=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this._formBuilder=t,this.dialogRef=o,this._snackBar=n,this.cdr=a,this.routers=r,this.data=l,this.http=p,this.route=h,this.horizontalPosition="right",this.verticalPosition="bottom",this.Organization={},this.Organizations=[],this.usernameFormControl=new d.NI("",[d.kI.required,d.kI.minLength(5),d.kI.maxLength(15)]),this.durationInSeconds=1,this.Organization={...l},console.log("Upcoming data:",this.data),console.log(this.Organization)}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}addOrganization(){if(this.usernameFormControl.markAsTouched(),this.usernameFormControl.invalid)console.log("Enter the Organization name.");else if(this.Organization.id){console.log("Hi",this.Organization.id);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Organizations/"+this.Organization.id,this.Organization,{headers:t}).subscribe(n=>{this.dialogRef.close({org:n}),this.openSnackBar("Organization Updated Successfully"),this.Organization={}})}else t={Authorization:"Bearer "+localStorage.getItem("token")},this.http.post("https://api.samotplatform.com/Organizations",this.Organization,{headers:t}).subscribe(o=>{console.log(o),this.dialogRef.close({org:o}),this.openSnackBar("Organization Added Successfully"),this.Organization={}})}cancelDialog(){this.Organization={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(d.qu),e.Y36(m.so),e.Y36(O.ux),e.Y36(e.sBO),e.Y36(C.F0),e.Y36(m.WI,8),e.Y36(v.eN),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-organization-form"]],decls:20,vars:7,consts:[["id","dialog"],[1,"create"],[1,"create-text"],[1,"close-icon"],["mat-dialog-close","","src","/assets/close.svg","alt",""],[1,"dialog-cont"],["id","Dform"],["id","input-text"],["type","text","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["align","end",1,"action"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"img",4),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Organization Name"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(r){return n.Organization.name=r}),e.qZA(),e.YNc(12,We,4,0,"mat-error",9),e.YNc(13,Xe,2,0,"mat-error",9),e.YNc(14,Ve,2,0,"mat-error",9),e.qZA()()()(),e.TgZ(15,"mat-dialog-actions",10)(16,"button",11),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",12),e.NdJ("click",function(){return n.addOrganization()}),e._uU(19),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(n.Organization.id?"Update":"Create"),e.xp6(8),e.Q6J("ngModel",n.Organization.name)("formControl",n.usernameFormControl),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("maxlength")),e.xp6(5),e.Oqu(n.Organization.id?"Update":"Create"))},dependencies:[u.O5,I.Nt,x.KE,x.hX,x.TO,m.ZT,m.xY,m.H8,d._Y,d.Fj,d.JJ,d.JL,d.F,d.oH,S.lW],styles:["#dialog[_ngcontent-%COMP%]{height:24vh;overflow-y:hidden}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{font-size:12px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}.create[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2!important;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0}.Checkbox[_ngcontent-%COMP%]:active{background-color:#f7941d!important}.create-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}  .dialog-cont{width:566px!important;margin-left:24px;margin-top:10px;display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{margin-bottom:0}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #Dform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:377px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #Dform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #Dform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #Dform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}#Dform[_ngcontent-%COMP%]{height:58px}.action[_ngcontent-%COMP%]{margin-right:0;margin-top:9px}"]})}return i})();function et(i,s){1&i&&(e.TgZ(0,"div",34),e._UZ(1,"div",35),e.qZA())}function tt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",36)(1,"mat-checkbox",37),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function ot(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",38)(1,"mat-checkbox",39),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return n&&l.selection.toggle(r),e.KtG(l.openToolbar())}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function nt(i,s){1&i&&(e.TgZ(0,"th",40),e._uU(1,"Id"),e.qZA())}function it(i,s){if(1&i&&(e.TgZ(0,"td",38),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.id)}}function at(i,s){1&i&&(e.TgZ(0,"th",41),e._uU(1," Name "),e.qZA())}function st(i,s){if(1&i&&(e.TgZ(0,"td",42),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function rt(i,s){1&i&&e._UZ(0,"tr",43)}function lt(i,s){if(1&i&&e._UZ(0,"tr",44),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const ct=function(){return[10,20,50]};let dt=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a,r,l){this.dialog=t,this._liveAnnouncer=o,this.http=n,this.dataService=a,this._snackBar=r,this.Headercds=l,this.Organizations=[],this.displayedColumns=["select","id","name"],this.dataSource=new c.by(this.Organizations),this.selection=new k.Ov(!0,[]),this.horizontalPosition="right",this.verticalPosition="bottom",this.isToolbarOpen=!1,this.loading=!1,this.durationInSeconds=1,this.selectedRow={},this.selections=new k.Ov(!0,[]),this.sort=new T.YE}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/userOrganizations",{headers:t}).subscribe(o=>{0!==o.length?(this.Organizations=o,this.dataSource=new c.by(this.Organizations),this.dataSource.paginator=this.paginator,this.paginator.pageSize=this.selectedOption,this.loading=!1,console.log(this.Organizations)):this.loading=!1})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow),this.delId=this.selectedRow.id,console.log("Selected:",this.delId)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}organizationcreate(){this.dialog.open(te,{height:"222px",width:"921px"}).afterClosed().subscribe(o=>{o&&o.org&&(this.Organizations.push(o.org),this.dataSource.data=this.Organizations)})}delEmployees(){if(this.selection.selected.length>0){const t={Authorization:"Bearer "+localStorage.getItem("token")},o=this.selection.selected.map(n=>this.http.delete(`https://api.samotplatform.com/Organizations/${n.id}`,{headers:t}));(0,V.D)(o).subscribe({next:()=>{this.Organizations=this.Organizations.filter(r=>!this.selection.selected.includes(r)),this.selections.clear(),this.selection.clear(),this.dataSource.data=this.Organizations;const n=o.length;this.openSnackBar(`${n} Organization${n>1?"s":""} Deleted Successfully`),this.openToolbar()},error:n=>{console.error("Error deleting employees:",n),this.openSnackBar("Error deleting employees")}})}else this.openSnackBar("Select at least one employee to delete")}editOrganization(){const t=new m.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0,t.height="222px",t.width="921px",this.dialog.open(te,t).afterClosed().subscribe(n=>{if(n&&n.org){const a=n.org,r=this.Organizations.findIndex(l=>l.id===a.id);-1!==r&&(this.Organizations[r]=a,this.dataSource.data=this.Organizations,this.selections.clear(),this.selection.clear(),this.openToolbar())}})}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(M.Kd),e.Y36(v.eN),e.Y36(q.D),e.Y36(O.ux),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-organization"]],viewQuery:function(o,n){if(1&o&&(e.Gf(w.NW,5),e.Gf(T.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:37,vars:9,consts:[[1,"main-content",2,"margin-top","0px"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"create"],[2,"margin-top","41px"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[1,"card-title","mt-0"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",1,"name-header"],["mat-cell","",1,"name-header"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,et,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"img",7),e.NdJ("click",function(){return n.organizationcreate()}),e.qZA()()(),e.TgZ(8,"div",8)(9,"div",9)(10,"h4",10),e._uU(11,"Organizations"),e.qZA(),e.TgZ(12,"mat-toolbar",11)(13,"div",12)(14,"div",13),e._uU(15),e.qZA(),e.TgZ(16,"div",14)(17,"div",15)(18,"img",16),e.NdJ("click",function(){return n.editOrganization()}),e.qZA()(),e.TgZ(19,"div",17)(20,"img",18),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(21,"div",19)(22,"div",20)(23,"div",21)(24,"table",22),e.NdJ("matSortChange",function(r){return n.announceSortChange(r)}),e.ynx(25,23),e.YNc(26,tt,2,5,"th",24),e.YNc(27,ot,2,2,"td",25),e.BQk(),e.ynx(28,26),e.YNc(29,nt,2,0,"th",27),e.YNc(30,it,2,1,"td",25),e.BQk(),e.ynx(31,28),e.YNc(32,at,2,0,"th",29),e.YNc(33,st,2,1,"td",30),e.BQk(),e.YNc(34,rt,1,0,"tr",31),e.YNc(35,lt,1,2,"tr",32),e.qZA(),e._UZ(36,"mat-paginator",33),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(14),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,ct))("pageSize",n.selectedOption))},dependencies:[z.oG,u.O5,T.YE,T.nU,R.Ye,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,w.NW],styles:['.create[_ngcontent-%COMP%]{display:flex;justify-content:end;height:64px;align-items:center}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px;padding-left:43px}.name-cont[_ngcontent-%COMP%]{padding-left:43px;font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:58px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .mat-mdc-cell, .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:inherit}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600!important;font-family:popins,sans-serif}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return i})();var oe=g(5195);function pt(i,s){1&i&&(e.TgZ(0,"div",25),e._UZ(1,"div",26),e.qZA())}function mt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",27)(1,"mat-checkbox",28),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function ht(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",29)(1,"mat-checkbox",30),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return n&&l.selection.toggle(r),e.KtG(l.openToolbar())}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function gt(i,s){1&i&&(e.TgZ(0,"th",31),e._uU(1," Name "),e.qZA())}function ut(i,s){if(1&i&&(e.TgZ(0,"td",32),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.firstName+" "+t.lastName," ")}}function ft(i,s){1&i&&(e.TgZ(0,"th",33),e._uU(1," Annual Salary "),e.qZA())}function _t(i,s){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.salary," ")}}function xt(i,s){1&i&&(e.TgZ(0,"th",33),e._uU(1," Monthly Salary "),e.qZA())}function bt(i,s){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.ALo(2,"number"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.salary/12,"1.3-3")," ")}}function Ct(i,s){1&i&&(e.TgZ(0,"th",33),e._uU(1," Hourly Salary "),e.qZA())}function yt(i,s){if(1&i&&(e.TgZ(0,"td",34),e._uU(1),e.ALo(2,"number"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.salary/2920,"1.3-3")," ")}}function vt(i,s){1&i&&(e.TgZ(0,"th",33),e._uU(1," Pay To Employee "),e.qZA())}function Tt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",35)(1,"mat-form-field")(2,"input",36),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.payable=n)}),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.Q6J("ngModel",t.payable)}}function wt(i,s){1&i&&e._UZ(0,"tr",37)}function kt(i,s){if(1&i&&e._UZ(0,"tr",38),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}let St=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a,r,l){this._liveAnnouncer=t,this.dialog=o,this.http=n,this.dialogRef=a,this.routers=r,this.data=l,this.employees=[],this.rowSelected=[],this.organizations=[],this.displayedColumns=["select","name","weight","symbol","client","payable"],this.dataSource=new c.by(Ot),this.selection=new k.Ov(!0,[]),this.selections=new k.Ov(!0,[]),this.pays=[],this.isToolbarOpen=!1,this.loading=!1,this.selectedRow={},this.selected="option1",this.sort=new T.YE}ngOnInit(){this.selectedOption=this.data,this.getEmployees()}getEmployees(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/organizationemployees/"+this.selectedOption,{headers:t}).subscribe(o=>{this.employees=o,this.loading=!1,console.log(this.employees)})}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected row:",this.selectedRow),this.rowSelected.push(this.selectedRow),console.log("Array Of SelectedRow:",this.rowSelected)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}payRequest(){if(this.selectedOption){const n={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.rowSelected);var t=[];this.rowSelected.forEach(a=>{console.log(a.payable);let r={};r.employeeId=a.id,r.payable=a.payable,t.push(r)});var o={};o.organizationId=this.selectedOption,o.payRequestStatus=1,o.payRequestDetails=t,this.http.post("https://api.samotplatform.com/payRequests",o,{headers:n}).subscribe(a=>{console.log(a),this.routers.navigateByUrl("/",{skipLocationChange:!0}).then(()=>{this.routers.navigate(["/user/payroll/"])}),this.dialogRef.close(a)})}else console.error("No organization selected!")}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}canceldialog(){this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(M.Kd),e.Y36(m.uw),e.Y36(v.eN),e.Y36(m.so),e.Y36(C.F0),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-payroll-form"]],viewQuery:function(o,n){if(1&o&&(e.Gf(w.NW,5),e.Gf(T.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:33,vars:4,consts:[["matCardTitle",""],[2,"text-align","right"],["class","setoverlay",4,"ngIf"],["src","/assets/img/faces/cancel.png",2,"width","23px","height","23px","cursor","pointer","margin-right","12px","margin-top","12px",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table",3,"dataSource","matSortChange"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["class","name-head","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","weight"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","symbol"],["matColumnDef","client"],["matColumnDef","payable"],["mat-cell","","class","app-id","id","p-form-data",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["align","end",1,"btnfont"],["mat-button","",1,"btnfont",3,"click"],[1,"setoverlay"],[1,"loader"],["mat-header-cell",""],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","","mat-sort-header","",1,"name-head"],["mat-cell","",1,"name-cont"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],["mat-cell","","id","p-form-data",1,"app-id"],["matInput","","required","required","type","number","placeholder","Enter Amount",3,"ngModel","ngModelChange"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,pt,2,0,"div",2),e.TgZ(3,"img",3),e.NdJ("click",function(){return n.canceldialog()}),e.qZA()()(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"table",7),e.NdJ("matSortChange",function(r){return n.announceSortChange(r)}),e.ynx(8,8),e.YNc(9,mt,2,3,"th",9),e.YNc(10,ht,2,2,"td",10),e.BQk(),e.ynx(11,11),e.YNc(12,gt,2,0,"th",12),e.YNc(13,ut,2,1,"td",13),e.BQk(),e.ynx(14,14),e.YNc(15,ft,2,0,"th",15),e.YNc(16,_t,2,1,"td",16),e.BQk(),e.ynx(17,17),e.YNc(18,xt,2,0,"th",15),e.YNc(19,bt,3,4,"td",16),e.BQk(),e.ynx(20,18),e.YNc(21,Ct,2,0,"th",15),e.YNc(22,yt,3,4,"td",16),e.BQk(),e.ynx(23,19),e.YNc(24,vt,2,0,"th",15),e.YNc(25,Tt,3,1,"td",20),e.BQk(),e.YNc(26,wt,1,0,"tr",21),e.YNc(27,kt,1,2,"tr",22),e.qZA()()()(),e.TgZ(28,"mat-dialog-actions",23)(29,"button",24),e.NdJ("click",function(){return n.canceldialog()}),e._uU(30,"CANCEL"),e.qZA(),e.TgZ(31,"button",24),e.NdJ("click",function(){return n.payRequest()}),e._uU(32,"CREATE"),e.qZA()()),2&o&&(e.xp6(2),e.Q6J("ngIf",n.loading),e.xp6(5),e.Q6J("dataSource",n.employees),e.xp6(19),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[z.oG,u.O5,I.Nt,x.KE,T.YE,T.nU,oe.n5,m.H8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d.Fj,d.wV,d.JJ,d.Q7,d.On,S.lW,u.JJ],styles:['.create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none;height:53vh}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}  #organization-form{width:138px!important;margin-right:20px;height:40px;position:relative}#input[_ngcontent-%COMP%]{height:20px;font-size:10px;color:#504e4e}  #organization-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(227,224,224)!important}  #organization-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:12px;padding-bottom:8px;height:31px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:39px;padding:3px;background-color:#fff}mat-label[_ngcontent-%COMP%]{color:#f7941d;transform-origin:left top;font-size:15px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:1px solid rgb(39,38,38)}  #organization-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;top:23px}.org-table[_ngcontent-%COMP%], .paginator[_ngcontent-%COMP%]{background-color:transparent}#organization-table-filter[_ngcontent-%COMP%]{width:138px!important}  .-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-side[_ngcontent-%COMP%]{margin-top:8px;margin-left:8px;width:24px;height:24px}.book-mark[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:18px;border-radius:100%}.book-icon[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px;margin-left:8px;margin-top:8px}.setting-icon[_ngcontent-%COMP%]{padding-left:12px;width:20px;height:20px;cursor:pointer}  .app-id{padding-left:0!important}.head-id[_ngcontent-%COMP%]{padding-left:0!important}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px}.name-cont[_ngcontent-%COMP%]{font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:58px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;padding:0;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.pay-request[_ngcontent-%COMP%]{float:right;margin-top:20px;margin-right:20px;background-color:#00b2e2}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}.setoverlay[_ngcontent-%COMP%]{position:fixed;top:28%;left:25%;width:50%;height:50%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return i})();const Ot=[];function At(i,s){1&i&&(e.TgZ(0,"div",41),e._UZ(1,"div",42),e.qZA())}function Zt(i,s){if(1&i&&(e.TgZ(0,"mat-option",43),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Mt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",44)(1,"mat-checkbox",45),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Pt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",46)(1,"mat-checkbox",47),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return n&&l.selection.toggle(r),e.KtG(l.openToolbar())}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function It(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," OrganizationId "),e.qZA())}function Dt(i,s){if(1&i&&(e.TgZ(0,"td",49),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.organizationId," ")}}function Ut(i,s){1&i&&(e.TgZ(0,"th",50),e._uU(1," PayRequestId "),e.qZA())}function zt(i,s){if(1&i&&(e.TgZ(0,"td",51),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Nt(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," PayRequestStatus "),e.qZA())}function Bt(i,s){if(1&i&&(e.TgZ(0,"td",52),e._uU(1),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.Q6J("ngClass",o.getStatusColorClass(t.payRequestStatus)),e.xp6(1),e.hij(" ",1===t.payRequestStatus?"Pending":2===t.payRequestStatus?"Approved":3===t.payRequestStatus?"Rejected":"Unknown"," ")}}function Rt(i,s){1&i&&e._UZ(0,"tr",53)}function qt(i,s){if(1&i&&e._UZ(0,"tr",54),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Yt=function(){return[10,50,100]};let Et=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n){this._liveAnnouncer=t,this.dialog=o,this.http=n,this.organizations=[],this.displayedColumns=["select","position","name","weight"],this.dataSource=new c.by(E),this.selection=new k.Ov(!0,[]),this.results={},this.isToolbarOpen=!1,this.loading=!1,this.selected="option1",this.sort=new T.YE}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/userOrganizations",{headers:t}).subscribe(o=>{this.organizations=o,this.selectedOption=this.organizations[0].id,this.getpayrequests()})}getpayrequests(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/organizationpayrequests/"+this.selectedOption,{headers:t}).subscribe(o=>{this.results=o,this.dataSource.data=this.results,this.loading=!1,this.dataSource.paginator=this.paginator})}getStatusColorClass(t){switch(t){case 1:return"";case 2:return"approved";case 3:return"rejected";default:return"unknown"}}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.position+1}`:(this.isAllSelected()?"deselect":"select")+" all"}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}delEmployees(){}organizationcreate(){this.dialog.open(St,{height:"500px",width:"900px",data:this.selectedOption}).afterClosed().subscribe(o=>{console.log(`Dialog result: ${o.id}`),this.results=o,console.log(this.results),E.push(this.results),console.log(E),this.dataSource.data=E})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(M.Kd),e.Y36(m.uw),e.Y36(v.eN))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-pay-roll"]],viewQuery:function(o,n){if(1&o&&(e.Gf(w.NW,5),e.Gf(T.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:45,vars:9,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid",2,"margin-top","-30px"],[1,"row"],[1,"col-md-12"],[1,"create"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","position"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","name"],["class","name-head","mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","weight"],["mat-cell","","class","app-id","style","text-align: center;",3,"ngClass",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id"],["mat-header-cell","","mat-sort-header","",1,"name-head"],["mat-cell","",1,"name-cont"],["mat-cell","",1,"app-id",2,"text-align","center",3,"ngClass"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,At,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"img",6),e.NdJ("click",function(){return n.organizationcreate()}),e.qZA()(),e.TgZ(7,"div",7)(8,"div",8)(9,"div",9)(10,"h4",10),e._uU(11,"Payroll"),e.qZA()(),e.TgZ(12,"div",11)(13,"form",12)(14,"mat-form-field",13)(15,"mat-label",14),e._uU(16,"Organization"),e.qZA(),e.TgZ(17,"mat-select",15),e.NdJ("ngModelChange",function(r){return n.selectedOption=r})("selectionChange",function(){return n.getpayrequests()}),e.YNc(18,Zt,2,2,"mat-option",16),e.qZA()()()(),e.TgZ(19,"mat-toolbar",17)(20,"div",18)(21,"div",19),e._uU(22),e.qZA(),e.TgZ(23,"div",20)(24,"div",21)(25,"img",22),e.NdJ("click",function(){return n.delEmployees()}),e.qZA()()()()()(),e.TgZ(26,"div",23)(27,"div",24)(28,"div",25)(29,"table",26),e.NdJ("matSortChange",function(r){return n.announceSortChange(r)}),e.ynx(30,27),e.YNc(31,Mt,2,5,"th",28),e.YNc(32,Pt,2,2,"td",29),e.BQk(),e.ynx(33,30),e.YNc(34,It,2,0,"th",31),e.YNc(35,Dt,2,1,"td",32),e.BQk(),e.ynx(36,33),e.YNc(37,Ut,2,0,"th",34),e.YNc(38,zt,2,1,"td",35),e.BQk(),e.ynx(39,36),e.YNc(40,Nt,2,0,"th",31),e.YNc(41,Bt,2,2,"td",37),e.BQk(),e.YNc(42,Rt,1,0,"tr",38),e.YNc(43,qt,1,2,"tr",39),e.qZA(),e._UZ(44,"mat-paginator",40),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(16),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.organizations),e.xp6(4),e.hij(" ",n.selection.selected.length," "),e.xp6(7),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,Yt)))},dependencies:[z.oG,u.mk,u.sg,u.O5,x.KE,x.hX,T.YE,T.nU,R.Ye,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW],styles:['.create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}  #organization-form{width:138px!important;margin-right:20px;height:40px;position:relative}#input[_ngcontent-%COMP%]{height:20px;font-size:10px;color:#504e4e}  #organization-form .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(227,224,224)!important}  #organization-form .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:12px;padding-bottom:8px;height:31px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled){height:39px;padding:3px;background-color:#fff}mat-label[_ngcontent-%COMP%]{color:#f7941d;transform-origin:left top;font-size:15px}  #organization-form .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:1px solid rgb(39,38,38)}  #organization-form .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;line-height:normal;pointer-events:all;top:23px}.org-table[_ngcontent-%COMP%], .paginator[_ngcontent-%COMP%]{background-color:transparent}#organization-table-filter[_ngcontent-%COMP%]{width:138px!important}  .-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-side[_ngcontent-%COMP%]{margin-top:8px;margin-left:8px;width:24px;height:24px}.book-mark[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:18px;border-radius:100%}.book-icon[_ngcontent-%COMP%]{cursor:pointer;width:24px;height:24px;margin-left:8px;margin-top:8px}.setting-icon[_ngcontent-%COMP%]{padding-left:12px;width:20px;height:20px;cursor:pointer}  .app-id{padding-left:0!important}.head-id[_ngcontent-%COMP%]{padding-left:0!important}  .mat-cell{padding:8px 8px 8px 0!important}.name-head[_ngcontent-%COMP%]{letter-spacing:0px}.name-cont[_ngcontent-%COMP%]{font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:77px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;padding:0;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.pay-request[_ngcontent-%COMP%]{float:right;margin-top:20px;margin-right:20px;background-color:#00b2e2}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return i})();const E=[];function Jt(i,s){1&i&&(e.TgZ(0,"div",19),e._UZ(1,"div",20),e.qZA())}function Ft(i,s){1&i&&(e.TgZ(0,"th",21),e._uU(1,"Organization Name"),e.qZA())}function Qt(i,s){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.invoiceDetails.OrganizationName)}}function jt(i,s){1&i&&(e.TgZ(0,"th",21),e._uU(1,"Total Salaries"),e.qZA())}function Ht(i,s){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(e.lcZ(2,1,t.invoiceDetails.TotalSalaries))}}function Lt(i,s){1&i&&(e.TgZ(0,"th",21),e._uU(1,"Samot Platform Margin"),e.qZA())}function $t(i,s){if(1&i&&(e.TgZ(0,"td",22),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.invoiceDetails.SamotPlatformMargin)}}function Gt(i,s){1&i&&e._UZ(0,"tr",23)}function Kt(i,s){1&i&&e._UZ(0,"tr",24)}let Wt=(()=>{class i{constructor(t,o){this.data=t,this.http=o,this.invoiceNumber="INV123456",this.currentDate=new Date,this.dueDate=new Date((new Date).setDate(this.currentDate.getDate()+30)),this.clientName="Thomas",this.clientAddress="usa",this.clientCity="New York",this.clientState="CA",this.clientZip="12345",this.invoiceItems=[{description:"Item 1",quantity:2,price:100}],this.displayedColumns=["quantity","price","total"],this.loading=!1}ngOnInit(){this.loading=!0,console.log(this.data);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/InvoiceDetails/"+this.data,{headers:t}).subscribe(o=>{this.invoiceDetails=o,this.loading=!1,console.log(this.invoiceDetails)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.WI),e.Y36(v.eN))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-invoices"]],decls:47,vars:17,consts:[[1,"invoice-container","mat-elevation-z2"],["class","setoverlays",4,"ngIf"],[2,"text-align","right"],["src","/assets/img/faces/cancel.png","mat-dialog-close","",2,"width","20px","height","20px","cursor","pointer"],[1,"invoice-header"],[1,"logo"],["src","/assets/img/faces/Dangan-Group_logo.jpg","alt","Company Logo"],[1,"invoice-info"],[1,"invoice-details"],[1,"client-info"],["mat-table","",3,"dataSource"],["matColumnDef","quantity"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","price"],["matColumnDef","total"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"invoice-summary"],[1,"setoverlays"],[1,"loader"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Jt,2,0,"div",1),e.TgZ(2,"div",2),e._UZ(3,"img",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5),e._UZ(6,"img",6),e.qZA(),e.TgZ(7,"div",7)(8,"h2"),e._uU(9,"Invoice"),e.qZA(),e.TgZ(10,"div")(11,"strong"),e._uU(12,"Invoice Number:"),e.qZA(),e._uU(13),e.qZA(),e.TgZ(14,"div")(15,"strong"),e._uU(16,"Date:"),e.qZA(),e._uU(17),e.ALo(18,"date"),e.qZA()()(),e.TgZ(19,"div",8)(20,"div",9)(21,"h3"),e._uU(22,"Bill To:"),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA(),e.TgZ(25,"div"),e._uU(26),e.qZA(),e.TgZ(27,"div"),e._uU(28),e.qZA()(),e.TgZ(29,"table",10),e.ynx(30,11),e.YNc(31,Ft,2,0,"th",12),e.YNc(32,Qt,2,1,"td",13),e.BQk(),e.ynx(33,14),e.YNc(34,jt,2,0,"th",12),e.YNc(35,Ht,3,3,"td",13),e.BQk(),e.ynx(36,15),e.YNc(37,Lt,2,0,"th",12),e.YNc(38,$t,2,1,"td",13),e.BQk(),e.YNc(39,Gt,1,0,"tr",16),e.YNc(40,Kt,1,0,"tr",17),e.qZA(),e.TgZ(41,"div",18)(42,"div")(43,"strong"),e._uU(44,"Subtotal:"),e.qZA(),e._uU(45),e.ALo(46,"currency"),e.qZA()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(12),e.hij(" ",n.invoiceDetails.InvoiceId," "),e.xp6(4),e.hij(" ",e.xi3(18,12,n.invoiceDetails.CreatedOn,"medium")," "),e.xp6(7),e.Oqu(n.invoiceDetails.OwnerFullName),e.xp6(2),e.Oqu(n.clientAddress),e.xp6(2),e.lnq("",n.clientCity,", ",n.clientState," ",n.clientZip,""),e.xp6(1),e.Q6J("dataSource",n.invoiceItems),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(5),e.hij(" ",e.lcZ(46,15,n.invoiceDetails.GrandTotal)," "))},dependencies:[u.O5,m.ZT,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,u.H9,u.uU],styles:[".invoice-container[_ngcontent-%COMP%]{padding:20px;overflow:hidden;background-color:#fff;border-radius:5px;font-family:Arial,sans-serif}.invoice-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:20px;align-items:center}.logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:150px;height:auto}.logo[_ngcontent-%COMP%], .invoice-info[_ngcontent-%COMP%]{flex:1;padding:10px}.invoice-details[_ngcontent-%COMP%]{margin-top:20px}.client-info[_ngcontent-%COMP%]{margin-bottom:20px}.invoice-summary[_ngcontent-%COMP%]{margin-top:20px;text-align:right}  .mat-mdc-dialog-container .mdc-dialog__surface{border-radius:7px;height:-moz-fit-content!important;height:fit-content!important}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.setoverlays[_ngcontent-%COMP%]{position:fixed;top:32%;left:25%;width:50%;height:50%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();function Xt(i,s){1&i&&(e.TgZ(0,"div",33),e._UZ(1,"div",34),e.qZA())}function Vt(i,s){if(1&i&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function eo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Id"),e.qZA())}function to(i,s){if(1&i&&(e.TgZ(0,"td",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.id)}}function oo(i,s){1&i&&(e.TgZ(0,"th",38),e._uU(1," Pay Request Id "),e.qZA())}function no(i,s){if(1&i&&(e.TgZ(0,"td",39),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.payRequestId," ")}}function io(i,s){1&i&&(e.TgZ(0,"th",38),e._uU(1," Bill Amount "),e.qZA())}function ao(i,s){if(1&i&&(e.TgZ(0,"td",40),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.totalSalaries," ")}}function so(i,s){1&i&&(e.TgZ(0,"th",41),e._uU(1,"Details"),e.qZA())}function ro(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",42)(1,"mat-icon",43),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.invoiceDetail(a.id))}),e._uU(2,"visibility"),e.qZA()()}}function lo(i,s){1&i&&e._UZ(0,"tr",44)}function co(i,s){if(1&i&&e._UZ(0,"tr",45),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const po=function(){return[5,10,15]};let mo=(()=>{class i{constructor(t,o,n,a){this.dialog=t,this._liveAnnouncer=o,this.http=n,this.Headercds=a,this.users=[],this.Organizations=[],this.displayedColumns=["id","fullName","email","margin"],this.dataSource=new c.by(this.users),this.selection=new k.Ov(!0,[]),this.isToolbarOpen=!1,this.loading=!1,this.selectedRow={},this.selections=new k.Ov(!0,[])}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/userOrganizations",{headers:t}).subscribe(o=>{this.Organizations=o,this.dataSource.paginator=this.paginator,this.paginator.pageSize=this.selectedOption,this.selectedOption=this.Organizations[0].id,console.log(this.selectedOption),this.getInvoices(),this.loading=!1})}onOrganizationChange(){console.log(this.selectedOption),this.getInvoices()}getInvoices(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/OrganizationInvoices/"+this.selectedOption,{headers:t}).subscribe(o=>{this.users=o,this.dataSource=new c.by(this.users),this.dataSource.paginator=this.paginator,this.paginator.pageSize=this.selectedOption,console.log(this.users)})}invoiceDetail(t){this.dialog.open(Wt,{height:"550px",width:"650px",data:t}).afterClosed().subscribe(n=>{this.Organizations.push(n.org),this.Organizations=this.Organizations.slice()})}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}editUser(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}delEmployees(){}editEmployee(){}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(M.Kd),e.Y36(v.eN),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-invoice"]],viewQuery:function(o,n){if(1&o&&e.Gf(w.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:36,vars:9,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover1",3,"dataSource"],["matColumnDef","id"],["mat-header-cell","","class","head",4,"matHeaderCellDef"],["mat-cell","","class","td",4,"matCellDef"],["matColumnDef","fullName"],["mat-header-cell","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["matColumnDef","email"],["mat-cell","","class","name-header","style","text-align: center;",4,"matCellDef"],["matColumnDef","margin"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","style","text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"head"],["mat-cell","",1,"td"],["mat-header-cell","",1,"name-header"],["mat-cell","",1,"name-header"],["mat-cell","",1,"name-header",2,"text-align","center"],["mat-header-cell",""],["mat-cell","",2,"text-align","center"],[1,"material-icons",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Xt,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),e._uU(9,"Invoices"),e.qZA()(),e.TgZ(10,"div",9)(11,"form",10)(12,"mat-form-field",11)(13,"mat-label",12),e._uU(14,"Organization"),e.qZA(),e.TgZ(15,"mat-select",13),e.NdJ("ngModelChange",function(r){return n.selectedOption=r})("selectionChange",function(){return n.onOrganizationChange()}),e.YNc(16,Vt,2,2,"mat-option",14),e.qZA()()()()(),e.TgZ(17,"div",15)(18,"div",16)(19,"div",17)(20,"table",18),e.ynx(21,19),e.YNc(22,eo,2,0,"th",20),e.YNc(23,to,2,1,"td",21),e.BQk(),e.ynx(24,22),e.YNc(25,oo,2,0,"th",23),e.YNc(26,no,2,1,"td",24),e.BQk(),e.ynx(27,25),e.YNc(28,io,2,0,"th",23),e.YNc(29,ao,2,1,"td",26),e.BQk(),e.ynx(30,27),e.YNc(31,so,2,0,"th",28),e.YNc(32,ro,3,0,"td",29),e.BQk(),e.YNc(33,lo,1,0,"tr",30),e.YNc(34,co,1,2,"tr",31),e.qZA(),e._UZ(35,"mat-paginator",32),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(14),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(8,po))("pageSize",n.selectedOption))},dependencies:[u.sg,u.O5,x.KE,x.hX,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW,D.Hw],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:56px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}.table-hover[_ngcontent-%COMP%]{font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px}  .table-hover1.mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600;font-family:popins,sans-serif}button[_ngcontent-%COMP%]{color:#23a858;background-color:#202042}.head[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{padding-left:30px}.material-icons[_ngcontent-%COMP%]{cursor:pointer}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();var N=g(6825);function ho(i,s){1&i&&(e.TgZ(0,"div",8),e._UZ(1,"div",9),e.qZA())}let ne=(()=>{class i{constructor(t,o,n,a,r,l,p,h,b){this.dialogRef=t,this.dialog=o,this._liveAnnouncer=n,this.changeDetectorRefs=a,this.http=r,this._snackBar=l,this.userDataService=p,this.Headercds=h,this.data=b,this.reason={},this.loggedInUser={},this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=3,this.loading=!1,console.log(b),this.reason.timesheetId=b.timesheetId,this.reason.organizationId=b.organizationId,this.organizationUnit=b.groupId,this.reason.status=3;var Y={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/oauth2/me",{headers:Y}).subscribe(L=>{this.loggedInUser=L,this.reason.userId=this.loggedInUser.user_id;var Ia=b.timesheetApprovers.find(Da=>Da.user.userId==this.loggedInUser.user_id);this.reason.approverOrder=Ia.approverOrder})}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}submit(){if(console.log(this.reason),this.userDataService.selectedOrganizationUnit){this.reason.groupId=this.organizationUnit;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.reason,{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,this.openSnackBar("TimeSheet Rejected!",!1),this.dialogRef.close(n)})}else t={Authorization:"Bearer "+localStorage.getItem("token")},this.loading=!0,this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus",this.reason,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.dialogRef.close(o)})}cancelDialog(){}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.so),e.Y36(m.uw),e.Y36(M.Kd),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(O.ux),e.Y36(U),e.Y36(e.sBO),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-reject-time-sheet-reason"]],decls:11,vars:2,consts:[["mat-dialog-title",""],[1,"mat-typography"],["class","overlay",4,"ngIf"],["id","setTextArea",1,"example-full-width"],["matInput","","placeholder","Enter Reason..............",3,"ngModel","ngModelChange"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"],[1,"overlay"],[1,"loader"]],template:function(o,n){1&o&&(e.TgZ(0,"h2",0),e._uU(1,"Rejected Reason"),e.qZA(),e.TgZ(2,"mat-dialog-content",1),e.YNc(3,ho,2,0,"div",2),e.TgZ(4,"mat-form-field",3)(5,"textarea",4),e.NdJ("ngModelChange",function(r){return n.reason.statusReason=r}),e.qZA()()(),e.TgZ(6,"mat-dialog-actions",5)(7,"button",6),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(8," Cancel "),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.submit()}),e._uU(10," Submit "),e.qZA()()),2&o&&(e.xp6(3),e.Q6J("ngIf",n.loading),e.xp6(2),e.Q6J("ngModel",n.reason.statusReason))},dependencies:[u.O5,I.Nt,x.KE,m.ZT,m.uh,m.xY,m.H8,d.Fj,d.JJ,d.On,S.lW],styles:["#setTextArea .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:var(--mdc-filled-text-field-container-color);width:396px}  #setTextArea .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();function go(i,s){1&i&&(e.TgZ(0,"div",6),e._UZ(1,"div",7),e.qZA())}let ie=(()=>{class i{constructor(t,o,n,a,r,l,p,h,b){this.dialogRef=t,this.dialog=o,this.dataService=n,this._liveAnnouncer=a,this.changeDetectorRefs=r,this.http=l,this._snackBar=p,this.Headercds=h,this.data=b,this.timesheet={},this.timesheets=[],this.loading=!1,this.durationInSeconds=3,this.horizontalPosition="right",this.verticalPosition="bottom",console.log(b),this.timesheet=b}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}cancelDialog(){this.dialogRef.close()}calculateSubtotal(){return this.dataService.employees.reduce((t,o)=>t+(o.TaxablePay||0),0)}save(){if(this.timesheet.organizationId=this.dataService.organization,this.timesheet.type=this.dataService.selectedTimesheetType,this.timesheet.weekStartDate=this.dataService.startOfWeek,this.timesheet.weekEndDate=this.dataService.endOfWeek,this.dataService.selectedOrganizationUnit){this.timesheet.GroupId=this.dataService.selectedOrganizationUnit,1==this.timesheet.type?(this.timesheet.subtotal=this.dataService.displayedTotalGrossPay,this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay}))):2==this.timesheet.type&&(this.timesheet.subtotal=this.calculateSubtotal(),this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution})));const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.timesheets.push(this.data);const n=this.timesheets.findIndex(a=>a.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.dialogRef.close(o),this.openSnackBar("Timesheet updated Successfully",!0)})}else{1==this.timesheet.type?(this.timesheet.subtotal=this.dataService.displayedTotalGrossPay,this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({organizationId:this.timesheet.organizationId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees[0].employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay}))):2==this.timesheet.type&&(this.timesheet.subtotal=this.calculateSubtotal(),this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({organizationId:this.timesheet.organizationId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution})));const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put("https://api.samotplatform.com/Organization/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.timesheets.push(this.data);const n=this.timesheets.findIndex(a=>a.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.dialogRef.close(o),this.openSnackBar("Timesheet updated Successfully",!0)})}}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.so),e.Y36(m.uw),e.Y36(U),e.Y36(M.Kd),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(O.ux),e.Y36(e.sBO),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-save-change"]],decls:9,vars:1,consts:[[1,"mat-typography"],["class","overlay",4,"ngIf"],[2,"color","black"],["align","end"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","color","primary","cdkFocusInitial","",3,"click"],[1,"overlay"],[1,"loader"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0),e.YNc(1,go,2,0,"div",1),e.TgZ(2,"h2",2),e._uU(3,"Want to save your changes?"),e.qZA()(),e.TgZ(4,"mat-dialog-actions",3)(5,"button",4),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(6," Discard "),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.save()}),e._uU(8," Save "),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[u.O5,m.ZT,m.xY,m.H8,S.lW],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();function uo(i,s){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10),e._uU(2),e.qZA(),e._UZ(3,"br"),e.TgZ(4,"div",11),e._uU(5),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.day),e.xp6(3),e.hij("(",t.date,")")}}function fo(i,s){if(1&i&&(e.TgZ(0,"mat-option",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit,o=e.oxw().$implicit,n=e.oxw();e.Q6J("value",t.shiftId)("disabled",n.isShiftSelected(t.shiftId,o)),e.xp6(1),e.hij(" ",t.name," ")}}function _o(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"mat-form-field",13)(2,"mat-label"),e._uU(3,"Select Shift"),e.qZA(),e.TgZ(4,"mat-select",14),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.shiftId=n)})("selectionChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onShiftSelectChange(a))}),e.YNc(5,fo,2,3,"mat-option",15),e.qZA()(),e.TgZ(6,"div",16)(7,"mat-form-field",17)(8,"input",18),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.payRate=n)})("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())}),e.qZA()()(),e.TgZ(9,"div",19)(10,"mat-form-field",20)(11,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.mondayHours=n)}),e.qZA()(),e.TgZ(12,"mat-form-field",22)(13,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.tuesdayHours=n)}),e.qZA()(),e.TgZ(14,"mat-form-field",23)(15,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.wednesdayHours=n)}),e.qZA()(),e.TgZ(16,"mat-form-field",24)(17,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.thursdayHours=n)}),e.qZA()(),e.TgZ(18,"mat-form-field",25)(19,"input",26),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.fridayHours=n)}),e.qZA()(),e.TgZ(20,"mat-form-field",27)(21,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.saturdayHours=n)}),e.qZA()(),e.TgZ(22,"mat-form-field",23)(23,"input",21),e.NdJ("input",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.calculateTotalHours())})("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.sundayHours=n)}),e.qZA()()(),e.TgZ(24,"div",19)(25,"mat-form-field",17)(26,"input",28),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.totalHours=n)}),e.qZA()()(),e.TgZ(27,"div",19)(28,"mat-form-field",17)(29,"span",29),e._uU(30),e.qZA(),e.TgZ(31,"input",30),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.totalPay=n)}),e.qZA()()(),e.TgZ(32,"div",31)(33,"mat-icon",32),e.NdJ("click",function(){const a=e.CHM(t).index,r=e.oxw();return e.KtG(r.removeJob(a))}),e._uU(34,"delete"),e.qZA()()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(4),e.Q6J("ngModel",t.shiftId),e.xp6(1),e.Q6J("ngForOf",o.shifts),e.xp6(3),e.Q6J("ngModel",t.payRate),e.xp6(3),e.Q6J("ngModel",t.mondayHours),e.xp6(2),e.Q6J("ngModel",t.tuesdayHours),e.xp6(2),e.Q6J("ngModel",t.wednesdayHours),e.xp6(2),e.Q6J("ngModel",t.thursdayHours),e.xp6(2),e.Q6J("ngModel",t.fridayHours),e.xp6(2),e.Q6J("ngModel",t.saturdayHours),e.xp6(2),e.Q6J("ngModel",t.sundayHours),e.xp6(3),e.Q6J("readonly",!0)("ngModel",t.totalHours),e.xp6(4),e.Oqu("\u20ac"),e.xp6(1),e.Q6J("readonly",!0)("ngModel",t.totalPay)}}let xo=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this.dataService=t,this.dialog=o,this.changeDetectorRefs=n,this.http=a,this.dialogRef=r,this.routers=l,this.fb=p,this.data=h,this.hoursInput={},this.currentDate=new Date,this.daysOfWeek=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],this.dynamicSelectOptions=[],this.employeeShifts=[],this.jobs=[],this.shifts=[],this.empJob=[this.getLabelDate(1),this.getLabelDate(2),this.getLabelDate(3),this.getLabelDate(4),this.getLabelDate(5),this.getLabelDate(6),this.getLabelDate(7)]}ngOnInit(){this.selectedOption=this.data,this.logEmployeeShifts(),this.iterateEmpJob(),this.selectedOption=this.data,console.log(this.selectedOption),console.log(this.dataService.employeeInTimeSheet);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/shifts",{headers:t}).subscribe(o=>{this.shifts=o,console.log("shifts",this.shifts)})}calculateTotalHours(){this.dataService.updateTimeSheet=!0,this.dataService.isCurrentApprover=!1,console.log(this.dataService.employeeInTimeSheet.employeeShifts),this.dataService.employeeInTimeSheet.employeeShifts.forEach(t=>{let o=0;t.hasOwnProperty("mondayHours")&&(o+=Number(t.mondayHours)),t.hasOwnProperty("tuesdayHours")&&(o+=Number(t.tuesdayHours)),t.hasOwnProperty("wednesdayHours")&&(o+=Number(t.wednesdayHours)),t.hasOwnProperty("thursdayHours")&&(o+=Number(t.thursdayHours)),t.hasOwnProperty("fridayHours")&&(o+=Number(t.fridayHours)),t.hasOwnProperty("saturdayHours")&&(o+=Number(t.saturdayHours)),t.hasOwnProperty("sundayHours")&&(o+=Number(t.sundayHours)),t.totalHours=o,t.totalPay=Number(t.totalHours)*Number(t.payRate);var n=0;void 0!==this.dataService.employeeInTimeSheet.employeeShifts&&(n=this.dataService.employeeInTimeSheet.employeeShifts.reduce((a,r)=>a+(r.totalPay||0),0)),this.dataService.employeeInTimeSheet.grossPay=(n||0)+(this.dataService.employeeInTimeSheet.expenses||0)-(this.dataService.employeeInTimeSheet.deductions||0)}),this.dataService.calculateTotalGrossPay()}onShiftSelectChange(t){console.log("Selected Shift ID:",t.shiftId)}changeInEmployee(){this.dataService.updateEmployeeInArray(this.dataService.employeeInTimeSheet)}handleExpansionClick(t){t.stopPropagation()}getDayHours(t,o){return t[o.toLowerCase()+"hours"]}addJob(){this.dataService.employeeInTimeSheet.employeeShifts||(this.dataService.employeeInTimeSheet.employeeShifts=[]),console.log(this.dataService.employeeInTimeSheet.employeeShifts);const o=JSON.parse(JSON.stringify({OrganizationId:this.dataService.organization,GroupId:this.dataService.selectedOrganizationUnit,employeeId:this.dataService.employeeInTimeSheet.employeeId,shiftId:void 0,payrate:void 0,totalhours:void 0,totalpay:void 0,mondayhours:void 0,tuesdayhours:void 0,wednesdayhours:void 0,thursdayhours:void 0,fridayhours:void 0,saturdayhours:void 0,sundayhours:void 0}));this.dataService.employeeInTimeSheet.employeeShifts.push(o)}logEmployeeShifts(){console.log("Employee Shifts:",this.employeeShifts)}removeJob(t){const o=this.dataService.employeeInTimeSheet.employeeShifts[t];o&&(this.dataService.employeeInTimeSheet.grossPay-=o.totalPay||0,this.dataService.employeeInTimeSheet.employeeShifts.splice(t,1),this.calculateTotalHours(),this.dataService.calculateTotalGrossPay())}iterateEmpJob(){Object.keys(this.empJob).forEach(t=>{this.finaldata=this.empJob,console.log(`Day: ${this.finaldata.day}, Date: ${this.finaldata.date}`)})}trackByIndex(t,o){return t}logHours(){console.log("Employee Shifts:",this.employeeShifts)}getLabelDate(t){const o=new Date(this.currentDate);o.setDate(o.getDate()+t-o.getDay());const n=this.daysOfWeek[t-1],a=`${o.getDate()} ${this.getMonthName(o.getMonth())}`;return console.log(`Day: ${n}`),console.log(`Target Date: ${a}`),{day:n,date:a}}getMonthName(t){return["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t]}isShiftSelected(t,o){return this.dataService.employeeInTimeSheet.employeeShifts.some(n=>n.shiftId===t&&n!==o)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(U),e.Y36(m.uw),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(m.so),e.Y36(C.F0),e.Y36(d.qu),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-timesheet-rate"]],decls:14,vars:2,consts:[[3,"click"],[1,"subHeader",2,"margin-left","27px","margin-top","10px","font-size","13px"],[1,"shift"],[1,"labelemp"],["class","day-label",4,"ngFor","ngForOf"],[2,"margin-left","48px"],[2,"margin-left","20px"],["class","subRow","class","job-row flex-container","id","widset",4,"ngFor","ngForOf"],[1,"material-icons",2,"color","black","cursor","pointer","margin-left","127px","margin-top","20px",3,"click"],[1,"day-label"],[1,"day-name"],[1,"day-date"],["id","widset",1,"job-row","flex-container"],[1,"job-title",2,"cursor","pointer"],[3,"ngModel","ngModelChange","selectionChange"],["style","cursor: pointer",3,"value","disabled",4,"ngFor","ngForOf"],[1,"rate"],[1,"example-full-width"],["matInput","","placeholder","Pay Rate",1,"value",3,"ngModel","ngModelChange","input"],[1,"hours"],[1,"example-full-width",2,"padding-left","16px"],["type","number","matInput","","placeholder","Enter hours",1,"value",3,"ngModel","input","ngModelChange"],[1,"example-full-width",2,"padding-left","28px"],[1,"example-full-width",2,"padding-left","25px"],[1,"example-full-width",2,"padding-left","42px"],[1,"example-full-width",2,"padding-left","27px"],["matInput","","placeholder","Enter hours",1,"value",3,"ngModel","input","ngModelChange"],[1,"example-full-width",2,"padding-left","21px"],["matInput","","placeholder","Total Hours",1,"value",3,"readonly","ngModel","ngModelChange"],["matPrefix",""],["matInput","","placeholder","Total Pay",1,"value",3,"readonly","ngModel","ngModelChange"],[1,"delbtn"],[1,"material-icons",2,"color","red","cursor","pointer","margin-top","21px",3,"click"],[2,"cursor","pointer",3,"value","disabled"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.NdJ("click",function(r){return n.handleExpansionClick(r)}),e.TgZ(1,"div",1)(2,"div",2),e._uU(3,"Shift"),e.qZA(),e.TgZ(4,"div",3),e._uU(5,"Pay Rate"),e.qZA(),e.YNc(6,uo,6,2,"div",4),e.TgZ(7,"div",5),e._uU(8,"Total Hours"),e.qZA(),e.TgZ(9,"div",6),e._uU(10,"Total Pay"),e.qZA(),e.YNc(11,_o,35,15,"div",7),e.qZA(),e.TgZ(12,"mat-icon",8),e.NdJ("click",function(){return n.addJob()}),e._uU(13,"add"),e.qZA()()),2&o&&(e.xp6(6),e.Q6J("ngForOf",n.finaldata),e.xp6(5),e.Q6J("ngForOf",n.dataService.employeeInTimeSheet.employeeShifts))},dependencies:[u.sg,I.Nt,x.KE,x.hX,x.qo,Z.gD,P.ey,d.Fj,d.wV,d.JJ,d.On,D.Hw],styles:[".job-title.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;background:white;height:50px!important;padding:0;width:100px!important;margin-left:11px!important}  .Rate.mdc-text-field--filled:not(.mdc-text-field--disabled){height:50px!important;background:white}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:56px!important}.rate[_ngcontent-%COMP%], .hours[_ngcontent-%COMP%], .delbtn[_ngcontent-%COMP%]{flex:1;padding-left:9px}.rate[_ngcontent-%COMP%]{margin-top:10px}.hours[_ngcontent-%COMP%]{margin-top:10px;font-size:15px}.day-label[_ngcontent-%COMP%]{margin-left:55px}mat-label[_ngcontent-%COMP%]{font-size:13px}.day-date[_ngcontent-%COMP%]{margin-left:2px;font-size:11px}.shift[_ngcontent-%COMP%]{margin-left:7px}.total[_ngcontent-%COMP%]{margin-left:34px}.labelemp[_ngcontent-%COMP%]{font-size:14px!important;margin-left:86px}  #widset .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:138%;left:50%;transform:translate(-50%,-50%)}  #widset .mdc-text-field--filled:not(.mdc-text-field--disabled){padding:0;font-size:14px;height:37px;width:81px;background-color:#fff}  #widset .mat-mdc-form-field-focus-overlay{background-color:transparent}  #widset .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;font-size:14px}  #widset.mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px}  #p-form-data .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-floating-label, .mdc-text-field--filled.mdc-text-field--invalid[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]:not(.mdc-text-field--disabled)   .mdc-floating-label--float-above[_ngcontent-ng-c3833206353][_ngcontent-%COMP%]{color:#574f4ffa}  #p-form-data .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:52px!important;background:none!important;width:250px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){height:47px!important;background-color:#fff;width:80px!important;margin:0}[_ngcontent-%COMP%]::placeholder{font-size:10px;margin-left:4px}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #p-form-data .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}.mat-form-field[_ngcontent-%COMP%]:hover   .currency-prefix[_ngcontent-%COMP%]{background-color:transparent}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.subHeader[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .subRow[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block}"]})}return i})();function bo(i,s){1&i&&(e.TgZ(0,"div",29),e._UZ(1,"div",30),e.qZA())}function Co(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",31)(1,"mat-checkbox",32),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function yo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"mat-checkbox",34),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return e.KtG(n?l.selection.toggle(r):null)}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function vo(i,s){1&i&&e._UZ(0,"td",35)}function To(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Name"),e.qZA())}function wo(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function ko(i,s){1&i&&(e.TgZ(0,"td",35),e._uU(1," Total "),e.qZA())}function So(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Surname"),e.qZA())}function Oo(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Ao(i,s){1&i&&e._UZ(0,"td",35)}function Zo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Annual Salary"),e.qZA())}function Mo(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" \u20ac",t.annualSalary," ")}}function Po(i,s){1&i&&e._UZ(0,"td",35)}function Io(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Gross Pay"),e.qZA())}function Do(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,o.calculateGrossPay(t.annualSalary),"EUR")," ")}}function Uo(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateTotalGrossPay(),"EUR")," ")}}function zo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Bonus"),e.qZA())}function No(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.bonus=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.bonus)}}function Bo(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateBonusSubtotal(),"EUR")," ")}}function Ro(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1," Other Allowance "),e.qZA())}function qo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.otherAllowance=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.otherAllowance)}}function Yo(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateotherAllowanceSubtotal(),"EUR"),"")}}function Eo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Deductions"),e.qZA())}function Jo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.deductions=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.deductions)}}function Fo(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" -",e.xi3(2,1,t.calculatedeductionSubtotal(),"EUR"),"")}}function Qo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"BIK"),e.qZA())}function jo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.bik=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.bik)}}function Ho(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatebikSubtotal(),"EUR"),"")}}function Lo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1," Gross TaxablePay Including BIK "),e.qZA())}function $o(i,s){if(1&i&&(e.TgZ(0,"td",33),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.TaxablePay,"EUR")," ")}}function Go(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateSubtotal(),"EUR"),"")}}function Ko(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1,"Expenses"),e.qZA())}function Wo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.expenses=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.expenses)}}function Xo(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculateexpensesSubtotal(),"EUR"),"")}}function Vo(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1," Employee Pension Contribution "),e.qZA())}function en(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.employeePensionContribution=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.employeePensionContribution)}}function tn(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatepensionSubtotal(),"EUR")," ")}}function on(i,s){1&i&&(e.TgZ(0,"th",36),e._uU(1," Employeer Pension Contribution "),e.qZA())}function nn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",33)(1,"input",37),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.employeerPensionContribution=n)})("ngModelChange",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.onInputChanged())}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.employeerPensionContribution)}}function an(i,s){if(1&i&&(e.TgZ(0,"td",35),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" ",e.xi3(2,1,t.calculatepensionerSubtotal(),"EUR")," ")}}function sn(i,s){1&i&&e._UZ(0,"tr",38)}function rn(i,s){1&i&&e._UZ(0,"tr",39)}function ln(i,s){1&i&&e._UZ(0,"tr",40)}function cn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.canceldialog())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",42),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.statusRejected())}),e._uU(4," Reject "),e.qZA(),e.TgZ(5,"button",43),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.statusApproved())}),e._uU(6," Approve "),e.qZA(),e.BQk()}}function dn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",41),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.canceldialog())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.updateTimesheet())}),e._uU(4," Save "),e.qZA(),e.TgZ(5,"button",44),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.saveAndApprove())}),e._uU(6," Save and Approve "),e.qZA(),e.BQk()}}const pn=function(){return[4,5,8]};let mn=(()=>{class i{constructor(t,o,n,a,r,l,p,h,b){this.dialog=t,this.changeDetectorRefs=o,this.http=n,this._snackBar=a,this.dialogRef=r,this.dataService=l,this.routers=p,this.dataservice=h,this.data=b,this.horizontalPosition="right",this.verticalPosition="bottom",this.timesheet={},this.loading=!1,this.timesheets=[],this.employees=[],this.selection=new k.Ov(!0,[]),this.selectedRow={},this.selections=new k.Ov(!0,[]),this.dataSource=new c.by(this.employees),this.loggedInUser={},this.updatedTimeSheet={},this.statusApproverObject={},this.displayedColumns=["select","item","Name","cost","grossPay","Bonus","Allowance","Deductions","BIK","TaxablePay","Expenses","Pension","Pensions"],this.durationInSeconds=3}ngOnInit(){if(this.selectedOption=this.data,this.data){this.isEdit=this.data.isEdit,console.log(this.dataservice.employees),this.dataservice.employees=[],this.selectedRow=this.data[0],this.timesheet=this.selectedRow,console.log(this.selectedRow);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(o=>{this.loggedInUser=o,this.selectedRow.timesheetApprovers.length>0&&null!=this.selectedRow.currentApproverOrder&&this.loggedInUser.user_roles.forEach(n=>{if("Approver"==n){var a=this.selectedRow.timesheetApprovers.find(r=>r.approverOrder==this.selectedRow.currentApproverOrder);this.loading=!1,null!=a&&a.user.email===this.loggedInUser.email&&1===a.status&&1===this.selectedRow.status&&(this.isCurrentApprover=!0,console.log("Show Button =",this.isCurrentApprover))}})}),this.dataservice.startOfWeek=this.selectedRow.weekStartDate,this.dataservice.endOfWeek=this.selectedRow.weekEndDate,this.dataservice.selectedTimesheetType=this.selectedRow.type,this.selectedRow.timesheetEmployees.map(o=>{var n={};return n.employeeId=o.employeeId,n.firstName=o.employee.firstName,n.lastName=o.employee.lastName,n.annualSalary=o.employee.annualSalary,n.TaxablePay=o.TaxablePay,n.bik=o.bik,n.bonus=o.bonus,n.otherAllowance=o.otherAllowance,n.expenses=o.expenses,n.deductions=o.deductions,n.grossPay=o.grossPay,n.employeePensionContribution=o.employeePensionContribution,n.employeerPensionContribution=o.employeerPensionContribution,this.dataservice.addEmployee(n),this.isEdit=!1,this.calculateGrossPay(n.annualSalary),this.calculateTaxablePay(n),this.calculateSubtotal(),n}),console.log(this.dataservice.employees)}else this.getEmployees()}calculateTotalGrossPay(){return this.dataservice.employees.reduce((t,o)=>t+this.calculateGrossPay(o.annualSalary),0)}getEmployees(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/groups/employees/"+this.dataservice.selectedOrganizationUnit,{headers:t}).subscribe(o=>{this.employees=o,this.dataSource=new c.by(this.employees),this.dataservice.employees=o,this.dataSource.paginator=this.paginator})}calculateGrossPay(t){return 1===this.dataservice.selectedCycleId?t/52:2===this.dataservice.selectedCycleId?t/52*2:3===this.dataservice.selectedCycleId?t/52*4:0}calculateSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.TaxablePay||0),0)}calculateBonusSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.bonus||0),0)}calculatebikSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.bik||0),0)}calculatedeductionSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.deductions||0),0)}calculateexpensesSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.expenses||0),0)}calculatepensionSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.employeePensionContribution||0),0)}calculatepensionerSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.employeerPensionContribution||0),0)}calculateotherAllowanceSubtotal(){return this.dataservice.employees.reduce((t,o)=>t+(o.otherAllowance||0),0)}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}handlePage(t){}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0,console.log("Selected:",this.selectedRow)}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}onInputChanged(t){this.updateTimeSheet=!0,this.isCurrentApprover=!1,this.calculateTaxablePay(t)}calculateTaxablePay(t){const p=this.calculateGrossPay(t.annualSalary)+(t.bonus||0)+(t.otherAllowance||0)-(t.deductions||0)+(t.bik||0);return t.TaxablePay=p,p}updateTimesheet(){this.timesheet.organizationId=this.dataservice.organization,this.timesheet.type=this.dataservice.selectedTimesheetType,this.timesheet.subtotal=this.calculateSubtotal(),this.timesheet.weekStartDate=this.dataservice.startOfWeek,this.timesheet.weekEndDate=this.dataservice.endOfWeek,this.loading=!0;const t=this.dataservice.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets/":"https://api.samotplatform.com/organization/timesheets/";if(1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,taxablepay:o.TaxablePay,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution}))),this.dataService.selectedOrganizationUnit){this.timesheet.GroupId=this.dataservice.selectedOrganizationUnit,this.timesheet.timesheetEmployees=this.dataservice.employees.map(n=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:n.employeeId,bonus:n.bonus,otherAllowance:n.otherAllowance,deductions:n.deductions,grossPay:n.grossPay,bik:n.bik,taxablepay:n.TaxablePay,employeePensionContribution:n.employeePensionContribution,employeerPensionContribution:n.employeerPensionContribution}));const o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,this.timesheets.push(this.data);const a=this.timesheets.findIndex(r=>r.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.updatedTimeSheet=n,this.isCurrentApprover=!0})}else{const o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put(t+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,this.timesheets.push(this.data);const a=this.timesheets.findIndex(r=>r.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.updatedTimeSheet=n,this.isCurrentApprover=!0})}}statusRejected(){this.dialog.open(ne,{width:"30%",data:this.selectedRow}).afterClosed().subscribe(o=>{console.log(o),console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)?(this.selectedRow.timesheetApprovers.find(n=>n.user.userId==o.userId).status=o.status,this.selectedRow.status=o.status,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Rejected!",!1)):(this.updatedTimeSheet.timesheetApprovers.find(n=>n.user.userId==o.userId).status=o.status,this.selectedRow.status=o.status,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("Timesheet Rejected! But Update Successfully!",!1))})}statusApproved(){this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var t=this.selectedRow.timesheetApprovers.find(n=>n.user.userId==this.loggedInUser.user_id);if(console.log(t),this.statusApproverObject.timesheet=this.selectedRow,this.statusApproverObject.approverOrder=t.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.statusReason="",console.log(this.statusApproverObject),this.dataService.selectedOrganizationUnit){this.loading=!0,this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit;var o={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:o}).pipe((0,f.K)(a=>(a.status>=400&&a.status<500?(this.openSnackBar("Client error occurred:  "+a.status,!1),this.loading=!1):a.status>=500?(this.openSnackBar("Server error occurred: "+a.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+a.status,!1),this.loading=!1),(0,_._)(a)))).subscribe(a=>{console.log(a),this.loading=!1,console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)?(this.selectedRow.timesheetApprovers.find(r=>r.user.userId==a.userId).status=a.status,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Approved Successfully!",!0)):(this.updatedTimeSheet.timesheetApprovers.find(r=>r.user.userId==a.userId).status=a.status,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved And Update Successfully!",!0))})}else this.loading=!0,o={Authorization:"Bearer "+localStorage.getItem("token")},this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)?(this.selectedRow.timesheetApprovers.find(a=>a.user.userId==n.userId).status=n.status,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Approved Successfully!",!0)):(this.updatedTimeSheet.timesheetApprovers.find(a=>a.user.userId==n.userId).status=n.status,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved And Update Successfully!",!0))})}saveAndApprove(){if(this.timesheet.organizationId=this.dataservice.organization,this.timesheet.type=this.dataservice.selectedTimesheetType,this.timesheet.subtotal=this.calculateSubtotal(),this.timesheet.weekStartDate=this.dataservice.startOfWeek,this.timesheet.weekEndDate=this.dataservice.endOfWeek,this.loading=!0,this.dataService.selectedOrganizationUnit){this.timesheet.GroupId=this.dataservice.selectedOrganizationUnit,1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,taxablepay:o.TaxablePay,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution}))),this.loading=!0;const t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.timesheets.push(this.data);const n=this.timesheets.findIndex(l=>l.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.updatedTimeSheet=o,this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==this.loggedInUser.user_id);console.log(a),this.statusApproverObject.approverOrder=a.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit,this.statusApproverObject.timesheet=this.selectedRow,this.statusApproverObject.statusReason="",console.log(this.statusApproverObject),this.loading=!0;var r={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:r}).pipe((0,f.K)(l=>(l.status>=400&&l.status<500?(this.openSnackBar("Client error occurred:  "+l.status,!1),this.loading=!1):l.status>=500?(this.openSnackBar("Server error occurred: "+l.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+l.status,!1),this.loading=!1),(0,_._)(l)))).subscribe(l=>{console.log(l),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(p=>p.user.userId==l.userId).status=l.status,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})})}else{1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataservice.employees.map(o=>({organizationId:this.timesheet.organizationId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,taxablepay:o.TaxablePay,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution})));const t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Organization/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),this.timesheets.push(this.data);const n=this.timesheets.findIndex(l=>l.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.updatedTimeSheet=o,this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==this.loggedInUser.user_id);console.log(a),this.statusApproverObject.approverOrder=a.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.timesheet=this.selectedRow,this.statusApproverObject.statusReason="",console.log(this.statusApproverObject),this.loading=!0;var r={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:r}).pipe((0,f.K)(l=>(l.status>=400&&l.status<500?(this.openSnackBar("Client error occurred:  "+l.status,!1),this.loading=!1):l.status>=500?(this.openSnackBar("Server error occurred: "+l.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+l.status,!1),this.loading=!1),(0,_._)(l)))).subscribe(l=>{console.log(l),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(p=>p.user.userId==l.userId).status=l.status,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})})}}canceldialog(){console.log(this.timesheet),1==this.updateTimeSheet?this.dialog.open(ie,{width:"24%",data:this.timesheet}).afterClosed().subscribe(o=>{console.log(o),console.log(o),null!=o?(o.isCurrentApprover=!0,this.dialogRef.close({emp:o})):this.dialogRef.close({emp:o})}):this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(O.ux),e.Y36(m.so),e.Y36(U),e.Y36(C.F0),e.Y36(U),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-fixed-timesheet"]],viewQuery:function(o,n){if(1&o&&e.Gf(w.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:70,vars:17,consts:[[1,"time"],["class","overlay",4,"ngIf"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","","class","name-head","style","text-align: left;",4,"matHeaderCellDef"],["mat-cell","","class","name-cont",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["matColumnDef","item"],["class","name-head","mat-header-cell","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","Name"],["matColumnDef","cost"],["matColumnDef","grossPay"],["matColumnDef","Bonus"],["matColumnDef","Allowance"],["matColumnDef","Deductions"],["matColumnDef","BIK"],["matColumnDef","TaxablePay"],["matColumnDef","Expenses"],["matColumnDef","Pension"],["matColumnDef","Pensions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-footer-row","",4,"matFooterRowDef"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[2,"display","flex","flex-direction","column"],["align","end",2,"float","right","margin-right","26px"],["align","end","id","setbtn"],[4,"ngIf"],[1,"overlay"],[1,"loader"],["mat-header-cell","",1,"name-head",2,"text-align","left"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"name-cont"],[3,"checked","aria-label","click","change"],["mat-footer-cell",""],["mat-header-cell","",1,"name-head"],["required","required","type","number","placeholder","Enter Amount","pattern","^[0-9]*$",3,"ngModel","ngModelChange"],["mat-header-row",""],["mat-row",""],["mat-footer-row",""],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",2,"background-color","#d2042d","color","white",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#228b22","color","white",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0),e.YNc(1,bo,2,0,"div",1),e.TgZ(2,"table",2),e.ynx(3,3),e.YNc(4,Co,2,5,"th",4),e.YNc(5,yo,2,2,"td",5),e.YNc(6,vo,1,0,"td",6),e.BQk(),e.ynx(7,7),e.YNc(8,To,2,0,"th",8),e.YNc(9,wo,2,1,"td",9),e.YNc(10,ko,2,0,"td",6),e.BQk(),e.ynx(11,10),e.YNc(12,So,2,0,"th",8),e.YNc(13,Oo,2,1,"td",9),e.YNc(14,Ao,1,0,"td",6),e.BQk(),e.ynx(15,11),e.YNc(16,Zo,2,0,"th",8),e.YNc(17,Mo,2,1,"td",9),e.YNc(18,Po,1,0,"td",6),e.BQk(),e.ynx(19,12),e.YNc(20,Io,2,0,"th",8),e.YNc(21,Do,3,4,"td",9),e.YNc(22,Uo,3,4,"td",6),e.BQk(),e.ynx(23,13),e.YNc(24,zo,2,0,"th",8),e.YNc(25,No,2,1,"td",9),e.YNc(26,Bo,3,4,"td",6),e.BQk(),e.ynx(27,14),e.YNc(28,Ro,2,0,"th",8),e.YNc(29,qo,2,1,"td",9),e.YNc(30,Yo,3,4,"td",6),e.BQk(),e.ynx(31,15),e.YNc(32,Eo,2,0,"th",8),e.YNc(33,Jo,2,1,"td",9),e.YNc(34,Fo,3,4,"td",6),e.BQk(),e.ynx(35,16),e.YNc(36,Qo,2,0,"th",8),e.YNc(37,jo,2,1,"td",9),e.YNc(38,Ho,3,4,"td",6),e.BQk(),e.ynx(39,17),e.YNc(40,Lo,2,0,"th",8),e.YNc(41,$o,3,4,"td",9),e.YNc(42,Go,3,4,"td",6),e.BQk(),e.ynx(43,18),e.YNc(44,Ko,2,0,"th",8),e.YNc(45,Wo,2,1,"td",9),e.YNc(46,Xo,3,4,"td",6),e.BQk(),e.ynx(47,19),e.YNc(48,Vo,2,0,"th",8),e.YNc(49,en,2,1,"td",9),e.YNc(50,tn,3,4,"td",6),e.BQk(),e.ynx(51,20),e.YNc(52,on,2,0,"th",8),e.YNc(53,nn,2,1,"td",9),e.YNc(54,an,3,4,"td",6),e.BQk(),e.YNc(55,sn,1,0,"tr",21),e.YNc(56,rn,1,0,"tr",22),e.YNc(57,ln,1,0,"tr",23),e.qZA(),e._UZ(58,"mat-paginator",24),e.qZA(),e.TgZ(59,"div",25)(60,"div",26)(61,"p"),e._uU(62),e.ALo(63,"currency"),e.qZA(),e.TgZ(64,"p"),e._uU(65),e.ALo(66,"currency"),e.qZA()(),e.TgZ(67,"mat-dialog-actions",27),e.YNc(68,cn,7,0,"ng-container",28),e.YNc(69,dn,7,0,"ng-container",28),e.qZA()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("dataSource",n.dataservice.employees),e.xp6(53),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("matFooterRowDef",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(16,pn)),e.xp6(4),e.hij("Subtotal: ",e.xi3(63,10,n.calculateSubtotal(),"EUR"),""),e.xp6(3),e.hij("Grand Total: ",e.xi3(66,13,n.calculateSubtotal(),"EUR"),""),e.xp6(3),e.Q6J("ngIf",n.isCurrentApprover),e.xp6(1),e.Q6J("ngIf",!n.isCurrentApprover))},dependencies:[z.oG,u.O5,m.xY,m.H8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.mD,c.Ke,c.ge,c.ev,c.yh,c.XQ,c.Gk,c.Q2,d.Fj,d.wV,d.JJ,d.Q7,d.c5,d.On,w.NW,S.lW,u.H9],styles:["#p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::placeholder{padding-left:1px;font-size:10px}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:70px}  #p-form-data .mat-mdc-form-field-subscript-wrapper{height:0;width:100%}  .drop.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:132px!important;height:51px!important;border-radius:7px!important}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}.time[_ngcontent-%COMP%]{width:100%;height:65vh;overflow-x:hidden;padding:0}.drop[_ngcontent-%COMP%]{float:right;margin-right:23px;margin-top:5px;background-color:#fff}.name-head[_ngcontent-%COMP%]{font-size:12px;background-color:#a9a9a9;text-align:center}.name-cont[_ngcontent-%COMP%]{text-align:center;font-size:13px;padding-left:2px;width:50px!important}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .time.mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}table[_ngcontent-%COMP%]{width:100%}tr.mat-mdc-footer-row[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})}return i})();function hn(i,s){1&i&&(e.TgZ(0,"div",10),e._UZ(1,"div",11),e.qZA())}function gn(i,s){if(1&i&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function un(i,s){if(1&i&&(e.ynx(0),e.YNc(1,gn,2,2,"mat-option",12),e.BQk()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",!o.gettype||o.gettype===t.id)}}function fn(i,s){if(1&i&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function _n(i,s){if(1&i&&(e.ynx(0),e.YNc(1,fn,2,2,"mat-option",12),e.BQk()),2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",!o.Cycle||o.Cycle===t.id)}}function xn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",4)(1,"mat-label"),e._uU(2,"Payroll cycle"),e.qZA(),e.TgZ(3,"mat-select",14),e.NdJ("valueChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.Cycle?a.Cycle:a.dataService.selectedcycle=n)})("selectionChange",function(n){e.CHM(t);const a=e.oxw();return e.KtG(a.onPayrollCycleChange(n))}),e.YNc(4,_n,2,1,"ng-container",6),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(3),e.Q6J("value",t.Cycle?t.Cycle:t.dataService.selectedcycle),e.xp6(1),e.Q6J("ngForOf",t.payrollCycle)}}function bn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",4)(1,"mat-label"),e._uU(2,"Month and Year"),e.qZA(),e._UZ(3,"input",15)(4,"mat-datepicker-toggle",16),e.TgZ(5,"mat-datepicker",17,18),e.NdJ("monthSelected",function(n){e.CHM(t);const a=e.MAs(6),r=e.oxw();return e.KtG(r.setMonthAndYear(n,a))}),e.qZA()()}if(2&i){const t=e.MAs(6),o=e.oxw();e.xp6(3),e.Q6J("matDatepicker",t)("formControl",o.date),e.xp6(1),e.Q6J("for",t)}}function Cn(i,s){if(1&i&&(e.TgZ(0,"mat-form-field",19)(1,"mat-label"),e._uU(2,"Week"),e.qZA(),e.TgZ(3,"mat-date-range-input",20),e._UZ(4,"input",21)(5,"input",22),e.qZA(),e._UZ(6,"mat-datepicker-toggle",23)(7,"mat-date-range-picker",null,24),e.qZA()),2&i){const t=e.MAs(8),o=e.oxw();e.xp6(3),e.Q6J("formGroup",o.campaignOne)("rangePicker",t),e.xp6(3),e.Q6J("for",t)}}function yn(i,s){1&i&&(e.TgZ(0,"div"),e.ynx(1),e._UZ(2,"app-fixed-timesheet"),e.BQk(),e.qZA())}function vn(i,s){if(1&i&&(e.TgZ(0,"th",52),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.Oqu(t.column)}}function Tn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",53)(1,"mat-checkbox",54),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw(2);return e.KtG(n?a.toggleAllRows():null)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function wn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",55)(1,"mat-checkbox",56),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw(2);return e.KtG(n?l.selection.toggle(r):null)}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function kn(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"FirstName"),e.qZA())}function Sn(i,s){if(1&i&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.firstName," ")}}function On(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Surname"),e.qZA())}function An(i,s){if(1&i&&(e.TgZ(0,"td",55),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.lastName," ")}}function Zn(i,s){1&i&&e._UZ(0,"th",52)}function Mn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",57)(1,"button",58),e.NdJ("click",function(n){const r=e.CHM(t).$implicit,l=e.oxw(2);return n.stopPropagation(),e.KtG(l.toggleExpansion(r))}),e.TgZ(2,"mat-icon"),e._uU(3),e.qZA()()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(3),e.Oqu(o.isExpanded(t)?"remove":"add")}}function Pn(i,s){1&i&&(e.TgZ(0,"th",59),e._uU(1," \xa0 "),e.qZA())}function In(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_down"),e.qZA())}function Dn(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"keyboard_arrow_up"),e.qZA())}function Un(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",60)(1,"button",61),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return r.expandedElement=r.expandedElement===a?null:a,e.KtG(r.dataService.employeeInTimeSheet=a)}),e.YNc(2,In,2,0,"mat-icon",9),e.YNc(3,Dn,2,0,"mat-icon",9),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.expandedElement!==t),e.xp6(1),e.Q6J("ngIf",o.expandedElement===t)}}function zn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"app-user-timesheet-rate",63),e.NdJ("click",function(n){e.CHM(t);const a=e.oxw(3);return e.KtG(a.handleExpansionClick(n))}),e.qZA(),e.BQk()}if(2&i){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("employee",t)}}function Nn(i,s){if(1&i&&(e.TgZ(0,"td",60)(1,"div",62),e.YNc(2,zn,2,1,"ng-container",9),e.qZA()()),2&i){const t=s.$implicit,o=e.oxw(2);e.uIk("colspan",o.columnsToDisplayWithExpand.length),e.xp6(1),e.Q6J("@detailExpand",t==o.expandedElement?"expanded":"collapsed"),e.xp6(1),e.Q6J("ngIf",t==o.expandedElement)}}function Bn(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Expenses"),e.qZA())}function Rn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",55)(1,"input",64),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.expenses=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.expenses)}}function qn(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Deduction"),e.qZA())}function Yn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",55)(1,"input",64),e.NdJ("ngModelChange",function(n){const r=e.CHM(t).$implicit;return e.KtG(r.deductions=n)})("ngModelChange",function(){const a=e.CHM(t).$implicit,r=e.oxw(2);return e.KtG(r.onInputChanged(a))}),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngModel",t.deductions)}}function En(i,s){1&i&&(e.TgZ(0,"th",53),e._uU(1,"Gross Pay"),e.qZA())}function Jn(i,s){if(1&i&&(e.TgZ(0,"td",65),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.grossPay," ")}}function Fn(i,s){1&i&&e._UZ(0,"tr",66)}function Qn(i,s){1&i&&e._UZ(0,"tr",67)}function jn(i,s){1&i&&e._UZ(0,"tr",68)}function Hn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.canceldialog())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",70),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.statusRejected())}),e._uU(4," Reject "),e.qZA(),e.TgZ(5,"button",71),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.statusApproved())}),e._uU(6," Approve "),e.qZA(),e.BQk()}}function Ln(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",69),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.canceldialog())}),e._uU(2," Cancel "),e.qZA(),e.TgZ(3,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.updateTimesheet())}),e._uU(4," Save "),e.qZA(),e.TgZ(5,"button",72),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.saveAndApprove())}),e._uU(6," Save and Approve "),e.qZA(),e.BQk()}}const $n=function(){return["expandedDetail"]},Gn=function(){return[4,5,8]};function Kn(i,s){if(1&i&&(e.TgZ(0,"div")(1,"mat-dialog-content",25)(2,"table",26),e.YNc(3,vn,2,1,"th",27),e.ynx(4,28),e.YNc(5,Tn,2,5,"th",29),e.YNc(6,wn,2,2,"td",30),e.BQk(),e.ynx(7,31),e.YNc(8,kn,2,0,"th",32),e.YNc(9,Sn,2,1,"td",33),e.BQk(),e.ynx(10,34),e.YNc(11,On,2,0,"th",32),e.YNc(12,An,2,1,"td",33),e.BQk(),e.ynx(13,35),e.YNc(14,Zn,1,0,"th",27),e.YNc(15,Mn,4,1,"td",36),e.BQk(),e.ynx(16,37),e.YNc(17,Pn,2,0,"th",38),e.YNc(18,Un,4,2,"td",39),e.BQk(),e.ynx(19,40),e.YNc(20,Nn,3,3,"td",39),e.BQk(),e.ynx(21,41),e.YNc(22,Bn,2,0,"th",32),e.YNc(23,Rn,2,1,"td",33),e.BQk(),e.ynx(24,42),e.YNc(25,qn,2,0,"th",32),e.YNc(26,Yn,2,1,"td",33),e.BQk(),e.ynx(27,43),e.YNc(28,En,2,0,"th",32),e.YNc(29,Jn,2,1,"td",44),e.BQk(),e.YNc(30,Fn,1,0,"tr",45),e.YNc(31,Qn,1,0,"tr",46),e.YNc(32,jn,1,0,"tr",47),e.qZA(),e._UZ(33,"mat-paginator",48),e.TgZ(34,"div",49),e._UZ(35,"div",50),e.qZA()(),e.TgZ(36,"div",49)(37,"div",50)(38,"p"),e._uU(39),e.ALo(40,"currency"),e.qZA(),e.TgZ(41,"p"),e._uU(42),e.ALo(43,"currency"),e.qZA()(),e.TgZ(44,"mat-dialog-actions",51),e.YNc(45,Hn,7,0,"ng-container",9),e.YNc(46,Ln,7,0,"ng-container",9),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("dataSource",t.dataService.employees),e.xp6(28),e.Q6J("matHeaderRowDef",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",t.columnsToDisplayWithExpand),e.xp6(1),e.Q6J("matRowDefColumns",e.DdM(19,$n)),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(20,Gn)),e.xp6(6),e.hij(" Subtotal: ",e.gM2(40,9,t.dataService.displayedTotalGrossPay,"EUR","symbol","1.2-2")," "),e.xp6(3),e.hij(" Grand Total:",e.gM2(43,14,t.dataService.displayedTotalGrossPay,"EUR","symbol","1.2-2")," "),e.xp6(3),e.Q6J("ngIf",t.dataService.isCurrentApprover),e.xp6(1),e.Q6J("ngIf",!t.dataService.isCurrentApprover)}}const J=new Date,ae=J.getDay(),se=J.getDate()-ae+(0===ae?-6:1),Wn=new Date(J.setDate(se)),Xn=new Date(J.setDate(se+6));let re=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this.dialog=t,this.dataService=o,this.changeDetectorRefs=n,this.http=a,this.dialogRef=r,this.routers=l,this._snackBar=p,this.data=h,this.loading=!1,this.timesheets=[],this.updatedTimeSheet={},this.horizontalPosition="right",this.verticalPosition="bottom",this.employees=[],this.loggedInUser={},this.editTimeSheet=[],this.employee={},this.timesheet={},this.statusApproverObject={},this.selection=new k.Ov(!0,[]),this.selectedRow={},this.selections=new k.Ov(!0,[]),this.request={},this.expandedRows=[],this.payrequest={},this.department={},this.totalGrossPay=0,this.dataSource=new c.by(this.employees),this.weeks=[],this.viewed={},this.timesheetTypes=[{id:1,name:"Hourly"},{id:2,name:"Fixed"}],this.payrollCycle=[{id:1,name:"Weekly"},{id:2,name:"Bi-Weekly"},{id:3,name:"Monthly"}],this.displayedColumns=["select","fname","Lname","Expenses","deduction","pay"],this.campaignOne=new d.cw({start:new d.NI(Wn),end:new d.NI(Xn)}),this.columnsToDisplayWithExpand=[...this.displayedColumns,"expand"],this.durationInSeconds=3}ngOnInit(){this.data&&(this.isEdit=this.data.isEdit,this.gettype=this.data[0].type,this.Cycle=this.data[0].payrollCycle,this.campaignOne.setValue({start:this.data[0].weekStartDate,end:this.data[0].weekEndDate})),this.dataService.selectedcycle=this.payrollCycle[2].id,console.log(this.gettype),this.dataService.selectedCycleId=this.payrollCycle[2].id,this.dataService.selectedTimesheetType=1,this.dataService.employees=[],this.selectedRow=this.data[0],this.timesheet=this.selectedRow,console.log(this.selectedRow);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(o=>{this.loggedInUser=o,console.log(this.loggedInUser),this.viewed.organizationId=this.dataService.organization,this.viewed.timesheetId=this.selectedRow.timesheetId,this.viewed.userId=this.loggedInUser.user_id,console.log(this.viewed),this.dataService.selectedOrganizationUnit?(this.viewed.GroupId=this.dataService.selectedOrganizationUnit,this.http.post("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId+"/Viewed",this.viewed,{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n)})):this.http.post("https://api.samotplatform.com/Organization/Timesheets/"+this.timesheet.timesheetId+"/Viewed",this.viewed,{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n)}),this.selectedRow.timesheetApprovers.length>0&&null!=this.selectedRow.currentApproverOrder&&this.loggedInUser.user_roles.forEach(n=>{if("Approver"==n){var a=this.selectedRow.timesheetApprovers.find(r=>r.approverOrder==this.selectedRow.currentApproverOrder);this.loading=!1,null!=a&&a.user.email===this.loggedInUser.email&&1===a.status&&1===this.selectedRow.status&&(this.dataService.isCurrentApprover=!0,console.log("Show Button =",this.dataService.isCurrentApprover))}})}),this.editTimeSheet=[],this.dataService.employees=[],console.log(this.selectedRow.timesheetId),this.dataService.startOfWeek=this.selectedRow.weekStartDate,this.dataService.endOfWeek=this.selectedRow.weekEndDate,this.dataService.selectedTimesheetType=this.selectedRow.type,this.selectedRow.timesheetEmployees.map(o=>{var n={};return n.employeeId=o.employeeId,n.firstName=o.employee.firstName,n.lastName=o.employee.lastName,n.expenses=o.expenses,n.deductions=o.deductions,n.grossPay=o.grossPay,n.employeeShifts=o.employeeShifts,console.log(n),this.dataService.addEmployee(n),this.isEdit=!1,n}),console.log(this.dataService.employees),this.dataSource.paginator=this.paginator,this.dataService.calculateTotalGrossPay()}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}updateTimesheet(){this.timesheet.organizationId=this.dataService.organization,this.timesheet.GroupId=this.dataService.selectedOrganizationUnit,this.timesheet.type=this.dataService.selectedTimesheetType,this.timesheet.subtotal=this.dataService.displayedTotalGrossPay,this.timesheet.weekStartDate=this.dataService.startOfWeek,this.timesheet.weekEndDate=this.dataService.endOfWeek;const t=this.dataService.selectedOrganizationUnit?"https://api.samotplatform.com/Timesheets/":"https://api.samotplatform.com/organization/timesheets/";1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataService.employees.map(n=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:n.employeeId,employeeShifts:this.timesheet.timesheetEmployees.employeeShifts,expenses:n.expenses,deductions:n.deductions,grossPay:n.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataService.employees.map(n=>({employeeId:n.employeeId,bonus:n.bonus,otherAllowance:n.otherAllowance,deductions:n.deductions,grossPay:n.grossPay,bik:n.bik,employeePensionContribution:n.employeePensionContribution,employeerPensionContribution:n.employeerPensionContribution})));const o={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put(t+this.timesheet.timesheetId,this.timesheet,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{console.log(n),this.loading=!1,this.dataService.isCurrentApprover=!0,this.timesheets.push(this.data);const a=this.timesheets.findIndex(r=>r.timesheetId===this.timesheet.timesheetId);-1!==a&&(this.timesheets[a]=n),this.updatedTimeSheet=n,this.dataService.isCurrentApprover=!0})}onInputChanged(t){this.dataService.updateTimeSheet=!0,this.dataService.isCurrentApprover=!1;var o=0;void 0!==t.employeeShifts&&(o=t.employeeShifts.reduce((n,a)=>n+(a.totalPay||0),0)),null==t.grossPay&&(t.grossPay=0),t.grossPay=(o||0)+(t.expenses||0)-(t.deductions||0),this.dataService.calculateTotalGrossPay(),this.changeDetectorRefs.detectChanges()}generateWeeksAndDays(){const t=new Date,o=t.getMonth(),n=new Date(t.getFullYear(),o,1),a=new Date(t.getFullYear(),o+1,0);let r=n,l=n;for(;l<=a;){l=new Date(l.getFullYear(),l.getMonth(),l.getDate()+6);const h=`Week ${this.getWeekNumber(r)}: ${r.toLocaleDateString()} - ${l.toLocaleDateString()}`;this.weeks.push(h),r=new Date(l.getFullYear(),l.getMonth(),l.getDate()+1),l=r}}getWeekNumber(t){const o=new Date(t.getFullYear(),0,1),n=Math.floor((t.getTime()-o.getTime())/864e5);return Math.ceil((n+o.getDay()+1)/7)}getGrossPay(t){return this.department.timesheetEmployees.find(n=>n.employeeId===t)?.grossPay}getWeekNumberAndDatesFromLabel(t){const n=t.match(/Week (\d+):/),a=n?n[1]:0,l=t.match(/(\d{1,2}\/\d{1,2}\/\d{4}) - (\d{1,2}\/\d{1,2}\/\d{4})/);return`Week ${a}: ${l?l[1]:""} - ${l?l[2]:""}`}handlePage(t){}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}toggleExpansion(t){this.expandedElement=this.expandedElement===t?null:t}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}statusApproved(){this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var t=this.selectedRow.timesheetApprovers.find(n=>n.user.userId==this.loggedInUser.user_id);console.log(t),this.statusApproverObject.approverOrder=t.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.statusReason="",console.log(this.statusApproverObject),this.loading=!0;var o={Authorization:"Bearer "+localStorage.getItem("token")};this.dataService.selectedOrganizationUnit?(this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit,this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{if(console.log(n),this.loading=!1,console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)){this.selectedRow.timesheetApprovers.find(l=>l.user.userId==n.userId).status=n.status;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==n.userId).approverOrder;console.log(a),2==a&&(this.selectedRow.status=n.status,this.selectedRow.isCurrentApprover=!1),this.selectedRow.isCurrentApprover=!1,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Approved Successfully!",!0)}else this.updatedTimeSheet.timesheetApprovers.find(r=>r.user.userId==n.userId).status=n.status,a=this.updatedTimeSheet.timesheetApprovers.find(r=>r.user.userId==n.userId).approverOrder,console.log(a),2==a&&(this.updatedTimeSheet.status=n.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved And Update Successfully!",!0)})):this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus",this.statusApproverObject,{headers:o}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{if(console.log(n),this.loading=!1,console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)){this.selectedRow.timesheetApprovers.find(l=>l.user.userId==n.userId).status=n.status;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==n.userId).approverOrder;console.log(a),2==a&&(this.selectedRow.status=n.status,this.selectedRow.isCurrentApprover=!1),this.selectedRow.isCurrentApprover=!1,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Approved Successfully!",!0)}else this.updatedTimeSheet.timesheetApprovers.find(r=>r.user.userId==n.userId).status=n.status,a=this.updatedTimeSheet.timesheetApprovers.find(r=>r.user.userId==n.userId).approverOrder,console.log(a),2==a&&(this.updatedTimeSheet.status=n.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved And Update Successfully!",!0)})}statusRejected(){this.dialog.open(ne,{width:"30%",data:this.selectedRow}).afterClosed().subscribe(o=>{console.log(o),console.log(this.updatedTimeSheet),(0,y.isEmptyObject)(this.updatedTimeSheet)?(this.selectedRow.timesheetApprovers.find(n=>n.user.userId==o.userId).status=o.status,this.selectedRow.status=o.status,this.selectedRow.isCurrentApprover=!1,this.dialogRef.close({emp:this.selectedRow}),this.openSnackBar("TimeSheet Rejected!",!1)):(this.updatedTimeSheet.timesheetApprovers.find(n=>n.user.userId==o.userId).status=o.status,this.updatedTimeSheet.status=o.status,this.updatedTimeSheet.isCurrentApprover=!1,this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("Timesheet Rejected! But Update Successfully!",!1))})}canceldialog(){console.log(this.timesheet),1==this.dataService.updateTimeSheet?this.dialog.open(ie,{width:"24%",data:this.timesheet}).afterClosed().subscribe(o=>{console.log(o),null!=o?(o.isCurrentApprover=!0,this.dialogRef.close({emp:o})):this.dialogRef.close({emp:o})}):this.dialogRef.close()}saveAndApprove(){if(this.timesheet.organizationId=this.dataService.organization,this.timesheet.type=this.dataService.selectedTimesheetType,this.timesheet.subtotal=this.dataService.displayedTotalGrossPay,this.timesheet.weekStartDate=this.dataService.startOfWeek,this.timesheet.weekEndDate=this.dataService.endOfWeek,this.dataService.selectedOrganizationUnit){this.timesheet.GroupId=this.dataService.selectedOrganizationUnit,1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({organizationId:this.timesheet.organizationId,groupId:this.timesheet.groupId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees[0].employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution})));const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put("https://api.samotplatform.com/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.dataService.isCurrentApprover=!0,this.timesheets.push(this.data);const n=this.timesheets.findIndex(l=>l.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.updatedTimeSheet=o,this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==this.loggedInUser.user_id);if(console.log(a),this.statusApproverObject.approverOrder=a.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.statusReason="",this.dataService.selectedOrganizationUnit){this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit;var r={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:r}).pipe((0,f.K)(p=>(p.status>=400&&p.status<500?(this.openSnackBar("Client error occurred:  "+p.status,!1),this.loading=!1):p.status>=500?(this.openSnackBar("Server error occurred: "+p.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+p.status,!1),this.loading=!1),(0,_._)(p)))).subscribe(p=>{console.log(p),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(b=>b.user.userId==p.userId).status=p.status;var h=this.updatedTimeSheet.timesheetApprovers.find(b=>b.user.userId==p.userId).approverOrder;console.log(h),2==h&&(this.updatedTimeSheet.status=p.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})}else console.log(this.statusApproverObject),this.loading=!0,r={Authorization:"Bearer "+localStorage.getItem("token")},this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus",this.statusApproverObject,{headers:r}).pipe((0,f.K)(l=>(l.status>=400&&l.status<500?(this.openSnackBar("Client error occurred:  "+l.status,!1),this.loading=!1):l.status>=500?(this.openSnackBar("Server error occurred: "+l.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+l.status,!1),this.loading=!1),(0,_._)(l)))).subscribe(l=>{console.log(l),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(h=>h.user.userId==l.userId).status=l.status;var p=this.updatedTimeSheet.timesheetApprovers.find(h=>h.user.userId==l.userId).approverOrder;console.log(p),2==p&&(this.updatedTimeSheet.status=l.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})})}else{1==this.timesheet.type?this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({organizationId:this.timesheet.organizationId,timesheetId:this.timesheet.timesheetId,employeeId:o.employeeId,employeeShifts:this.timesheet.timesheetEmployees[0].employeeShifts,expenses:o.expenses,deductions:o.deductions,grossPay:o.grossPay})):2==this.timesheet.type&&(this.timesheet.timesheetEmployees=this.dataService.employees.map(o=>({employeeId:o.employeeId,bonus:o.bonus,otherAllowance:o.otherAllowance,deductions:o.deductions,grossPay:o.grossPay,bik:o.bik,employeePensionContribution:o.employeePensionContribution,employeerPensionContribution:o.employeerPensionContribution})));const t={Authorization:"Bearer "+localStorage.getItem("token")};this.loading=!0,this.http.put("https://api.samotplatform.com/Organization/Timesheets/"+this.timesheet.timesheetId,this.timesheet,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{console.log(o),this.loading=!1,this.dataService.isCurrentApprover=!0,this.timesheets.push(this.data);const n=this.timesheets.findIndex(l=>l.timesheetId===this.timesheet.timesheetId);-1!==n&&(this.timesheets[n]=o),this.updatedTimeSheet=o,this.statusApproverObject.timesheetId=this.selectedRow.timesheetId,this.statusApproverObject.userId=this.loggedInUser.user_id;var a=this.selectedRow.timesheetApprovers.find(l=>l.user.userId==this.loggedInUser.user_id);if(console.log(a),this.statusApproverObject.approverOrder=a.approverOrder,this.statusApproverObject.status=2,this.statusApproverObject.organizationId=this.dataService.organization,this.statusApproverObject.statusReason="",this.dataService.selectedOrganizationUnit){this.statusApproverObject.groupId=this.dataService.selectedOrganizationUnit;var r={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Timesheet/ApproverStatus/",this.statusApproverObject,{headers:r}).pipe((0,f.K)(p=>(p.status>=400&&p.status<500?(this.openSnackBar("Client error occurred:  "+p.status,!1),this.loading=!1):p.status>=500?(this.openSnackBar("Server error occurred: "+p.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+p.status,!1),this.loading=!1),(0,_._)(p)))).subscribe(p=>{console.log(p),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(b=>b.user.userId==p.userId).status=p.status;var h=this.updatedTimeSheet.timesheetApprovers.find(b=>b.user.userId==p.userId).approverOrder;console.log(h),2==h&&(this.updatedTimeSheet.status=p.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})}else console.log(this.statusApproverObject),this.loading=!0,r={Authorization:"Bearer "+localStorage.getItem("token")},this.http.put("https://api.samotplatform.com/Organization/Timesheet/ApproverStatus",this.statusApproverObject,{headers:r}).pipe((0,f.K)(l=>(l.status>=400&&l.status<500?(this.openSnackBar("Client error occurred:  "+l.status,!1),this.loading=!1):l.status>=500?(this.openSnackBar("Server error occurred: "+l.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+l.status,!1),this.loading=!1),(0,_._)(l)))).subscribe(l=>{console.log(l),this.loading=!1,this.updatedTimeSheet.timesheetApprovers.find(h=>h.user.userId==l.userId).status=l.status;var p=this.updatedTimeSheet.timesheetApprovers.find(h=>h.user.userId==l.userId).approverOrder;console.log(p),2==p&&(this.updatedTimeSheet.status=l.status,this.selectedRow.isCurrentApprover=!1),this.dialogRef.close({emp:this.updatedTimeSheet}),this.openSnackBar("TimeSheet Approved and Update Successfully!",!0)})})}}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(U),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(m.so),e.Y36(C.F0),e.Y36(O.ux),e.Y36(m.WI,8))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-time-sheet-detail"]],viewQuery:function(o,n){if(1&o&&e.Gf(w.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},decls:16,vars:8,consts:[["y","",1,"profile-header"],[1,"profile-text"],[1,"close-icon"],["class","overlay",4,"ngIf"],[1,"drop"],[3,"value","valueChange"],[4,"ngFor","ngForOf"],["class","drop",4,"ngIf"],["class","example-form-field","style","margin-right: 25px;",4,"ngIf"],[4,"ngIf"],[1,"overlay"],[1,"loader"],[3,"value",4,"ngIf"],[3,"value"],[3,"value","valueChange","selectionChange"],["matInput","",3,"matDatepicker","formControl"],["matIconSuffix","",3,"for"],["startView","multi-year","panelClass","example-month-picker",3,"monthSelected"],["dp2",""],[1,"example-form-field",2,"margin-right","25px"],[3,"formGroup","rangePicker"],["matStartDate","","placeholder","Start date","formControlName","start","readonly","",1,"calendar"],["matEndDate","","placeholder","End date","formControlName","end","readonly","",1,"calendar"],["matIconSuffix","","disabled","",3,"for"],["campaignOnePicker",""],[1,"time"],["mat-table","","multiTemplateDataRows","",1,"table",3,"dataSource"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","select"],["mat-header-cell","","class","name-head",4,"matHeaderCellDef"],["mat-cell","","class","name-cont",4,"matCellDef"],["matColumnDef","fname"],["class","name-head","mat-header-cell","",4,"matHeaderCellDef"],["class","name-cont","mat-cell","",4,"matCellDef"],["matColumnDef","Lname"],["matColumnDef","toggleButton"],["mat-cell","","class","toggle-cell",4,"matCellDef"],["matColumnDef","expand"],["mat-header-cell","","aria-label","row actions","class","name-head",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","expandedDetail"],["matColumnDef","Expenses"],["matColumnDef","deduction"],["matColumnDef","pay"],["mat-cell","","class","name-cont","id","p-form-data",4,"matCellDef"],["class","name-head","mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","example-element-row",4,"matRowDef","matRowDefColumns"],["mat-row","","class","example-detail-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[2,"display","flex","flex-direction","column"],["align","end",2,"float","right","margin-right","26px"],["align","end"],["mat-header-cell",""],["mat-header-cell","",1,"name-head"],[3,"checked","indeterminate","aria-label","change"],["mat-cell","",1,"name-cont"],[3,"checked","aria-label","click","change"],["mat-cell","",1,"toggle-cell"],["mat-icon-button","",3,"click"],["mat-header-cell","","aria-label","row actions",1,"name-head"],["mat-cell",""],["mat-icon-button","","aria-label","expand row",3,"click"],[1,"example-element-detail"],[3,"employee","click"],["required","required","type","number","placeholder","Enter Amount","pattern","^[0-9]*$",3,"ngModel","ngModelChange"],["mat-cell","","id","p-form-data",1,"name-cont"],["mat-header-row","",1,"name-head"],["mat-row","",1,"example-element-row"],["mat-row","",1,"example-detail-row"],["mat-stroked-button","","color","primary",3,"click"],["mat-stroked-button","",2,"background-color","#d2042d","color","white",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#228b22","color","white",3,"click"],["mat-stroked-button","","cdkFocusInitial","",2,"background-color","#00b2e2","color","white",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0)(1,"div",1),e._uU(2,"Time Sheet"),e.qZA(),e.TgZ(3,"div",2),e.YNc(4,hn,2,0,"div",3),e.TgZ(5,"mat-form-field",4)(6,"mat-label"),e._uU(7,"Timesheet Type"),e.qZA(),e.TgZ(8,"mat-select",5),e.NdJ("valueChange",function(r){return n.gettype?n.gettype:n.dataService.selectedTimesheetType=r}),e.YNc(9,un,2,1,"ng-container",6),e.qZA()(),e.YNc(10,xn,5,2,"mat-form-field",7),e.YNc(11,bn,7,3,"mat-form-field",7),e.YNc(12,Cn,9,3,"mat-form-field",8),e.qZA()(),e.YNc(13,yn,3,0,"div",9),e._UZ(14,"div"),e.YNc(15,Kn,47,21,"div",9)),2&o&&(e.xp6(4),e.Q6J("ngIf",n.loading),e.xp6(4),e.Q6J("value",n.gettype?n.gettype:n.dataService.selectedTimesheetType),e.xp6(1),e.Q6J("ngForOf",n.timesheetTypes),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)&&3===(n.Cycle?n.Cycle:n.dataService.selectedcycle)),e.xp6(1),e.Q6J("ngIf",1===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)||2===(n.gettype?n.gettype:n.dataService.selectedcycle)&&3!==n.Cycle||1==(n.Cycle?n.Cycle:n.dataService.selectedcycle)),e.xp6(1),e.Q6J("ngIf",2===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)),e.xp6(2),e.Q6J("ngIf",1===(n.gettype?n.gettype:n.dataService.selectedTimesheetType)))},dependencies:[A.Mq,A.hl,A.nW,A.wx,A.zY,A.By,A._g,z.oG,u.sg,u.O5,I.Nt,x.KE,x.hX,x.R9,Z.gD,P.ey,m.xY,m.H8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d.Fj,d.wV,d.JJ,d.JL,d.Q7,d.c5,d.On,d.oH,d.sg,d.u,w.NW,S.lW,S.RK,D.Hw,xo,mn,u.H9],styles:["#p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled):focus{background-color:#fff!important}  #p-form-data .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:19px!important;background:white}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled){background:white;padding:0}  #p-form-data .mdc-text-field--filled:not(.mdc-text-field--disabled) :after{background:white}[_ngcontent-%COMP%]::placeholder{padding-left:10px}input[_ngcontent-%COMP%]{overflow:visible;border:none;border-bottom:1px solid rgb(169,169,169);height:35px;width:100px}  #p-form-data .mat-mdc-form-field-subscript-wrapper{height:0;width:100%}  .drop.mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:132px!important;height:51px!important;border-radius:0!important}  .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}.time[_ngcontent-%COMP%]{width:100%;height:66vh;overflow-x:hidden;padding:0}.drop[_ngcontent-%COMP%]{float:right;margin-right:23px;margin-top:5px;background-color:#fff}.name-head[_ngcontent-%COMP%]{padding-left:5px;background-color:#a9a9a9}.name-cont[_ngcontent-%COMP%]{padding-left:5px}.profile-header[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2;margin:0!important;padding:0!important}  .time.mdc-dialog .mdc-dialog__content{padding:0}  .mat-mdc-dialog-content{max-height:100vh!important}.profile-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{cursor:pointer}[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px;height:6px;background-color:#fff;border-radius:20px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#00baf2;border-radius:20px}.action-button[_ngcontent-%COMP%]{position:sticky;padding:5px 21px;margin:0 10px 10px 0;float:left;border-radius:0;font-family:Poppins,sans-serif;font-size:14px;color:#fff;text-decoration:none}.green[_ngcontent-%COMP%]{background-color:#2ca350;border-bottom:5px solid #2980B9;text-shadow:0px -2px #298d2a;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}input[type=number][_ngcontent-%COMP%]::-webkit-inner-spin-button, input[type=number][_ngcontent-%COMP%]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}dialog-actions-align-end[_ngcontent-%COMP%], .mat-mdc-dialog-actions[align=end][_ngcontent-%COMP%]{justify-content:flex-end;height:52px}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  .mat-datepicker-content .mat-calendar{width:268px!important;height:325px!important}"],data:{animation:[(0,N.X$)("detailExpand",[(0,N.SB)("collapsed",(0,N.oB)({height:"0px",minHeight:"0"})),(0,N.SB)("expanded",(0,N.oB)({height:"*"})),(0,N.eR)("expanded <=> collapsed",(0,N.jt)("225ms cubic-bezier(0.4, 0.0, 0.2, 1)"))])]}})}return i})();const Vn=["class","app-component"];function ei(i,s){1&i&&(e.TgZ(0,"div",43),e._UZ(1,"div",44),e.qZA())}function ti(i,s){if(1&i&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function oi(i,s){if(1&i&&(e.TgZ(0,"mat-option",45),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.groupId),e.xp6(1),e.hij(" ",t.name," ")}}function ni(i,s){1&i&&(e.TgZ(0,"th",46),e._uU(1," Id "),e.qZA())}function ii(i,s){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.timesheetId," ")}}function ai(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," Approvers "),e.qZA())}function si(i,s){1&i&&(e.TgZ(0,"mat-icon",54),e._uU(1,"alarm"),e.qZA())}function ri(i,s){1&i&&(e.TgZ(0,"mat-icon",55),e._uU(1,"done"),e.qZA())}function li(i,s){1&i&&(e.TgZ(0,"mat-icon",56),e._uU(1,"clear"),e.qZA())}function ci(i,s){if(1&i&&(e.ynx(0),e._uU(1),e.YNc(2,si,2,0,"mat-icon",51),e.YNc(3,ri,2,0,"mat-icon",52),e.YNc(4,li,2,0,"mat-icon",53),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.user.firstName+" "+t.user.lastName+" "," "),e.xp6(1),e.Q6J("ngIf",1==t.status),e.xp6(1),e.Q6J("ngIf",2==t.status),e.xp6(1),e.Q6J("ngIf",3==t.status)}}function di(i,s){if(1&i&&(e.TgZ(0,"td",49),e.YNc(1,ci,5,4,"ng-container",50),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngForOf",t.timesheetApprovers)}}function pi(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," Type "),e.qZA())}function mi(i,s){1&i&&(e.ynx(0),e._uU(1,"Hourly"),e.BQk())}function hi(i,s){1&i&&(e.ynx(0),e._uU(1,"Fixed"),e.BQk())}function gi(i,s){if(1&i&&(e.TgZ(0,"td",57),e.YNc(1,mi,2,0,"ng-container",58),e.YNc(2,hi,2,0,"ng-container",58),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1===t.type),e.xp6(1),e.Q6J("ngIf",2===t.type)}}function ui(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," Period "),e.qZA())}function fi(i,s){if(1&i&&(e.TgZ(0,"td",57),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.weekStartDate,"MMM d, y")," - ",e.xi3(3,5,t.weekEndDate,"MMM d, y")," ")}}function _i(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," Status "),e.qZA())}function xi(i,s){if(1&i&&(e.TgZ(0,"td",59),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",o.getStatusText(t.status)," ")}}function bi(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," View "),e.qZA())}function Ci(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-icon",60),e.NdJ("click",function(){e.CHM(t);const n=e.oxw().$implicit,a=e.oxw();return e.KtG(a.viewTimeSheet(n))}),e._uU(2,"visibility"),e.qZA(),e.BQk()}}function yi(i,s){if(1&i&&(e.TgZ(0,"td",49),e.YNc(1,Ci,3,0,"ng-container",58),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.isCurrentApprover)}}function vi(i,s){1&i&&(e.TgZ(0,"th",48),e._uU(1," Total "),e.qZA())}function Ti(i,s){if(1&i&&(e.TgZ(0,"td",49),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subTotal,"EUR")," ")}}function wi(i,s){1&i&&e._UZ(0,"tr",61)}function ki(i,s){if(1&i&&e._UZ(0,"tr",62),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Si=function(){return[20,40,60]};let Oi=(()=>{class i{constructor(t,o,n,a,r,l,p){this.dialog=t,this._liveAnnouncer=o,this.changeDetectorRefs=n,this.http=a,this._snackBar=r,this.dataservice=l,this.Headercds=p,this.statusApproverObject={},this.loggedInUser={},this.Organizations=[],this.OrganizationUnit=[],this.employees=[],this.displayedColumns=["id","Detail","Type","Period","SubTotal","Status","Action"],this.dataSource=new c.by(this.employees),this.selection=new k.Ov(!0,[]),this.isToolbarOpen=!1,this.isEdit=!1,this.deleteRecordSave=[],this.viewTimeSheetArray=[],this.horizontalPosition="right",this.verticalPosition="bottom",this.loading=!1,this.sort=new T.YE,this.checkApprove=!1,this.doneIconIds=[],this.elements=[{status:"Pending For Client Approval",checkApprove:!1}],this.durationInSeconds=3,this.results={},this.selectedRow={},this.selections=new k.Ov(!0,[])}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(o=>{this.loggedInUser=o,this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).pipe((0,f.K)(n=>(n.status>=400&&n.status<500?(this.openSnackBar("Client error occurred:  "+n.status,!1),this.loading=!1):n.status>=500?(this.openSnackBar("Server error occurred: "+n.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+n.status,!1),this.loading=!1),(0,_._)(n)))).subscribe(n=>{this.loading=!1,console.log(n),this.loading=!1,console.log(this.loggedInUser),n.forEach(a=>{this.loggedInUser.user_organizations.find(l=>l==a.Name)&&(console.log(a),this.Organizations.push(a))}),console.log(this.Organizations),this.dataservice.organization=this.Organizations[0].OrganizationId,this.getOrgUnit(),console.log(this.dataservice.organization)})})}getOrgUnit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log(this.selectedOption),this.http.get("https://api.samotplatform.com/groups/organization/"+this.dataservice.organization,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.OrganizationUnit=[],console.log(o),this.loading=!1,o.forEach(n=>{this.loggedInUser.user_groups.find(r=>r==n.name)&&(console.log(n),this.OrganizationUnit.push(n))}),this.OrganizationUnit.length>0||(this.dataservice.selectedOrganizationUnit=null),this.getTimeSheet()})}getTimeSheet(){this.loading=!0,console.log(this.selectOrgUnit);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.dataservice.selectedOrganizationUnit?this.http.get("https://api.samotplatform.com/Timesheets/organizationunit/"+this.dataservice.selectedOrganizationUnit,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),o.forEach(n=>{n.timesheetApprovers.length>1&&n.timesheetApprovers.sort((a,r)=>a.approverOrder-r.approverOrder),console.log(n),n.timesheetApprovers.length>0&&null!=n.currentApproverOrder&&this.loggedInUser.user_roles.forEach(a=>{if("Approver"==a){var r=n.timesheetApprovers.find(l=>l.approverOrder==n.currentApproverOrder);null!=r&&(this.isEdit=!0,r.user.email===this.loggedInUser.email&&1===r.status&&1===n.status&&(n.isCurrentApprover=!0,console.log(r.user.email,n.timesheetId)))}})}),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,console.log(this.employees)}):this.http.get("https://api.samotplatform.com/organization/timesheets/"+this.dataservice.organization,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.loading=!1,console.log(o),o.forEach(n=>{n.timesheetApprovers.length>1&&n.timesheetApprovers.sort((a,r)=>a.approverOrder-r.approverOrder),console.log(n),n.timesheetApprovers.length>0&&null!=n.currentApproverOrder&&this.loggedInUser.user_roles.forEach(a=>{if("Approver"==a){var r=n.timesheetApprovers.find(l=>l.approverOrder==n.currentApproverOrder);null!=r&&(this.isEdit=!0,r.user.email===this.loggedInUser.email&&1===r.status&&1===n.status&&(n.isCurrentApprover=!0,console.log(r.user.email,n.timesheetId)))}})}),this.employees=o,this.dataSource=new c.by(this.employees),this.dataSource.paginator=this.paginator,console.log(this.employees)})}getStatusText(t){switch(t){case 1:return"Pending";case 2:return"Pending For Admin Approval";case 3:return"DisApproved";case 4:return"Completed";case 5:return"Admin DisApproved";default:return"Unknown"}}handlePage(t){}handleCheckboxChange(t){this.changeDetectorRefs.detectChanges(),this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected:void 0,console.log("Selected:",this.selectedRow),this.delId=this.selectedRow.id,console.log("Selected:",this.delId)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.dataSource.data.forEach(t=>this.selection.select(t))}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}updateTimesheet(){const t=new m.vA;t.data=this.selectedRow,t.data.isEdit=!0,console.log(t.data),t.width="1800px",this.dialog.open(re,t).afterClosed().subscribe(n=>{if(t.data.isEdit=!1,n&&n.emp){const a=this.employees.findIndex(r=>r.timesheetId==n.emp.timesheetId);-1!==a&&(this.employees[a]=n.emp,this.dataSource.data=this.employees,console.log(this.employees),this.selection.clear(),this.selections.clear(),this.openToolbar())}})}viewTimeSheet(t){this.viewTimeSheetArray.push(t),console.log("Click on view Button:",this.viewTimeSheetArray);const o=new m.vA;o.data=this.viewTimeSheetArray,this.viewTimeSheetArray=[],o.data.isEdit=!0,console.log(o.data),o.width="1800px",this.dialog.open(re,o).afterClosed().subscribe(a=>{if(o.data.isEdit=!1,a&&a.emp){const r=this.employees.findIndex(l=>l.timesheetId==a.emp.timesheetId);-1!==r&&(this.employees[r]=a.emp,this.dataSource.data=this.employees,console.log(this.employees),this.selection.clear(),this.selections.clear(),this.openToolbar())}})}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(M.Kd),e.Y36(e.sBO),e.Y36(v.eN),e.Y36(O.ux),e.Y36(U),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["",8,"app-component"]],viewQuery:function(o,n){if(1&o&&e.Gf(w.NW,5),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first)}},attrs:Vn,decls:62,vars:12,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],["id","setinput",1,"row"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px","display","flex"],[2,"padding-right","13px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["id","toolDelete",1,"tool-bar-delete"],["id","setColorPlaceHolder",1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","id"],["class","head-id","mat-header-cell","","style","padding-left: 20px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 20px;",4,"matCellDef"],["matColumnDef","Detail"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id","style","cursor: pointer",4,"matCellDef"],["matColumnDef","Type"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Period"],["matColumnDef","Status"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","Action"],["matColumnDef","SubTotal"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"head-id",2,"padding-left","20px"],["mat-cell","",2,"padding-left","20px"],["mat-header-cell","",1,"head-id"],["mat-cell","",1,"app-id",2,"cursor","pointer"],[4,"ngFor","ngForOf"],["style","margin-bottom: -7px",4,"ngIf"],["style","color: green; margin-bottom: -7px",4,"ngIf"],["style","margin-bottom: -7px; color: red",4,"ngIf"],[2,"margin-bottom","-7px"],[2,"color","green","margin-bottom","-7px"],[2,"margin-bottom","-7px","color","red"],["mat-cell",""],[4,"ngIf"],["mat-cell","",1,"app-id"],[3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,ei,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),e._uU(9,"TimeSheet"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"form",11)(13,"mat-form-field",12)(14,"mat-label",13),e._uU(15,"Organization"),e.qZA(),e.TgZ(16,"mat-select",14),e.NdJ("ngModelChange",function(r){return n.dataservice.organization=r})("selectionChange",function(){return n.getOrgUnit()}),e.YNc(17,ti,2,2,"mat-option",15),e.qZA()()()(),e.TgZ(18,"div")(19,"form",11)(20,"mat-form-field",12)(21,"mat-label",13),e._uU(22,"OrgUnit"),e.qZA(),e.TgZ(23,"mat-select",14),e.NdJ("ngModelChange",function(r){return n.dataservice.selectedOrganizationUnit=r})("selectionChange",function(){return n.getTimeSheet()}),e.YNc(24,oi,2,2,"mat-option",15),e.TgZ(25,"mat-option"),e._uU(26,"None"),e.qZA()()()()()(),e.TgZ(27,"mat-toolbar",16)(28,"div",17)(29,"div",18),e._uU(30),e.qZA(),e.TgZ(31,"div",19),e._UZ(32,"div",20)(33,"div",21),e.qZA()()()(),e.TgZ(34,"div",22)(35,"div",23)(36,"div",24)(37,"table",25),e.ynx(38,26),e.YNc(39,ni,2,0,"th",27),e.YNc(40,ii,2,1,"td",28),e.BQk(),e.ynx(41,29),e.YNc(42,ai,2,0,"th",30),e.YNc(43,di,2,1,"td",31),e.BQk(),e.ynx(44,32),e.YNc(45,pi,2,0,"th",33),e.YNc(46,gi,3,2,"td",34),e.BQk(),e.ynx(47,35),e.YNc(48,ui,2,0,"th",33),e.YNc(49,fi,4,8,"td",34),e.BQk(),e.ynx(50,36),e.YNc(51,_i,2,0,"th",30),e.YNc(52,xi,3,1,"td",37),e.BQk(),e.ynx(53,38),e.YNc(54,bi,2,0,"th",33),e.YNc(55,yi,2,1,"td",31),e.BQk(),e.ynx(56,39),e.YNc(57,vi,2,0,"th",30),e.YNc(58,Ti,3,4,"td",31),e.BQk(),e.YNc(59,wi,1,0,"tr",40),e.YNc(60,ki,1,2,"tr",41),e.qZA(),e._UZ(61,"mat-paginator",42),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(15),e.Q6J("ngModel",n.dataservice.organization),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(6),e.Q6J("ngModel",n.dataservice.selectedOrganizationUnit),e.xp6(1),e.Q6J("ngForOf",n.OrganizationUnit),e.xp6(6),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(5),e.Q6J("dataSource",n.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(11,Si)))},dependencies:[u.sg,u.O5,x.KE,x.hX,R.Ye,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW,D.Hw,u.H9,u.uU],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}  #setColorPlaceHolder .mat-mdc-select-placeholder{transition:color .4s .1333333333333s cubic-bezier(.25,.8,.25,1);color:#000}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff!important}  .success-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:green!important}  .success-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__surface{border-radius:5px!important;background-color:#fff}  .error-snackbar.mat-mdc-snack-bar-container .mdc-snackbar__label{color:red!important}  .error-snackbar.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){color:#000!important}"]})}return i})();function Ai(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Department Name is "),e.TgZ(2,"strong"),e._uU(3,"required"),e.qZA()())}function Zi(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Department Name should be at least 5 characters long "),e.qZA())}function Mi(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1," Department Name should be no more than 15 characters long "),e.qZA())}let le=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this._formBuilder=t,this.dialogRef=o,this._snackBar=n,this.cdr=a,this.routers=r,this.data=l,this.http=p,this.route=h,this.horizontalPosition="right",this.verticalPosition="bottom",this.Department={},this.usernameFormControl=new d.NI("",[d.kI.required,d.kI.minLength(5),d.kI.maxLength(15)]),this.durationInSeconds=1,this.Department={...l},console.log("Upcoming data:",this.data),console.log(this.Department)}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}addOrganization(){if(this.usernameFormControl.markAsTouched(),this.usernameFormControl.invalid)console.log("Enter the Organization name.");else if(this.Department.id){console.log("Hi",this.Department.id);var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.put("https://api.samotplatform.com/Organizations/"+this.Department.id,this.Department,{headers:t}).subscribe(n=>{this.dialogRef.close({org:n}),this.openSnackBar("Organization Updated Successfully"),this.Department={}})}else t={Authorization:"Bearer "+localStorage.getItem("token")},this.http.post("https://api.samotplatform.com/Organizations",this.Department,{headers:t}).subscribe(o=>{console.log(o),this.dialogRef.close({org:o}),this.openSnackBar("Organization Added Successfully"),this.Department={}})}cancelDialog(){this.Department={},this.dialogRef.close()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(d.qu),e.Y36(m.so),e.Y36(O.ux),e.Y36(e.sBO),e.Y36(C.F0),e.Y36(m.WI,8),e.Y36(v.eN),e.Y36(C.F0))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-createdepartment"]],decls:20,vars:7,consts:[["id","dialog"],[1,"create"],[1,"create-text"],[1,"close-icon"],["mat-dialog-close","","src","/assets/close.svg","alt",""],[1,"dialog-cont"],["id","Dform"],["id","input-text"],["type","text","matInput","","placeholder","",3,"ngModel","formControl","ngModelChange"],[4,"ngIf"],["align","end",1,"action"],["mat-stroked-button","","mat-dialog-close","","color","primary",3,"click"],["mat-stroked-button","","color","primary",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"mat-dialog-content",0)(1,"div",1)(2,"div",2),e._uU(3),e.qZA(),e.TgZ(4,"div",3),e._UZ(5,"img",4),e.qZA()(),e.TgZ(6,"div",5)(7,"form",6)(8,"mat-form-field",7)(9,"mat-label"),e._uU(10,"Department Name"),e.qZA(),e.TgZ(11,"input",8),e.NdJ("ngModelChange",function(r){return n.Department.name=r}),e.qZA(),e.YNc(12,Ai,4,0,"mat-error",9),e.YNc(13,Zi,2,0,"mat-error",9),e.YNc(14,Mi,2,0,"mat-error",9),e.qZA()()()(),e.TgZ(15,"mat-dialog-actions",10)(16,"button",11),e.NdJ("click",function(){return n.cancelDialog()}),e._uU(17,"Cancel"),e.qZA(),e.TgZ(18,"button",12),e.NdJ("click",function(){return n.addOrganization()}),e._uU(19),e.qZA()()),2&o&&(e.xp6(3),e.Oqu(n.Department.id?"Update":"Create"),e.xp6(8),e.Q6J("ngModel",n.Department.name)("formControl",n.usernameFormControl),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("required")),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("minlength")),e.xp6(1),e.Q6J("ngIf",n.usernameFormControl.hasError("maxlength")),e.xp6(5),e.Oqu(n.Department.id?"Update":"Create"))},dependencies:[u.O5,I.Nt,x.KE,x.hX,x.TO,m.ZT,m.xY,m.H8,d._Y,d.Fj,d.JJ,d.JL,d.F,d.oH,S.lW],styles:["#dialog[_ngcontent-%COMP%]{height:24vh;overflow-y:hidden}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-text-field__input{font-size:12px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:after{border-bottom:2px solid rgb(39,38,38)}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}.create[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;justify-content:space-between;background-color:#00b2e2!important;margin:0!important;padding:0!important}  .mdc-dialog .mdc-dialog__content{padding:0}.Checkbox[_ngcontent-%COMP%]:active{background-color:#f7941d!important}.create-text[_ngcontent-%COMP%]{color:#fff;font-size:20px;margin-left:16px;font-family:popins,sans-serif}.close-icon[_ngcontent-%COMP%]{width:17px;height:18px;cursor:pointer;margin-right:16px}  .dialog-cont{width:566px!important;margin-left:24px;margin-top:10px;display:flex;flex-direction:column}.input[_ngcontent-%COMP%]{margin-bottom:0}  #Dform .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label{font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:0px!important}  #Dform .mat-mdc-text-field-wrapper:not(.mdc-text-field--outlined) .mat-mdc-form-field-infix{padding-top:18px!important;padding-bottom:6px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background:none!important;width:377px;padding-left:0!important;font-family:Roboto,Helvetica Neue,sans-serif;letter-spacing:.1px!important}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled){height:42px!important;background-color:#fff;width:377px}  #Dform .mdc-text-field--filled:not(.mdc-text-field--disabled):hover{background-color:transparent!important}  #Dform .mdc-text-field--filled.mdc-text-field--invalid:not(.mdc-text-field--disabled) .mdc-line-ripple:before{border-bottom:1px solid rgb(215,211,211)!important}  #Dform .mat-mdc-form-field-hint-wrapper, .mat-mdc-form-field-error-wrapper[_ngcontent-%COMP%]{padding-left:0!important}  #input-text .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}.option[_ngcontent-%COMP%]{font-family:popins,sans-serif;font-weight:100!important}  #Dform .mdc-text-field--filled .mdc-line-ripple:before{border-bottom:1px solid rgb(221,217,217)!important}#Dform[_ngcontent-%COMP%]{height:58px}.action[_ngcontent-%COMP%]{margin-right:0;margin-top:9px}"]})}return i})();var j=g(4630),H=g(4104);function Pi(i,s){1&i&&(e.TgZ(0,"mat-error")(1,"strong"),e._uU(2,"required"),e.qZA()())}function Ii(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",32),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearInput())}),e.TgZ(1,"mat-icon",33),e._uU(2,"clear"),e.qZA()()}}function Di(i,s){if(1&i&&(e.TgZ(0,"mat-option",34),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Ui(i,s){1&i&&(e.TgZ(0,"th",35),e._uU(1," Name "),e.qZA())}function zi(i,s){if(1&i&&(e.TgZ(0,"td",36),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ni(i,s){1&i&&(e.TgZ(0,"th",35),e._uU(1," SetRole "),e.qZA())}function Bi(i,s){if(1&i&&(e.TgZ(0,"td",36)(1,"form",37)(2,"mat-form-field",38)(3,"mat-select",39),e._UZ(4,"mat-option"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.Q6J("formControl",t.NameFormControl)}}function Ri(i,s){1&i&&(e.TgZ(0,"th",35),e._uU(1," Symbol "),e.qZA())}function qi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",36)(1,"mat-icon",40),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewRequest(a,r.i))}),e._uU(2,"delete"),e.qZA()()}}function Yi(i,s){1&i&&e._UZ(0,"tr",41)}function Ei(i,s){1&i&&e._UZ(0,"tr",42)}let Ji=(()=>{class i{constructor(t,o,n,a,r,l,p,h){this.fb=t,this.dialogRef=o,this._snackBar=n,this.router=a,this.data=r,this.http=l,this.route=p,this.cdr=h,this.myControl=new d.NI(""),this.options=[],this.department={},this.employees=[],this.horizontalPosition="right",this.verticalPosition="bottom",this.NameFormControl=new d.NI("",[d.kI.required]),this.displayedColumns=["name","weight","symbol"],this.dataSource=new c.by([]),this.durationInSeconds=1,this.department=r,console.log("Department",this.department),console.log("OrganizationID",this.department.element.organizationId)}openSnackBar(t){this._snackBar.open(t,"Ok",{horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,duration:1e3*this.durationInSeconds})}ngOnInit(){this.getEmployees()}addValue(){let t=this.employees.find(o=>o.firstName+" "+o.lastName===this.value);t?console.log("Found Employee:",t):console.log("Employee not found"),this.value&&-1===this.dataSource.data.findIndex(o=>o.name===this.value)&&(this.dataSource.data.push({name:this.value}),this.dataSource.data=[...this.dataSource.data],console.log(this.dataSource.data),this.openSnackBar(`${this.value}! Added Successfully!`))}clearInput(){console.log(this.value),this.value=""}getEmployees(){var t={Authorization:"Bearer "+localStorage.getItem("token")};console.log("OrganizationID",this.department.element.organizationId),this.http.get("https://api.samotplatform.com/organizationemployees/"+this.department.element.organizationId,{headers:t}).subscribe(o=>{console.log(o),this.employees=o,this.options=this.employees.map(n=>n.firstName+" "+n.lastName),this.filteredOptions=this.myControl.valueChanges.pipe((0,K.O)(""),(0,W.U)(n=>this._filter(n||""))),console.log(this.employees)})}_filter(t){const o=t.toLowerCase();return this.options.filter(n=>n.toLowerCase().includes(o))}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(d.qu),e.Y36(m.so),e.Y36(O.ux),e.Y36(C.F0),e.Y36(m.WI,8),e.Y36(v.eN),e.Y36(C.F0),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-configdepartment"]],decls:47,vars:11,consts:[[1,"create"],[1,"create-text",2,"padding-left","10px"],[1,"close-icon",2,"text-align","right","padding-right","10px"],["mat-dialog-close","",1,"material-icons"],[1,"setTabs"],[1,"selectdepart"],["id","depart-drop"],[1,"role-set"],["matInput","",1,"value",3,"formControl"],[4,"ngIf"],[1,"Tabs"],["label","Users"],[1,"search",2,"margin-top","5px","margin-left","5px"],["id","filter",1,"example-form"],[1,"example-full-width"],["type","text","placeholder","Select Employees","aria-label","Number","matInput","",3,"ngModel","matAutocomplete","ngModelChange","focus"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["id","setOverflows",1,"setOverflow"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","weight"],["matColumnDef","symbol"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["label","Employees"],["align","end",1,"action"],["mat-stroked-button","","mat-dialog-close","","color","primary"],["mat-stroked-button","","color","primary"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"material-icons"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["id","depart-drop",2,"margin-bottom","0px"],[2,"height","40px"],["disableRipple","","placeholder","Select Role",3,"formControl"],[1,"material-icons",2,"color","red","cursor","pointer",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(o,n){if(1&o&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Config"),e.qZA()(),e.TgZ(4,"div",2)(5,"mat-icon",3),e._uU(6,"clear"),e.qZA()()(),e.TgZ(7,"div",4)(8,"div",5)(9,"form",6)(10,"mat-form-field")(11,"mat-label",7),e._uU(12,"Department Name"),e.qZA(),e._UZ(13,"input",8),e.YNc(14,Pi,3,0,"mat-error",9),e.qZA()()(),e.TgZ(15,"div",10)(16,"mat-tab-group")(17,"mat-tab",11)(18,"div",12)(19,"form",13)(20,"mat-form-field",14)(21,"input",15),e.NdJ("ngModelChange",function(r){return n.value=r})("focus",function(){return n.addValue()}),e.qZA(),e.YNc(22,Ii,3,0,"button",16),e.TgZ(23,"mat-autocomplete",null,17),e.YNc(25,Di,2,2,"mat-option",18),e.ALo(26,"async"),e.qZA()()()(),e.TgZ(27,"div",19)(28,"table",20),e.ynx(29,21),e.YNc(30,Ui,2,0,"th",22),e.YNc(31,zi,2,1,"td",23),e.BQk(),e.ynx(32,24),e.YNc(33,Ni,2,0,"th",22),e.YNc(34,Bi,5,1,"td",23),e.BQk(),e.ynx(35,25),e.YNc(36,Ri,2,0,"th",22),e.YNc(37,qi,3,0,"td",23),e.BQk(),e.YNc(38,Yi,1,0,"tr",26),e.YNc(39,Ei,1,0,"tr",27),e.qZA()()(),e.TgZ(40,"mat-tab",28),e._UZ(41,"div"),e.qZA()()()(),e.TgZ(42,"mat-dialog-actions",29)(43,"button",30),e._uU(44,"Cancel"),e.qZA(),e.TgZ(45,"button",31),e._uU(46," Create"),e.qZA()()),2&o){const a=e.MAs(24);e.xp6(13),e.Q6J("formControl",n.NameFormControl),e.xp6(1),e.Q6J("ngIf",n.NameFormControl.hasError("required")),e.xp6(7),e.Q6J("ngModel",n.value)("matAutocomplete",a),e.xp6(1),e.Q6J("ngIf",n.value),e.xp6(3),e.Q6J("ngForOf",e.lcZ(26,9,n.filteredOptions)),e.xp6(3),e.Q6J("dataSource",n.dataSource),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns)}},dependencies:[u.sg,u.O5,I.Nt,x.KE,x.hX,x.TO,x.R9,Z.gD,P.ey,m.ZT,m.H8,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.Fj,d.JJ,d.JL,d.On,d.F,d.oH,j.XC,j.ZL,S.lW,S.RK,H.uX,H.SP,D.Hw,u.Ov],styles:[".create[_ngcontent-%COMP%]{align-items:center;display:flex;width:100%;height:64px;color:#fff;justify-content:space-between;background-color:#00b2e2!important;margin:0!important;padding:0!important}.setTabs[_ngcontent-%COMP%]{height:77%}  #depart-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;padding-left:3px;width:170px;height:45px;margin-left:5px;background-color:#fff}  #depart-drop .mat-mdc-select-value-text{white-space:nowrap;overflow:hidden;font-size:13px;text-overflow:ellipsis}  #depart-drop .mat-mdc-form-field-focus-overlay{background-color:#fff}  #depart-drop .mat-mdc-select-trigger{display:inline-flex;align-items:center;cursor:pointer;position:relative;box-sizing:border-box;width:100%;font-size:14px}  #depart-drop .mat-mdc-form-field:not(.mat-form-field-disabled) .mat-mdc-floating-label.mdc-floating-label{cursor:inherit;padding-top:0;font-size:14px}  #depart-drop .mat-mdc-select-arrow svg{fill:currentColor;position:absolute;top:78%;left:196%;transform:translate(-50%,-50%)}  #filter .mat-mdc-form-field-focus-overlay{background-color:#fff}  #filter .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;box-shadow:5px 5px 5px #0000001a;width:161%;margin-left:8px}.example-form[_ngcontent-%COMP%]{min-width:150px;max-width:500px;width:100%}.example-full-width[_ngcontent-%COMP%]{width:100%}  .cdk-overlay-pane:not(.mat-mdc-autocomplete-panel-above) div.mat-mdc-autocomplete-panel{border-top-left-radius:0;border-top-right-radius:0;max-height:170px!important;height:-moz-fit-content;height:fit-content} ::-webkit-scrollbar{width:6px;height:6px;background-color:#fff} ::-webkit-scrollbar-thumb{background-color:#00baf2}table[_ngcontent-%COMP%]{width:100%}  #filter .mdc-text-field--no-label:not(.mdc-text-field--textarea) .mat-mdc-form-field-input-control.mdc-text-field__input, .mat-mdc-text-field-wrapper[_ngcontent-%COMP%]   .mat-mdc-form-field-input-control[_ngcontent-%COMP%]{height:auto;font-size:14px}.setOverflow[_ngcontent-%COMP%]{height:214px;margin-top:-27px}  #setOverflows .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}.selectdepart[_ngcontent-%COMP%]{margin-left:21px}  #depart-drop .mdc-text-field--filled:not(.mdc-text-field--disabled){background-color:#fff;padding-left:0;height:45px;font-size:13px}  #depart-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0px}"]})}return i})();function Fi(i,s){1&i&&(e.TgZ(0,"div",42),e._UZ(1,"div",43),e.qZA())}function Qi(i,s){if(1&i&&(e.TgZ(0,"mat-option",44),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function ji(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"th",45)(1,"mat-checkbox",46),e.NdJ("change",function(n){e.CHM(t);const a=e.oxw();return e.KtG(n?a.toggleAllRows():null)})("change",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.openToolbar())}),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.ekj("white-background",!t.isAllSelected()),e.Q6J("checked",t.selection.hasValue()&&t.isAllSelected())("indeterminate",t.selection.hasValue()&&!t.isAllSelected())("aria-label",t.checkboxLabel())}}function Hi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",47)(1,"mat-checkbox",48),e.NdJ("click",function(n){return n.stopPropagation()})("change",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.handleCheckboxChange(a))})("change",function(n){const r=e.CHM(t).$implicit,l=e.oxw();return n&&l.selection.toggle(r),e.KtG(l.openToolbar())}),e.qZA()()}if(2&i){const t=s.$implicit,o=e.oxw();e.xp6(1),e.Q6J("checked",o.selection.isSelected(t))("aria-label",o.checkboxLabel(t))}}function Li(i,s){1&i&&(e.TgZ(0,"th",49),e._uU(1," Id "),e.qZA())}function $i(i,s){if(1&i&&(e.TgZ(0,"td",47),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.id," ")}}function Gi(i,s){1&i&&(e.TgZ(0,"th",50),e._uU(1," Name "),e.qZA())}function Ki(i,s){if(1&i&&(e.TgZ(0,"td",51),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Wi(i,s){1&i&&(e.TgZ(0,"th",50),e._uU(1," Config "),e.qZA())}function Xi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",52)(1,"mat-icon",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.viewRequest(a,r.i))}),e._uU(2,"settings"),e.qZA()()}}function Vi(i,s){1&i&&e._UZ(0,"tr",54)}function ea(i,s){if(1&i&&e._UZ(0,"tr",55),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const ta=function(){return[10,20,50]};let oa=(()=>{class i{constructor(t,o,n,a){this.dialog=t,this._liveAnnouncer=o,this.http=n,this.Headercds=a,this.users=[],this.Organizations=[],this.displayedColumns=["select","id","name","config"],this.dataSource=new c.by(this.users),this.selection=new k.Ov(!0,[]),this.loading=!1,this.isToolbarOpen=!1,this.selectedRow={},this.selections=new k.Ov(!0,[]),this.sort=new T.YE}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://api.samotplatform.com/userOrganizations",{headers:t}).subscribe(o=>{this.Organizations=o,this.dataSource.paginator=this.paginator,this.paginator.pageSize=this.selectedOption,this.dataSource.data=na,this.selectedOption=this.Organizations[0].id,console.log(this.selectedOption),this.loading=!1})}onOrganizationChange(){console.log(this.selectedOption)}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}editDepartment(){this.Headercds.detectChanges();const t=new m.vA;t.data=this.selectedRow,this.selectedRow.isEdit=!0,t.width="921px",t.height="222px",this.dialog.open(le,t),this.Headercds.detectChanges()}delDepartment(){}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}createDepartment(){this.dialog.open(le,{height:"222px",width:"921px"})}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}delEmployees(){}editEmployee(){}viewRequest(t,o){t.organizationId=this.selectedOption,console.log("Clicked on View button for element:",t),this.dialog.open(Ji,{data:{element:t},width:"60%",height:"80%"})}checkboxLabel(t){return t?`${this.selection.isSelected(t)?"deselect":"select"} row ${t.id+1}`:(this.isAllSelected()?"deselect":"select")+" all"}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(m.uw),e.Y36(M.Kd),e.Y36(v.eN),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-department"]],viewQuery:function(o,n){if(1&o&&(e.Gf(w.NW,5),e.Gf(T.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:48,vars:11,consts:[[1,"main-content",2,"margin-top","6px"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"create"],["src","/assets/img/faces/add_library_icon.png",3,"click"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],["id","toolBar",1,"tool-bar"],[1,"tool-bar-block"],[1,"tool-bar-num"],[1,"tool-bar-options"],["id","tool-bar-edit"],["src","/assets/img/faces/edit.svg",3,"click"],["id","toolDelete",1,"tool-bar-delete"],["src","/assets/img/faces/delete.svg","alt","",3,"click"],[2,"float","right","padding","0px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","","matSort","",1,"table","table-hover",3,"dataSource","matSortChange"],["matColumnDef","select"],["class","checkbox","mat-header-cell","","class","checkbox-header",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","id"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","","class","name-header",4,"matHeaderCellDef"],["mat-cell","","class","name-header",4,"matCellDef"],["matColumnDef","config"],["mat-cell","","class","name-header","style","cursor: pointer;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions","pageSize"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"checkbox-header"],[3,"checked","indeterminate","aria-label","change"],["mat-cell",""],[3,"checked","aria-label","click","change"],["mat-header-cell",""],["mat-header-cell","","mat-sort-header","",1,"name-header"],["mat-cell","",1,"name-header"],["mat-cell","",1,"name-header",2,"cursor","pointer"],[1,"material-icons",3,"click"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,Fi,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"img",6),e.NdJ("click",function(){return n.createDepartment()}),e.qZA()()(),e.TgZ(8,"div",7)(9,"div",8)(10,"div",9)(11,"h4",10),e._uU(12,"Departments"),e.qZA(),e.TgZ(13,"mat-toolbar",11)(14,"div",12)(15,"div",13),e._uU(16),e.qZA(),e.TgZ(17,"div",14)(18,"div",15)(19,"img",16),e.NdJ("click",function(){return n.editDepartment()}),e.qZA()(),e.TgZ(20,"div",17)(21,"img",18),e.NdJ("click",function(){return n.delDepartment()}),e.qZA()()()()()(),e.TgZ(22,"div",19)(23,"form",20)(24,"mat-form-field",21)(25,"mat-label",22),e._uU(26,"Organization"),e.qZA(),e.TgZ(27,"mat-select",23),e.NdJ("ngModelChange",function(r){return n.selectedOption=r})("selectionChange",function(){return n.onOrganizationChange()}),e.YNc(28,Qi,2,2,"mat-option",24),e.qZA()()()()(),e.TgZ(29,"div",25)(30,"div",26)(31,"div",27)(32,"table",28),e.NdJ("matSortChange",function(r){return n.announceSortChange(r)}),e.ynx(33,29),e.YNc(34,ji,2,5,"th",30),e.YNc(35,Hi,2,2,"td",31),e.BQk(),e.ynx(36,32),e.YNc(37,Li,2,0,"th",33),e.YNc(38,$i,2,1,"td",31),e.BQk(),e.ynx(39,34),e.YNc(40,Gi,2,0,"th",35),e.YNc(41,Ki,2,1,"td",36),e.BQk(),e.ynx(42,37),e.YNc(43,Wi,2,0,"th",35),e.YNc(44,Xi,3,0,"td",38),e.BQk(),e.YNc(45,Vi,1,0,"tr",39),e.YNc(46,ea,1,2,"tr",40),e.qZA(),e._UZ(47,"mat-paginator",41),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(15),e.hij(" ",n.selection.selected.length," "),e.xp6(2),e.uIk("attribute-you-are-targeting",!0),e.xp6(9),e.Q6J("ngModel",n.selectedOption),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(4),e.Q6J("dataSource",n.dataSource),e.xp6(13),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(10,ta))("pageSize",n.selectedOption))},dependencies:[z.oG,u.sg,u.O5,x.KE,x.hX,T.YE,T.nU,R.Ye,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW,D.Hw],styles:['.table-hover2.mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600;font-family:popins,sans-serif}.head[_ngcontent-%COMP%], .td[_ngcontent-%COMP%]{padding-left:30px}.create[_ngcontent-%COMP%]{display:flex;justify-content:end;height:64px;align-items:center;padding-top:42px}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.mat-elevation-z8[_ngcontent-%COMP%]{box-shadow:none}.organization-nav[_ngcontent-%COMP%]{display:flex;justify-content:space-between;height:64px}.organization-text[_ngcontent-%COMP%]{color:#f7941d;font-family:" Poppins",sans-serif;letter-spacing:.1px;font-size:20px;margin-top:20px;margin-left:24px;height:23px;width:209px}  .organization-search{margin-right:24px;margin-top:12px;width:257px;height:40px;display:flex}.search-icon[_ngcontent-%COMP%]{margin-left:13px;width:40px;height:40px;font-weight:600;font-size:21px;border-radius:100%}dc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0}.mat-mdc-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   tfoot[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%], .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding-right:0;background:inherit}.name-head[_ngcontent-%COMP%]{letter-spacing:0px;padding-left:43px}.name-cont[_ngcontent-%COMP%]{padding-left:43px;font-weight:400;letter-spacing:0px}.checkbox-header[_ngcontent-%COMP%]{width:55px}.name-header[_ngcontent-%COMP%]{padding-left:200px;width:700px}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}  .mat-mdc-cell, .mat-mdc-footer-cell[_ngcontent-%COMP%], .mat-mdc-header-row[_ngcontent-%COMP%], .mat-mdc-row[_ngcontent-%COMP%], .mat-mdc-footer-row[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{background:inherit}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:600!important;font-family:popins,sans-serif}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return i})();const na=[{id:"1",name:"AsianSoul",config:""},{id:"2",name:"AlyHamza",config:""}];var ia=g(3999);function aa(i,s){1&i&&(e.TgZ(0,"div",39),e._UZ(1,"div",40),e.qZA())}function sa(i,s){if(1&i&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.OrganizationId),e.xp6(1),e.hij(" ",t.Name," ")}}function ra(i,s){if(1&i&&(e.TgZ(0,"mat-option",41),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.groupId),e.xp6(1),e.hij(" ",t.name," ")}}function la(i,s){1&i&&(e.TgZ(0,"th",42),e._uU(1," Id "),e.qZA())}function ca(i,s){if(1&i&&(e.TgZ(0,"td",43),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.timesheetId," ")}}function da(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," Type "),e.qZA())}function pa(i,s){1&i&&(e.ynx(0),e._uU(1,"Hourly"),e.BQk())}function ma(i,s){1&i&&(e.ynx(0),e._uU(1,"Fixed"),e.BQk())}function ha(i,s){if(1&i&&(e.TgZ(0,"td",45),e.YNc(1,pa,2,0,"ng-container",46),e.YNc(2,ma,2,0,"ng-container",46),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",1===t.type),e.xp6(1),e.Q6J("ngIf",2===t.type)}}function ga(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," Period "),e.qZA())}function ua(i,s){if(1&i&&(e.TgZ(0,"td",45),e._uU(1),e.ALo(2,"date"),e.ALo(3,"date"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.AsE(" ",e.xi3(2,2,t.weekStartDate,"MMM d, y")," - ",e.xi3(3,5,t.weekEndDate,"MMM d, y")," ")}}function fa(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," Status "),e.qZA())}function _a(i,s){if(1&i&&(e.TgZ(0,"td",47),e.ynx(1),e._uU(2),e.BQk(),e.qZA()),2&i){const t=s.$implicit,o=e.oxw();e.xp6(2),e.hij(" ",o.getStatusText(t.status)," ")}}function xa(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," Total "),e.qZA())}function ba(i,s){if(1&i&&(e.TgZ(0,"td",48),e._uU(1),e.ALo(2,"currency"),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",e.xi3(2,1,t.subTotal,"EUR")," ")}}function Ca(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," AuditLog "),e.qZA())}function ya(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",49)(1,"mat-icon",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.openForm(a))}),e._uU(2,"assignment"),e.qZA()()}}function va(i,s){1&i&&(e.TgZ(0,"th",44),e._uU(1," Workflow Evidence "),e.qZA())}function Ta(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",51)(1,"mat-icon",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.downloadReport(a.timesheetId))}),e._uU(2,"save_alt"),e.qZA()()}}function wa(i,s){1&i&&e._UZ(0,"tr",52)}function ka(i,s){if(1&i&&e._UZ(0,"tr",53),2&i){const t=s.$implicit,o=e.oxw();e.ekj("selected-row",o.selection.isSelected(t))}}const Sa=function(){return[10,20,50]},Aa=[{path:"",component:be,children:[{path:"dashboard",component:Ce},{path:"employee",component:Ge},{path:"organization",component:dt},{path:"payroll",component:Et},{path:"timeSheet",component:Oi},{path:"auditlog",component:(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}constructor(t,o,n,a,r,l){this._liveAnnouncer=t,this.dataService=o,this._snackBar=n,this.dialog=a,this.http=r,this.Headercds=l,this.Organizations=[],this.OrganizationUnit=[],this.displayedColumns=["id","Type","Period","SubTotal","Status","view","download"],this.timeSheets=[],this.dataSource=new c.by(this.timeSheets),this.selection=new k.Ov(!0,[]),this.horizontalPosition="right",this.verticalPosition="bottom",this.durationInSeconds=2,this.baseUrl="https://api.samotplatform.com/",this.results={},this.isToolbarOpen=!1,this.loading=!1,this.selected="option1",this.sort=new T.YE,this.selectedRow={},this.selections=new k.Ov(!0,[])}openSnackBar(t,o){this._snackBar.open(t,"\u2718",{duration:1e3*this.durationInSeconds,horizontalPosition:this.horizontalPosition,verticalPosition:this.verticalPosition,panelClass:o?["success-snackbar"]:["error-snackbar"]})}ngOnInit(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get("https://dgr.sso.id/myorganizations",{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{0!==o.length?(console.log(o),this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(n=>{this.loading=!1,o.forEach(a=>{n.user_organizations.find(l=>l==a.Name)&&(console.log(a),this.Organizations.push(a))}),console.log(this.Organizations),this.dataService.organization=this.Organizations[0].OrganizationId,this.getOrgUnit(),this.getTimeSheet()})):this.loading=!1})}getOrgUnit(){var t={Authorization:"Bearer "+localStorage.getItem("token")};this.http.get(this.baseUrl+"groups/organization/"+this.dataService.organization,{headers:t}).subscribe(o=>{this.OrganizationUnit=[],this.http.get("https://dgr.sso.id/oauth2/me",{headers:t}).subscribe(n=>{o.forEach(a=>{n.user_groups.find(l=>l==a.name)&&(console.log(a),this.OrganizationUnit.push(a))}),this.getTimeSheet(),console.log(this.OrganizationUnit),this.OrganizationUnit.length>0||(this.dataService.selectedOrganizationUnit=null)})})}getTimeSheet(){this.loading=!0;var t={Authorization:"Bearer "+localStorage.getItem("token")};this.dataService.selectedOrganizationUnit||this.http.get("https://api.samotplatform.com/organization/timesheets/"+this.dataService.organization,{headers:t}).pipe((0,f.K)(o=>(o.status>=400&&o.status<500?(this.openSnackBar("Client error occurred:  "+o.status,!1),this.loading=!1):o.status>=500?(this.openSnackBar("Server error occurred: "+o.status,!1),this.loading=!1):(this.openSnackBar("An error occurred: "+o.status,!1),this.loading=!1),(0,_._)(o)))).subscribe(o=>{this.dataSource.data=[],this.timeSheets=[],this.loading=!1,console.log(o),null!=o&&(o.forEach(n=>{4==n.status&&this.timeSheets.push(n)}),this.dataSource=new c.by(this.timeSheets),this.dataSource.paginator=this.paginator,console.log(this.timeSheets))}),this.http.get("https://api.samotplatform.com/Timesheets/organizationunit/"+this.dataService.selectedOrganizationUnit,{headers:t}).subscribe(o=>{0!==o.length?(this.dataSource.data=[],this.timeSheets=[],this.loading=!1,console.log(o),null!=o&&(o.forEach(n=>{4==n.status&&this.timeSheets.push(n)}),this.dataSource=new c.by(this.timeSheets),this.dataSource.paginator=this.paginator,console.log(this.timeSheets))):this.loading=!1})}getStatusColorClass(t){switch(t){case 1:return"";case 2:return"approved";case 3:return"rejected";default:return"unknown"}}downloadReport(t){this.dataService.selectedOrganizationUnit?window.open("https://api.samotplatform.com/timesheets/"+t+"/auditreport","_blank"):window.open("https://api.samotplatform.com/Organization/timesheets/"+t+"/auditreport","_blank")}isAllSelected(){return this.selection.selected.length===this.dataSource.data.length}applyFilter(t){this.dataSource.filter=t.target.value.trim().toLowerCase()}toggleAllRows(){this.isAllSelected()?this.selection.clear():this.selection.select(...this.dataSource.data)}openToolbar(){document.getElementById("toolBar").style.display=this.selection.selected.length>0?"block":"none",document.getElementById("tool-bar-edit").style.display=this.selection.selected.length>1?"none":"block"}checkboxLabel(t){if(!t)return(this.isAllSelected()?"deselect":"select")+" all";const o=this.dataSource.data.indexOf(t)+1;return`${this.selection.isSelected(t)?"deselect":"select"} row ${o}`}openForm(t){this.dialog.open(ia.o,{width:"880px",data:t})}announceSortChange(t){this._liveAnnouncer.announce(t.direction?`Sorted ${t.direction}ending`:"Sorting cleared")}getStatusText(t){switch(t){case 1:return"Pending For Client Approval";case 2:return"Pending";case 3:return"Client DisApproved";case 4:return"Completed";case 5:return"DisApproved";default:return"Unknown"}}handlePage(t){}handleCheckboxChange(t){this.selections.toggle(t),this.selectedRow=this.selections.selected.length>0?this.selections.selected[0]:void 0,console.log("Selected:",this.selectedRow)}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(M.Kd),e.Y36(q.D),e.Y36(O.ux),e.Y36(m.uw),e.Y36(v.eN),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-audit-logs"]],viewQuery:function(o,n){if(1&o&&(e.Gf(w.NW,5),e.Gf(T.YE,5)),2&o){let a;e.iGM(a=e.CRH())&&(n.paginator=a.first),e.iGM(a=e.CRH())&&(n.sort=a.first)}},decls:55,vars:10,consts:[[1,"main-content"],["class","overlay",4,"ngIf"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[2,"display","inline-block"],[1,"card-title","mt-0"],[2,"float","right","padding","0px","display","flex"],[2,"padding-right","13px"],["id","roles-drop"],["id","rolesdown"],[1,"role-set"],["disableRipple","",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"card-body"],[1,"table-responsive"],[1,"mat-elevation-z8"],["mat-table","",1,"table","table-hover",3,"dataSource"],["matColumnDef","id"],["class","head-id","mat-header-cell","","style","padding-left: 20px;",4,"matHeaderCellDef"],["mat-cell","","style","padding-left: 20px;",4,"matCellDef"],["matColumnDef","Type"],["class","head-id","mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","Period"],["matColumnDef","Status"],["mat-header-cell","","class","head-id",4,"matHeaderCellDef"],["mat-cell","","class","app-id",4,"matCellDef"],["matColumnDef","SubTotal"],["mat-cell","","class","app-id","style","cursor: pointer",4,"matCellDef"],["matColumnDef","view"],["mat-cell","","class","app-id","style","cursor: pointer;padding-left: 14px;",4,"matCellDef"],["matColumnDef","download"],["mat-cell","","class","app-id","style","cursor: pointer;padding-left: 50px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef"],["class","mat-row","mat-row","",3,"selected-row",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of Employee",3,"pageSizeOptions"],[1,"overlay"],[1,"loader"],[3,"value"],["mat-header-cell","",1,"head-id",2,"padding-left","20px"],["mat-cell","",2,"padding-left","20px"],["mat-header-cell","",1,"head-id"],["mat-cell",""],[4,"ngIf"],["mat-cell","",1,"app-id"],["mat-cell","",1,"app-id",2,"cursor","pointer"],["mat-cell","",1,"app-id",2,"cursor","pointer","padding-left","14px"],[1,"material-icons",2,"cursor","pointer",3,"click"],["mat-cell","",1,"app-id",2,"cursor","pointer","padding-left","50px"],["mat-header-row",""],["mat-row","",1,"mat-row"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.YNc(1,aa,2,0,"div",1),e.TgZ(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"h4",8),e._uU(9,"AuditLogs"),e.qZA()(),e.TgZ(10,"div",9)(11,"div",10)(12,"form",11)(13,"mat-form-field",12)(14,"mat-label",13),e._uU(15,"Organization"),e.qZA(),e.TgZ(16,"mat-select",14),e.NdJ("ngModelChange",function(r){return n.dataService.organization=r})("selectionChange",function(){return n.getOrgUnit()}),e.YNc(17,sa,2,2,"mat-option",15),e.qZA()()()(),e.TgZ(18,"div")(19,"form",11)(20,"mat-form-field",12)(21,"mat-label",13),e._uU(22,"OrgUnit"),e.qZA(),e.TgZ(23,"mat-select",14),e.NdJ("ngModelChange",function(r){return n.dataService.selectedOrganizationUnit=r})("selectionChange",function(){return n.getTimeSheet()}),e.YNc(24,ra,2,2,"mat-option",15),e.TgZ(25,"mat-option"),e._uU(26,"None"),e.qZA()()()()()()(),e.TgZ(27,"div",16)(28,"div",17)(29,"div",18)(30,"table",19),e.ynx(31,20),e.YNc(32,la,2,0,"th",21),e.YNc(33,ca,2,1,"td",22),e.BQk(),e.ynx(34,23),e.YNc(35,da,2,0,"th",24),e.YNc(36,ha,3,2,"td",25),e.BQk(),e.ynx(37,26),e.YNc(38,ga,2,0,"th",24),e.YNc(39,ua,4,8,"td",25),e.BQk(),e.ynx(40,27),e.YNc(41,fa,2,0,"th",28),e.YNc(42,_a,3,1,"td",29),e.BQk(),e.ynx(43,30),e.YNc(44,xa,2,0,"th",28),e.YNc(45,ba,3,4,"td",31),e.BQk(),e.ynx(46,32),e.YNc(47,Ca,2,0,"th",28),e.YNc(48,ya,3,0,"td",33),e.BQk(),e.ynx(49,34),e.YNc(50,va,2,0,"th",28),e.YNc(51,Ta,3,0,"td",35),e.BQk(),e.YNc(52,wa,1,0,"tr",36),e.YNc(53,ka,1,2,"tr",37),e.qZA(),e._UZ(54,"mat-paginator",38),e.qZA()()()()()()()()),2&o&&(e.xp6(1),e.Q6J("ngIf",n.loading),e.xp6(15),e.Q6J("ngModel",n.dataService.organization),e.xp6(1),e.Q6J("ngForOf",n.Organizations),e.xp6(6),e.Q6J("ngModel",n.dataService.selectedOrganizationUnit),e.xp6(1),e.Q6J("ngForOf",n.OrganizationUnit),e.xp6(6),e.Q6J("dataSource",n.dataSource),e.xp6(22),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(9,Sa)))},dependencies:[u.sg,u.O5,x.KE,x.hX,Z.gD,P.ey,c.BZ,c.fO,c.as,c.w1,c.Dz,c.nj,c.ge,c.ev,c.XQ,c.Gk,d._Y,d.JJ,d.JL,d.On,d.F,w.NW,D.Hw,u.H9,u.uU],styles:[".create[_ngcontent-%COMP%]{display:flex;justify-content:end}.create[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer}.tool-bar[_ngcontent-%COMP%]{align-items:center!important;position:absolute;background-color:#00b2e2;z-index:6;width:100%;top:0;left:0;height:75px;display:none}.tool-bar-block[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.tool-bar-options[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:15px;margin-right:6px}#tool-bar-edit[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:22px;height:22px;cursor:pointer;margin-right:35px;display:block}.tool-bar-delete[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:20px;height:20px;cursor:pointer}.tool-bar-num[_ngcontent-%COMP%]{color:#231f20;margin-left:11px;width:30px;padding-top:15px}table[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]{background-color:#fff;font-family:Roboto,Helvetica,Arial,Helvetica,sans-serif}  .card-body .table-responsive table th.mat-header-cell{height:48px;line-height:48px;padding:0}  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:203px!important;height:51px!important;border-radius:7px!important}  #roles-drop .mat-mdc-form-field-subscript-wrapper{box-sizing:border-box;width:100%;position:relative;height:0}  .card-body .table-responsive table td.mat-cell{height:48px;line-height:48px;padding:30px}  .mat-mdc-table .mat-mdc-header-cell{background:inherit;height:48px!important;font-size:14px;font-weight:700!important;font-family:popins,sans-serif}.animate[_ngcontent-%COMP%]{transition:all .1s;-webkit-transition:all .1s}.action-button[_ngcontent-%COMP%]{position:relative;padding:3px 9px;margin:0 10px 10px 0;float:left;border-radius:10px;font-family:Poppins,sans-serif;font-size:12px;color:#fff;text-decoration:none}.blue[_ngcontent-%COMP%]{background-color:#3498db;border-bottom:5px solid #2980B9;text-shadow:0px -2px #2980B9;border-style:none}.red[_ngcontent-%COMP%]{background-color:#e74c3c;border-bottom:5px solid #BD3E31;text-shadow:0px -2px #BD3E31;border:none}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.approved[_ngcontent-%COMP%]{color:green}.rejected[_ngcontent-%COMP%]{color:red}.unknown[_ngcontent-%COMP%]{color:#000}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:999}.loader[_ngcontent-%COMP%]{border:5px solid #f3f3f3;border-top:5px solid #00b2e2;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media only screen and (max-width: 900px){  #roles-drop .mat-mdc-form-field-type-mat-select:not(.mat-form-field-disabled) .mat-mdc-text-field-wrapper{cursor:pointer;width:150px!important;height:51px!important;border-radius:7px!important}}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background, .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[_ngcontent-%COMP%]:enabled:indeterminate ~ .mdc-checkbox__background[_ngcontent-%COMP%], .mdc-checkbox[_ngcontent-%COMP%]   .mdc-checkbox__native-control[data-indeterminate=true][_ngcontent-%COMP%]:enabled ~ .mdc-checkbox__background[_ngcontent-%COMP%]{border-color:#00b2e2!important;background-color:#00b2e2!important}  .main-content .mdc-checkbox .mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:#00b2e2!important;background-color:#00b2e2!important}"]})}return i})()},{path:"invoices",component:mo},{path:"departments",component:oa},{path:"profile",component:Ke.t}]}];let Za=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[C.Bz.forChild(Aa),C.Bz]})}return i})();var Ma=g(9038);let Pa=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#o=this.\u0275inj=e.cJS({imports:[P.XK,A.FA,z.p9,O.ZX,u.ez,I.c,T.JX,R.g0,oe.QW,Ma.ie,Z.LD,m.Is,c.p0,d.u5,d.UX,Za,j.Bb,w.TU,S.ot,x.lN,v.JF,H.Nh,D.Ps]})}return i})()}}]);